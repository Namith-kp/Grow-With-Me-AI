var qW=Object.defineProperty,zW=Object.defineProperties;var $W=Object.getOwnPropertyDescriptors;var Gv=Object.getOwnPropertySymbols,GW=Object.getPrototypeOf,WD=Object.prototype.hasOwnProperty,YD=Object.prototype.propertyIsEnumerable,HW=Reflect.get;var ll=Math.pow,AT=(t,e,n)=>e in t?qW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Y=(t,e)=>{for(var n in e||(e={}))WD.call(e,n)&&AT(t,n,e[n]);if(Gv)for(var n of Gv(e))YD.call(e,n)&&AT(t,n,e[n]);return t},xe=(t,e)=>zW(t,$W(e));var kr=(t,e)=>{var n={};for(var r in t)WD.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Gv)for(var r of Gv(t))e.indexOf(r)<0&&YD.call(t,r)&&(n[r]=t[r]);return n};var KW=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var CT=(t,e,n)=>AT(t,typeof e!="symbol"?e+"":e,n);var Jo=(t,e,n)=>HW(GW(t),n,e);var P=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{l(n.next(u))}catch(d){i(d)}},o=u=>{try{l(n.throw(u))}catch(d){i(d)}},l=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);l((n=n.apply(t,e)).next())});import kf from"../node_modules/d3-format/src/exponent.js";var kke=KW(Me=>{function WW(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Eo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var IT={exports:{}},Wm={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JD;function YW(){if(JD)return Wm;JD=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var o=null;if(s!==void 0&&(o=""+s),i.key!==void 0&&(o=""+i.key),"key"in i){s={};for(var l in i)l!=="key"&&(s[l]=i[l])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:s}}return Wm.Fragment=e,Wm.jsx=n,Wm.jsxs=n,Wm}var QD;function JW(){return QD||(QD=1,IT.exports=YW()),IT.exports}var x=JW(),RT={exports:{}},ut={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XD;function QW(){if(XD)return ut;XD=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;function v(K){return K===null||typeof K!="object"?null:(K=m&&K[m]||K["@@iterator"],typeof K=="function"?K:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,S={};function A(K,ue,ce){this.props=K,this.context=ue,this.refs=S,this.updater=ce||b}A.prototype.isReactComponent={},A.prototype.setState=function(K,ue){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,ue,"setState")},A.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function C(){}C.prototype=A.prototype;function D(K,ue,ce){this.props=K,this.context=ue,this.refs=S,this.updater=ce||b}var N=D.prototype=new C;N.constructor=D,T(N,A.prototype),N.isPureReactComponent=!0;var F=Array.isArray,V={H:null,A:null,T:null,S:null,V:null},B=Object.prototype.hasOwnProperty;function k(K,ue,ce,fe,Ce,Ve){return ce=Ve.ref,{$$typeof:t,type:K,key:ue,ref:ce!==void 0?ce:null,props:Ve}}function R(K,ue){return k(K.type,ue,void 0,void 0,void 0,K.props)}function O(K){return typeof K=="object"&&K!==null&&K.$$typeof===t}function j(K){var ue={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(ce){return ue[ce]})}var q=/\/+/g;function H(K,ue){return typeof K=="object"&&K!==null&&K.key!=null?j(""+K.key):ue.toString(36)}function G(){}function he(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(G,G):(K.status="pending",K.then(function(ue){K.status==="pending"&&(K.status="fulfilled",K.value=ue)},function(ue){K.status==="pending"&&(K.status="rejected",K.reason=ue)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function we(K,ue,ce,fe,Ce){var Ve=typeof K;(Ve==="undefined"||Ve==="boolean")&&(K=null);var $e=!1;if(K===null)$e=!0;else switch(Ve){case"bigint":case"string":case"number":$e=!0;break;case"object":switch(K.$$typeof){case t:case e:$e=!0;break;case f:return $e=K._init,we($e(K._payload),ue,ce,fe,Ce)}}if($e)return Ce=Ce(K),$e=fe===""?"."+H(K,0):fe,F(Ce)?(ce="",$e!=null&&(ce=$e.replace(q,"$&/")+"/"),we(Ce,ue,ce,"",function(Ae){return Ae})):Ce!=null&&(O(Ce)&&(Ce=R(Ce,ce+(Ce.key==null||K&&K.key===Ce.key?"":(""+Ce.key).replace(q,"$&/")+"/")+$e)),ue.push(Ce)),1;$e=0;var _e=fe===""?".":fe+":";if(F(K))for(var ct=0;ct<K.length;ct++)fe=K[ct],Ve=_e+H(fe,ct),$e+=we(fe,ue,ce,Ve,Ce);else if(ct=v(K),typeof ct=="function")for(K=ct.call(K),ct=0;!(fe=K.next()).done;)fe=fe.value,Ve=_e+H(fe,ct++),$e+=we(fe,ue,ce,Ve,Ce);else if(Ve==="object"){if(typeof K.then=="function")return we(he(K),ue,ce,fe,Ce);throw ue=String(K),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.")}return $e}function Q(K,ue,ce){if(K==null)return K;var fe=[],Ce=0;return we(K,fe,"","",function(Ve){return ue.call(ce,Ve,Ce++)}),fe}function ae(K){if(K._status===-1){var ue=K._result;ue=ue(),ue.then(function(ce){(K._status===0||K._status===-1)&&(K._status=1,K._result=ce)},function(ce){(K._status===0||K._status===-1)&&(K._status=2,K._result=ce)}),K._status===-1&&(K._status=0,K._result=ue)}if(K._status===1)return K._result.default;throw K._result}var Z=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ue=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(ue))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)};function Ee(){}return ut.Children={map:Q,forEach:function(K,ue,ce){Q(K,function(){ue.apply(this,arguments)},ce)},count:function(K){var ue=0;return Q(K,function(){ue++}),ue},toArray:function(K){return Q(K,function(ue){return ue})||[]},only:function(K){if(!O(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},ut.Component=A,ut.Fragment=n,ut.Profiler=i,ut.PureComponent=D,ut.StrictMode=r,ut.Suspense=u,ut.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,ut.__COMPILER_RUNTIME={__proto__:null,c:function(K){return V.H.useMemoCache(K)}},ut.cache=function(K){return function(){return K.apply(null,arguments)}},ut.cloneElement=function(K,ue,ce){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var fe=T({},K.props),Ce=K.key,Ve=void 0;if(ue!=null)for($e in ue.ref!==void 0&&(Ve=void 0),ue.key!==void 0&&(Ce=""+ue.key),ue)!B.call(ue,$e)||$e==="key"||$e==="__self"||$e==="__source"||$e==="ref"&&ue.ref===void 0||(fe[$e]=ue[$e]);var $e=arguments.length-2;if($e===1)fe.children=ce;else if(1<$e){for(var _e=Array($e),ct=0;ct<$e;ct++)_e[ct]=arguments[ct+2];fe.children=_e}return k(K.type,Ce,void 0,void 0,Ve,fe)},ut.createContext=function(K){return K={$$typeof:o,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:s,_context:K},K},ut.createElement=function(K,ue,ce){var fe,Ce={},Ve=null;if(ue!=null)for(fe in ue.key!==void 0&&(Ve=""+ue.key),ue)B.call(ue,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Ce[fe]=ue[fe]);var $e=arguments.length-2;if($e===1)Ce.children=ce;else if(1<$e){for(var _e=Array($e),ct=0;ct<$e;ct++)_e[ct]=arguments[ct+2];Ce.children=_e}if(K&&K.defaultProps)for(fe in $e=K.defaultProps,$e)Ce[fe]===void 0&&(Ce[fe]=$e[fe]);return k(K,Ve,void 0,void 0,null,Ce)},ut.createRef=function(){return{current:null}},ut.forwardRef=function(K){return{$$typeof:l,render:K}},ut.isValidElement=O,ut.lazy=function(K){return{$$typeof:f,_payload:{_status:-1,_result:K},_init:ae}},ut.memo=function(K,ue){return{$$typeof:d,type:K,compare:ue===void 0?null:ue}},ut.startTransition=function(K){var ue=V.T,ce={};V.T=ce;try{var fe=K(),Ce=V.S;Ce!==null&&Ce(ce,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(Ee,Z)}catch(Ve){Z(Ve)}finally{V.T=ue}},ut.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},ut.use=function(K){return V.H.use(K)},ut.useActionState=function(K,ue,ce){return V.H.useActionState(K,ue,ce)},ut.useCallback=function(K,ue){return V.H.useCallback(K,ue)},ut.useContext=function(K){return V.H.useContext(K)},ut.useDebugValue=function(){},ut.useDeferredValue=function(K,ue){return V.H.useDeferredValue(K,ue)},ut.useEffect=function(K,ue,ce){var fe=V.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return fe.useEffect(K,ue)},ut.useId=function(){return V.H.useId()},ut.useImperativeHandle=function(K,ue,ce){return V.H.useImperativeHandle(K,ue,ce)},ut.useInsertionEffect=function(K,ue){return V.H.useInsertionEffect(K,ue)},ut.useLayoutEffect=function(K,ue){return V.H.useLayoutEffect(K,ue)},ut.useMemo=function(K,ue){return V.H.useMemo(K,ue)},ut.useOptimistic=function(K,ue){return V.H.useOptimistic(K,ue)},ut.useReducer=function(K,ue,ce){return V.H.useReducer(K,ue,ce)},ut.useRef=function(K){return V.H.useRef(K)},ut.useState=function(K){return V.H.useState(K)},ut.useSyncExternalStore=function(K,ue,ce){return V.H.useSyncExternalStore(K,ue,ce)},ut.useTransition=function(){return V.H.useTransition()},ut.version="19.1.1",ut}var ZD;function hh(){return ZD||(ZD=1,RT.exports=QW()),RT.exports}var M=hh();const Ec=Eo(M),XW=WW({__proto__:null,default:Ec},[M]);var PT={exports:{}},Ym={},NT={exports:{}},MT={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ek;function ZW(){return ek||(ek=1,(function(t){function e(Q,ae){var Z=Q.length;Q.push(ae);e:for(;0<Z;){var Ee=Z-1>>>1,K=Q[Ee];if(0<i(K,ae))Q[Ee]=ae,Q[Z]=K,Z=Ee;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var ae=Q[0],Z=Q.pop();if(Z!==ae){Q[0]=Z;e:for(var Ee=0,K=Q.length,ue=K>>>1;Ee<ue;){var ce=2*(Ee+1)-1,fe=Q[ce],Ce=ce+1,Ve=Q[Ce];if(0>i(fe,Z))Ce<K&&0>i(Ve,fe)?(Q[Ee]=Ve,Q[Ce]=Z,Ee=Ce):(Q[Ee]=fe,Q[ce]=Z,Ee=ce);else if(Ce<K&&0>i(Ve,Z))Q[Ee]=Ve,Q[Ce]=Z,Ee=Ce;else break e}}return ae}function i(Q,ae){var Z=Q.sortIndex-ae.sortIndex;return Z!==0?Z:Q.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],d=[],f=1,m=null,v=3,b=!1,T=!1,S=!1,A=!1,C=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate!="undefined"?setImmediate:null;function F(Q){for(var ae=n(d);ae!==null;){if(ae.callback===null)r(d);else if(ae.startTime<=Q)r(d),ae.sortIndex=ae.expirationTime,e(u,ae);else break;ae=n(d)}}function V(Q){if(S=!1,F(Q),!T)if(n(u)!==null)T=!0,B||(B=!0,H());else{var ae=n(d);ae!==null&&we(V,ae.startTime-Q)}}var B=!1,k=-1,R=5,O=-1;function j(){return A?!0:!(t.unstable_now()-O<R)}function q(){if(A=!1,B){var Q=t.unstable_now();O=Q;var ae=!0;try{e:{T=!1,S&&(S=!1,D(k),k=-1),b=!0;var Z=v;try{t:{for(F(Q),m=n(u);m!==null&&!(m.expirationTime>Q&&j());){var Ee=m.callback;if(typeof Ee=="function"){m.callback=null,v=m.priorityLevel;var K=Ee(m.expirationTime<=Q);if(Q=t.unstable_now(),typeof K=="function"){m.callback=K,F(Q),ae=!0;break t}m===n(u)&&r(u),F(Q)}else r(u);m=n(u)}if(m!==null)ae=!0;else{var ue=n(d);ue!==null&&we(V,ue.startTime-Q),ae=!1}}break e}finally{m=null,v=Z,b=!1}ae=void 0}}finally{ae?H():B=!1}}}var H;if(typeof N=="function")H=function(){N(q)};else if(typeof MessageChannel!="undefined"){var G=new MessageChannel,he=G.port2;G.port1.onmessage=q,H=function(){he.postMessage(null)}}else H=function(){C(q,0)};function we(Q,ae){k=C(function(){Q(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(Q){switch(v){case 1:case 2:case 3:var ae=3;break;default:ae=v}var Z=v;v=ae;try{return Q()}finally{v=Z}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(Q,ae){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var Z=v;v=Q;try{return ae()}finally{v=Z}},t.unstable_scheduleCallback=function(Q,ae,Z){var Ee=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?Ee+Z:Ee):Z=Ee,Q){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=Z+K,Q={id:f++,callback:ae,priorityLevel:Q,startTime:Z,expirationTime:K,sortIndex:-1},Z>Ee?(Q.sortIndex=Z,e(d,Q),n(u)===null&&Q===n(d)&&(S?(D(k),k=-1):S=!0,we(V,Z-Ee))):(Q.sortIndex=K,e(u,Q),T||b||(T=!0,B||(B=!0,H()))),Q},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(Q){var ae=v;return function(){var Z=v;v=ae;try{return Q.apply(this,arguments)}finally{v=Z}}}})(MT)),MT}var tk;function eY(){return tk||(tk=1,NT.exports=ZW()),NT.exports}var DT={exports:{}},Or={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nk;function tY(){if(nk)return Or;nk=1;var t=hh();function e(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(u,d,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:u,containerInfo:d,implementation:f}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Or.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Or.createPortal=function(u,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(u,d,null,f)},Or.flushSync=function(u){var d=o.T,f=r.p;try{if(o.T=null,r.p=2,u)return u()}finally{o.T=d,r.p=f,r.d.f()}},Or.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(u,d))},Or.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Or.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var f=d.as,m=l(f,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?r.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:b}):f==="script"&&r.d.X(u,{crossOrigin:m,integrity:v,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Or.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=l(d.as,d.crossOrigin);r.d.M(u,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(u)},Or.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,m=l(f,d.crossOrigin);r.d.L(u,f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Or.preloadModule=function(u,d){if(typeof u=="string")if(d){var f=l(d.as,d.crossOrigin);r.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(u)},Or.requestFormReset=function(u){r.d.r(u)},Or.unstable_batchedUpdates=function(u,d){return u(d)},Or.useFormState=function(u,d,f){return o.H.useFormState(u,d,f)},Or.useFormStatus=function(){return o.H.useHostTransitionStatus()},Or.version="19.1.1",Or}var rk;function aj(){if(rk)return DT.exports;rk=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),DT.exports=tY(),DT.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ik;function nY(){if(ik)return Ym;ik=1;var t=eY(),e=hh(),n=aj();function r(a){var c="https://react.dev/errors/"+a;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var c=a,h=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(h=c.return),a=c.return;while(a)}return c.tag===3?h:null}function o(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function l(a){if(s(a)!==a)throw Error(r(188))}function u(a){var c=a.alternate;if(!c){if(c=s(a),c===null)throw Error(r(188));return c!==a?null:a}for(var h=a,y=c;;){var _=h.return;if(_===null)break;var E=_.alternate;if(E===null){if(y=_.return,y!==null){h=y;continue}break}if(_.child===E.child){for(E=_.child;E;){if(E===h)return l(_),a;if(E===y)return l(_),c;E=E.sibling}throw Error(r(188))}if(h.return!==y.return)h=_,y=E;else{for(var U=!1,z=_.child;z;){if(z===h){U=!0,h=_,y=E;break}if(z===y){U=!0,y=_,h=E;break}z=z.sibling}if(!U){for(z=E.child;z;){if(z===h){U=!0,h=E,y=_;break}if(z===y){U=!0,y=E,h=_;break}z=z.sibling}if(!U)throw Error(r(189))}}if(h.alternate!==y)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?a:c}function d(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a;for(a=a.child;a!==null;){if(c=d(a),c!==null)return c;a=a.sibling}return null}var f=Object.assign,m=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),N=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function H(a){return a===null||typeof a!="object"?null:(a=q&&a[q]||a["@@iterator"],typeof a=="function"?a:null)}var G=Symbol.for("react.client.reference");function he(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===G?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case T:return"Fragment";case A:return"Profiler";case S:return"StrictMode";case V:return"Suspense";case B:return"SuspenseList";case O:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case N:return(a.displayName||"Context")+".Provider";case D:return(a._context.displayName||"Context")+".Consumer";case F:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case k:return c=a.displayName||null,c!==null?c:he(a.type)||"Memo";case R:c=a._payload,a=a._init;try{return he(a(c))}catch(h){}}return null}var we=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},Ee=[],K=-1;function ue(a){return{current:a}}function ce(a){0>K||(a.current=Ee[K],Ee[K]=null,K--)}function fe(a,c){K++,Ee[K]=a.current,a.current=c}var Ce=ue(null),Ve=ue(null),$e=ue(null),_e=ue(null);function ct(a,c){switch(fe($e,c),fe(Ve,a),fe(Ce,null),c.nodeType){case 9:case 11:a=(a=c.documentElement)&&(a=a.namespaceURI)?_D(a):0;break;default:if(a=c.tagName,c=c.namespaceURI)c=_D(c),a=TD(c,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ce(Ce),fe(Ce,a)}function Ae(){ce(Ce),ce(Ve),ce($e)}function Se(a){a.memoizedState!==null&&fe(_e,a);var c=Ce.current,h=TD(c,a.type);c!==h&&(fe(Ve,a),fe(Ce,h))}function ke(a){Ve.current===a&&(ce(Ce),ce(Ve)),_e.current===a&&(ce(_e),zm._currentValue=Z)}var de=Object.prototype.hasOwnProperty,Mt=t.unstable_scheduleCallback,lt=t.unstable_cancelCallback,Xt=t.unstable_shouldYield,hn=t.unstable_requestPaint,mn=t.unstable_now,Na=t.unstable_getCurrentPriorityLevel,cu=t.unstable_ImmediatePriority,ji=t.unstable_UserBlockingPriority,pn=t.unstable_NormalPriority,ed=t.unstable_LowPriority,Ma=t.unstable_IdlePriority,du=t.log,td=t.unstable_setDisableYieldValue,Zt=null,Rt=null;function ir(a){if(typeof du=="function"&&td(a),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(Zt,a)}catch(c){}}var sr=Math.clz32?Math.clz32:Vs,Da=Math.log,Gh=Math.LN2;function Vs(a){return a>>>=0,a===0?32:31-(Da(a)/Gh|0)|0}var So=256,Ue=4194304;function Ye(a){var c=a&42;if(c!==0)return c;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Ze(a,c,h){var y=a.pendingLanes;if(y===0)return 0;var _=0,E=a.suspendedLanes,U=a.pingedLanes;a=a.warmLanes;var z=y&134217727;return z!==0?(y=z&~E,y!==0?_=Ye(y):(U&=z,U!==0?_=Ye(U):h||(h=z&~a,h!==0&&(_=Ye(h))))):(z=y&~E,z!==0?_=Ye(z):U!==0?_=Ye(U):h||(h=y&~a,h!==0&&(_=Ye(h)))),_===0?0:c!==0&&c!==_&&(c&E)===0&&(E=_&-_,h=c&-c,E>=h||E===32&&(h&4194048)!==0)?c:_}function st(a,c){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&c)===0}function et(a,c){switch(a){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gr(){var a=So;return So<<=1,(So&4194048)===0&&(So=256),a}function pi(){var a=Ue;return Ue<<=1,(Ue&62914560)===0&&(Ue=4194304),a}function gi(a){for(var c=[],h=0;31>h;h++)c.push(a);return c}function Ao(a,c){a.pendingLanes|=c,c!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Hh(a,c,h,y,_,E){var U=a.pendingLanes;a.pendingLanes=h,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=h,a.entangledLanes&=h,a.errorRecoveryDisabledLanes&=h,a.shellSuspendCounter=0;var z=a.entanglements,W=a.expirationTimes,re=a.hiddenUpdates;for(h=U&~h;0<h;){var pe=31-sr(h),ye=1<<pe;z[pe]=0,W[pe]=-1;var ie=re[pe];if(ie!==null)for(re[pe]=null,pe=0;pe<ie.length;pe++){var se=ie[pe];se!==null&&(se.lane&=-536870913)}h&=~ye}y!==0&&Ls(a,y,0),E!==0&&_===0&&a.tag!==0&&(a.suspendedLanes|=E&~(U&~c))}function Ls(a,c,h){a.pendingLanes|=c,a.suspendedLanes&=~c;var y=31-sr(c);a.entangledLanes|=c,a.entanglements[y]=a.entanglements[y]|1073741824|h&4194090}function Kh(a,c){var h=a.entangledLanes|=c;for(a=a.entanglements;h;){var y=31-sr(h),_=1<<y;_&c|a[y]&c&&(a[y]|=c),h&=~_}}function ka(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function nd(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Oa(){var a=ae.p;return a!==0?a:(a=window.event,a===void 0?32:qD(a.type))}function Ey(a,c){var h=ae.p;try{return ae.p=a,c()}finally{ae.p=h}}var sn=Math.random().toString(36).slice(2),Gn="__reactFiber$"+sn,kn="__reactProps$"+sn,Bi="__reactContainer$"+sn,Wh="__reactEvents$"+sn,Rw="__reactListeners$"+sn,Va="__reactHandles$"+sn,Sy="__reactResources$"+sn,fu="__reactMarker$"+sn;function La(a){delete a[Gn],delete a[kn],delete a[Wh],delete a[Rw],delete a[Va]}function Co(a){var c=a[Gn];if(c)return c;for(var h=a.parentNode;h;){if(c=h[Bi]||h[Gn]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(a=CD(a);a!==null;){if(h=a[Gn])return h;a=CD(a)}return c}a=h,h=a.parentNode}return null}function Us(a){if(a=a[Gn]||a[Bi]){var c=a.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return a}return null}function Fs(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a.stateNode;throw Error(r(33))}function Gr(a){var c=a[Sy];return c||(c=a[Sy]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Cn(a){a[fu]=!0}var Yh=new Set,rd={};function vs(a,c){Io(a,c),Io(a+"Capture",c)}function Io(a,c){for(rd[a]=c,a=0;a<c.length;a++)Yh.add(c[a])}var Ay=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cy={},hu={};function Iy(a){return de.call(hu,a)?!0:de.call(Cy,a)?!1:Ay.test(a)?hu[a]=!0:(Cy[a]=!0,!1)}function Ua(a,c,h){if(Iy(c))if(h===null)a.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":a.removeAttribute(c);return;case"boolean":var y=c.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){a.removeAttribute(c);return}}a.setAttribute(c,""+h)}}function js(a,c,h){if(h===null)a.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttribute(c,""+h)}}function yr(a,c,h,y){if(y===null)a.removeAttribute(h);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(h);return}a.setAttributeNS(c,h,""+y)}}var mu,Ry;function Ro(a){if(mu===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);mu=c&&c[1]||"",Ry=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mu+a+Ry}var id=!1;function sd(a,c){if(!a||id)return"";id=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(c){var ye=function(){throw Error()};if(Object.defineProperty(ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ye,[])}catch(se){var ie=se}Reflect.construct(a,[],ye)}else{try{ye.call()}catch(se){ie=se}a.call(ye.prototype)}}else{try{throw Error()}catch(se){ie=se}(ye=a())&&typeof ye.catch=="function"&&ye.catch(function(){})}}catch(se){if(se&&ie&&typeof se.stack=="string")return[se.stack,ie.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=y.DetermineComponentFrameRoot(),U=E[0],z=E[1];if(U&&z){var W=U.split(`
`),re=z.split(`
`);for(_=y=0;y<W.length&&!W[y].includes("DetermineComponentFrameRoot");)y++;for(;_<re.length&&!re[_].includes("DetermineComponentFrameRoot");)_++;if(y===W.length||_===re.length)for(y=W.length-1,_=re.length-1;1<=y&&0<=_&&W[y]!==re[_];)_--;for(;1<=y&&0<=_;y--,_--)if(W[y]!==re[_]){if(y!==1||_!==1)do if(y--,_--,0>_||W[y]!==re[_]){var pe=`
`+W[y].replace(" at new "," at ");return a.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",a.displayName)),pe}while(1<=y&&0<=_);break}}}finally{id=!1,Error.prepareStackTrace=h}return(h=a?a.displayName||a.name:"")?Ro(h):""}function Jh(a){switch(a.tag){case 26:case 27:case 5:return Ro(a.type);case 16:return Ro("Lazy");case 13:return Ro("Suspense");case 19:return Ro("SuspenseList");case 0:case 15:return sd(a.type,!1);case 11:return sd(a.type.render,!1);case 1:return sd(a.type,!0);case 31:return Ro("Activity");default:return""}}function od(a){try{var c="";do c+=Jh(a),a=a.return;while(a);return c}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function Hr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Qh(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Pw(a){var c=Qh(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),y=""+a[c];if(!a.hasOwnProperty(c)&&typeof h!="undefined"&&typeof h.get=="function"&&typeof h.set=="function"){var _=h.get,E=h.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return _.call(this)},set:function(U){y=""+U,E.call(this,U)}}),Object.defineProperty(a,c,{enumerable:h.enumerable}),{getValue:function(){return y},setValue:function(U){y=""+U},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function ad(a){a._valueTracker||(a._valueTracker=Pw(a))}function Xh(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var h=c.getValue(),y="";return a&&(y=Qh(a)?a.checked?"true":"false":a.value),a=y,a!==h?(c.setValue(a),!0):!1}function pu(a){if(a=a||(typeof document!="undefined"?document:void 0),typeof a=="undefined")return null;try{return a.activeElement||a.body}catch(c){return a.body}}var Nw=/[\n"\\]/g;function On(a){return a.replace(Nw,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function yi(a,c,h,y,_,E,U,z){a.name="",U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?a.type=U:a.removeAttribute("type"),c!=null?U==="number"?(c===0&&a.value===""||a.value!=c)&&(a.value=""+Hr(c)):a.value!==""+Hr(c)&&(a.value=""+Hr(c)):U!=="submit"&&U!=="reset"||a.removeAttribute("value"),c!=null?Fa(a,U,Hr(c)):h!=null?Fa(a,U,Hr(h)):y!=null&&a.removeAttribute("value"),_==null&&E!=null&&(a.defaultChecked=!!E),_!=null&&(a.checked=_&&typeof _!="function"&&typeof _!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?a.name=""+Hr(z):a.removeAttribute("name")}function gu(a,c,h,y,_,E,U,z){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(a.type=E),c!=null||h!=null){if(!(E!=="submit"&&E!=="reset"||c!=null))return;h=h!=null?""+Hr(h):"",c=c!=null?""+Hr(c):h,z||c===a.value||(a.value=c),a.defaultValue=c}y=y!=null?y:_,y=typeof y!="function"&&typeof y!="symbol"&&!!y,a.checked=z?a.checked:!!y,a.defaultChecked=!!y,U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(a.name=U)}function Fa(a,c,h){c==="number"&&pu(a.ownerDocument)===a||a.defaultValue===""+h||(a.defaultValue=""+h)}function Po(a,c,h,y){if(a=a.options,c){c={};for(var _=0;_<h.length;_++)c["$"+h[_]]=!0;for(h=0;h<a.length;h++)_=c.hasOwnProperty("$"+a[h].value),a[h].selected!==_&&(a[h].selected=_),_&&y&&(a[h].defaultSelected=!0)}else{for(h=""+Hr(h),c=null,_=0;_<a.length;_++){if(a[_].value===h){a[_].selected=!0,y&&(a[_].defaultSelected=!0);return}c!==null||a[_].disabled||(c=a[_])}c!==null&&(c.selected=!0)}}function Bt(a,c,h){if(c!=null&&(c=""+Hr(c),c!==a.value&&(a.value=c),h==null)){a.defaultValue!==c&&(a.defaultValue=c);return}a.defaultValue=h!=null?""+Hr(h):""}function yu(a,c,h,y){if(c==null){if(y!=null){if(h!=null)throw Error(r(92));if(we(y)){if(1<y.length)throw Error(r(93));y=y[0]}h=y}h==null&&(h=""),c=h}h=Hr(c),a.defaultValue=h,y=a.textContent,y===h&&y!==""&&y!==null&&(a.value=y)}function qi(a,c){if(c){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=c;return}}a.textContent=c}var vu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Py(a,c,h){var y=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?y?a.setProperty(c,""):c==="float"?a.cssFloat="":a[c]="":y?a.setProperty(c,h):typeof h!="number"||h===0||vu.has(c)?c==="float"?a.cssFloat=h:a[c]=(""+h).trim():a[c]=h+"px"}function Zh(a,c,h){if(c!=null&&typeof c!="object")throw Error(r(62));if(a=a.style,h!=null){for(var y in h)!h.hasOwnProperty(y)||c!=null&&c.hasOwnProperty(y)||(y.indexOf("--")===0?a.setProperty(y,""):y==="float"?a.cssFloat="":a[y]="");for(var _ in c)y=c[_],c.hasOwnProperty(_)&&h[_]!==y&&Py(a,_,y)}else for(var E in c)c.hasOwnProperty(E)&&Py(a,E,c[E])}function em(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ld(a){return Dw.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var No=null;function zi(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Mo=null,Do=null;function tm(a){var c=Us(a);if(c&&(a=c.stateNode)){var h=a[kn]||null;e:switch(a=c.stateNode,c.type){case"input":if(yi(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+On(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var y=h[c];if(y!==a&&y.form===a.form){var _=y[kn]||null;if(!_)throw Error(r(90));yi(y,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(c=0;c<h.length;c++)y=h[c],y.form===a.form&&Xh(y)}break e;case"textarea":Bt(a,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&Po(a,!!h.multiple,c,!1)}}}var Bs=!1;function Ny(a,c,h){if(Bs)return a(c,h);Bs=!0;try{var y=a(c);return y}finally{if(Bs=!1,(Mo!==null||Do!==null)&&(Ev(),Mo&&(c=Mo,a=Do,Do=Mo=null,tm(c),a)))for(c=0;c<a.length;c++)tm(a[c])}}function xu(a,c){var h=a.stateNode;if(h===null)return null;var y=h[kn]||null;if(y===null)return null;h=y[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(a=a.type,y=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!y;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(r(231,c,typeof h));return h}var xs=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),$i=!1;if(xs)try{var bu={};Object.defineProperty(bu,"passive",{get:function(){$i=!0}}),window.addEventListener("test",bu,bu),window.removeEventListener("test",bu,bu)}catch(a){$i=!1}var qs=null,ja=null,ko=null;function nm(){if(ko)return ko;var a,c=ja,h=c.length,y,_="value"in qs?qs.value:qs.textContent,E=_.length;for(a=0;a<h&&c[a]===_[a];a++);var U=h-a;for(y=1;y<=U&&c[h-y]===_[E-y];y++);return ko=_.slice(a,1<y?1-y:void 0)}function zs(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function $s(){return!0}function rm(){return!1}function or(a){function c(h,y,_,E,U){this._reactName=h,this._targetInst=_,this.type=y,this.nativeEvent=E,this.target=U,this.currentTarget=null;for(var z in a)a.hasOwnProperty(z)&&(h=a[z],this[z]=h?h(E):E[z]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?$s:rm,this.isPropagationStopped=rm,this}return f(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=$s)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=$s)},persist:function(){},isPersistent:$s}),c}var Dt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ud=or(Dt),wu=f({},Dt,{view:0,detail:0}),My=or(wu),cd,dd,Gs,_u=f({},wu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Su,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Gs&&(Gs&&a.type==="mousemove"?(cd=a.screenX-Gs.screenX,dd=a.screenY-Gs.screenY):dd=cd=0,Gs=a),cd)},movementY:function(a){return"movementY"in a?a.movementY:dd}}),Gi=or(_u),Dy=f({},_u,{dataTransfer:0}),kw=or(Dy),Tu=f({},wu,{relatedTarget:0}),fd=or(Tu),im=f({},Dt,{animationName:0,elapsedTime:0,pseudoElement:0}),hd=or(im),ky=f({},Dt,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),md=or(ky),Ow=f({},Dt,{data:0}),sm=or(Ow),Eu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function om(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=Vy[a])?!!c[a]:!1}function Su(){return om}var Ly=f({},wu,{key:function(a){if(a.key){var c=Eu[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=zs(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Oy[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Su,charCode:function(a){return a.type==="keypress"?zs(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?zs(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),pd=or(Ly),Uy=f({},_u,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),am=or(Uy),Oo=f({},wu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Su}),Fy=or(Oo),jy=f({},Dt,{propertyName:0,elapsedTime:0,pseudoElement:0}),By=or(jy),qy=f({},_u,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),gd=or(qy),Kr=f({},Dt,{newState:0,oldState:0}),zy=or(Kr),$y=[9,13,27,32],Hs=xs&&"CompositionEvent"in window,w=null;xs&&"documentMode"in document&&(w=document.documentMode);var I=xs&&"TextEvent"in window&&!w,L=xs&&(!Hs||w&&8<w&&11>=w),$=" ",ee=!1;function le(a,c){switch(a){case"keyup":return $y.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Re(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var bt=!1;function Hn(a,c){switch(a){case"compositionend":return Re(c);case"keypress":return c.which!==32?null:(ee=!0,$);case"textInput":return a=c.data,a===$&&ee?null:a;default:return null}}function wt(a,c){if(bt)return a==="compositionend"||!Hs&&le(a,c)?(a=nm(),ko=ja=qs=null,bt=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return L&&c.locale!=="ko"?null:c.data;default:return null}}var ar={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!ar[a.type]:c==="textarea"}function Vo(a,c,h,y){Mo?Do?Do.push(y):Do=[y]:Mo=y,c=Pv(c,"onChange"),0<c.length&&(h=new ud("onChange","change",null,h,y),a.push({event:h,listeners:c}))}var vr=null,Ks=null;function lm(a){yD(a,0)}function Gy(a){var c=Fs(a);if(Xh(c))return a}function UN(a,c){if(a==="change")return c}var FN=!1;if(xs){var Vw;if(xs){var Lw="oninput"in document;if(!Lw){var jN=document.createElement("div");jN.setAttribute("oninput","return;"),Lw=typeof jN.oninput=="function"}Vw=Lw}else Vw=!1;FN=Vw&&(!document.documentMode||9<document.documentMode)}function BN(){vr&&(vr.detachEvent("onpropertychange",qN),Ks=vr=null)}function qN(a){if(a.propertyName==="value"&&Gy(Ks)){var c=[];Vo(c,Ks,a,zi(a)),Ny(lm,c)}}function vK(a,c,h){a==="focusin"?(BN(),vr=c,Ks=h,vr.attachEvent("onpropertychange",qN)):a==="focusout"&&BN()}function xK(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Gy(Ks)}function bK(a,c){if(a==="click")return Gy(c)}function wK(a,c){if(a==="input"||a==="change")return Gy(c)}function _K(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var vi=typeof Object.is=="function"?Object.is:_K;function um(a,c){if(vi(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var h=Object.keys(a),y=Object.keys(c);if(h.length!==y.length)return!1;for(y=0;y<h.length;y++){var _=h[y];if(!de.call(c,_)||!vi(a[_],c[_]))return!1}return!0}function zN(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function $N(a,c){var h=zN(a);a=0;for(var y;h;){if(h.nodeType===3){if(y=a+h.textContent.length,a<=c&&y>=c)return{node:h,offset:c-a};a=y}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=zN(h)}}function GN(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?GN(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function HN(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var c=pu(a.document);c instanceof a.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch(y){h=!1}if(h)a=c.contentWindow;else break;c=pu(a.document)}return c}function Uw(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}var TK=xs&&"documentMode"in document&&11>=document.documentMode,yd=null,Fw=null,cm=null,jw=!1;function KN(a,c,h){var y=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;jw||yd==null||yd!==pu(y)||(y=yd,"selectionStart"in y&&Uw(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),cm&&um(cm,y)||(cm=y,y=Pv(Fw,"onSelect"),0<y.length&&(c=new ud("onSelect","select",null,c,h),a.push({event:c,listeners:y}),c.target=yd)))}function Au(a,c){var h={};return h[a.toLowerCase()]=c.toLowerCase(),h["Webkit"+a]="webkit"+c,h["Moz"+a]="moz"+c,h}var vd={animationend:Au("Animation","AnimationEnd"),animationiteration:Au("Animation","AnimationIteration"),animationstart:Au("Animation","AnimationStart"),transitionrun:Au("Transition","TransitionRun"),transitionstart:Au("Transition","TransitionStart"),transitioncancel:Au("Transition","TransitionCancel"),transitionend:Au("Transition","TransitionEnd")},Bw={},WN={};xs&&(WN=document.createElement("div").style,"AnimationEvent"in window||(delete vd.animationend.animation,delete vd.animationiteration.animation,delete vd.animationstart.animation),"TransitionEvent"in window||delete vd.transitionend.transition);function Cu(a){if(Bw[a])return Bw[a];if(!vd[a])return a;var c=vd[a],h;for(h in c)if(c.hasOwnProperty(h)&&h in WN)return Bw[a]=c[h];return a}var YN=Cu("animationend"),JN=Cu("animationiteration"),QN=Cu("animationstart"),EK=Cu("transitionrun"),SK=Cu("transitionstart"),AK=Cu("transitioncancel"),XN=Cu("transitionend"),ZN=new Map,qw="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qw.push("scrollEnd");function bs(a,c){ZN.set(a,c),vs(c,[a])}var eM=new WeakMap;function Hi(a,c){if(typeof a=="object"&&a!==null){var h=eM.get(a);return h!==void 0?h:(c={value:a,source:c,stack:od(c)},eM.set(a,c),c)}return{value:a,source:c,stack:od(c)}}var Ki=[],xd=0,zw=0;function Hy(){for(var a=xd,c=zw=xd=0;c<a;){var h=Ki[c];Ki[c++]=null;var y=Ki[c];Ki[c++]=null;var _=Ki[c];Ki[c++]=null;var E=Ki[c];if(Ki[c++]=null,y!==null&&_!==null){var U=y.pending;U===null?_.next=_:(_.next=U.next,U.next=_),y.pending=_}E!==0&&tM(h,_,E)}}function Ky(a,c,h,y){Ki[xd++]=a,Ki[xd++]=c,Ki[xd++]=h,Ki[xd++]=y,zw|=y,a.lanes|=y,a=a.alternate,a!==null&&(a.lanes|=y)}function $w(a,c,h,y){return Ky(a,c,h,y),Wy(a)}function bd(a,c){return Ky(a,null,null,c),Wy(a)}function tM(a,c,h){a.lanes|=h;var y=a.alternate;y!==null&&(y.lanes|=h);for(var _=!1,E=a.return;E!==null;)E.childLanes|=h,y=E.alternate,y!==null&&(y.childLanes|=h),E.tag===22&&(a=E.stateNode,a===null||a._visibility&1||(_=!0)),a=E,E=E.return;return a.tag===3?(E=a.stateNode,_&&c!==null&&(_=31-sr(h),a=E.hiddenUpdates,y=a[_],y===null?a[_]=[c]:y.push(c),c.lane=h|536870912),E):null}function Wy(a){if(50<Om)throw Om=0,J_=null,Error(r(185));for(var c=a.return;c!==null;)a=c,c=a.return;return a.tag===3?a.stateNode:null}var wd={};function CK(a,c,h,y){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xi(a,c,h,y){return new CK(a,c,h,y)}function Gw(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Lo(a,c){var h=a.alternate;return h===null?(h=xi(a.tag,c,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=c,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&65011712,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,c=a.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h.refCleanup=a.refCleanup,h}function nM(a,c){a.flags&=65011714;var h=a.alternate;return h===null?(a.childLanes=0,a.lanes=c,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type,c=h.dependencies,a.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),a}function Yy(a,c,h,y,_,E){var U=0;if(y=a,typeof a=="function")Gw(a)&&(U=1);else if(typeof a=="string")U=RW(a,h,Ce.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case O:return a=xi(31,h,c,_),a.elementType=O,a.lanes=E,a;case T:return Iu(h.children,_,E,c);case S:U=8,_|=24;break;case A:return a=xi(12,h,c,_|2),a.elementType=A,a.lanes=E,a;case V:return a=xi(13,h,c,_),a.elementType=V,a.lanes=E,a;case B:return a=xi(19,h,c,_),a.elementType=B,a.lanes=E,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case C:case N:U=10;break e;case D:U=9;break e;case F:U=11;break e;case k:U=14;break e;case R:U=16,y=null;break e}U=29,h=Error(r(130,a===null?"null":typeof a,"")),y=null}return c=xi(U,h,c,_),c.elementType=a,c.type=y,c.lanes=E,c}function Iu(a,c,h,y){return a=xi(7,a,y,c),a.lanes=h,a}function Hw(a,c,h){return a=xi(6,a,null,c),a.lanes=h,a}function Kw(a,c,h){return c=xi(4,a.children!==null?a.children:[],a.key,c),c.lanes=h,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}var _d=[],Td=0,Jy=null,Qy=0,Wi=[],Yi=0,Ru=null,Uo=1,Fo="";function Pu(a,c){_d[Td++]=Qy,_d[Td++]=Jy,Jy=a,Qy=c}function rM(a,c,h){Wi[Yi++]=Uo,Wi[Yi++]=Fo,Wi[Yi++]=Ru,Ru=a;var y=Uo;a=Fo;var _=32-sr(y)-1;y&=~(1<<_),h+=1;var E=32-sr(c)+_;if(30<E){var U=_-_%5;E=(y&(1<<U)-1).toString(32),y>>=U,_-=U,Uo=1<<32-sr(c)+_|h<<_|y,Fo=E+a}else Uo=1<<E|h<<_|y,Fo=a}function Ww(a){a.return!==null&&(Pu(a,1),rM(a,1,0))}function Yw(a){for(;a===Jy;)Jy=_d[--Td],_d[Td]=null,Qy=_d[--Td],_d[Td]=null;for(;a===Ru;)Ru=Wi[--Yi],Wi[Yi]=null,Fo=Wi[--Yi],Wi[Yi]=null,Uo=Wi[--Yi],Wi[Yi]=null}var Wr=null,bn=null,Pt=!1,Nu=null,Ws=!1,Jw=Error(r(519));function Mu(a){var c=Error(r(418,""));throw hm(Hi(c,a)),Jw}function iM(a){var c=a.stateNode,h=a.type,y=a.memoizedProps;switch(c[Gn]=a,c[kn]=y,h){case"dialog":pt("cancel",c),pt("close",c);break;case"iframe":case"object":case"embed":pt("load",c);break;case"video":case"audio":for(h=0;h<Lm.length;h++)pt(Lm[h],c);break;case"source":pt("error",c);break;case"img":case"image":case"link":pt("error",c),pt("load",c);break;case"details":pt("toggle",c);break;case"input":pt("invalid",c),gu(c,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0),ad(c);break;case"select":pt("invalid",c);break;case"textarea":pt("invalid",c),yu(c,y.value,y.defaultValue,y.children),ad(c)}h=y.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||y.suppressHydrationWarning===!0||wD(c.textContent,h)?(y.popover!=null&&(pt("beforetoggle",c),pt("toggle",c)),y.onScroll!=null&&pt("scroll",c),y.onScrollEnd!=null&&pt("scrollend",c),y.onClick!=null&&(c.onclick=Nv),c=!0):c=!1,c||Mu(a)}function sM(a){for(Wr=a.return;Wr;)switch(Wr.tag){case 5:case 13:Ws=!1;return;case 27:case 3:Ws=!0;return;default:Wr=Wr.return}}function dm(a){if(a!==Wr)return!1;if(!Pt)return sM(a),Pt=!0,!1;var c=a.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=a.type,h=!(h!=="form"&&h!=="button")||fT(a.type,a.memoizedProps)),h=!h),h&&bn&&Mu(a),sM(a),c===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8)if(h=a.data,h==="/$"){if(c===0){bn=_s(a.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++;a=a.nextSibling}bn=null}}else c===27?(c=bn,nl(a.type)?(a=gT,gT=null,bn=a):bn=c):bn=Wr?_s(a.stateNode.nextSibling):null;return!0}function fm(){bn=Wr=null,Pt=!1}function oM(){var a=Nu;return a!==null&&(si===null?si=a:si.push.apply(si,a),Nu=null),a}function hm(a){Nu===null?Nu=[a]:Nu.push(a)}var Qw=ue(null),Du=null,jo=null;function Ba(a,c,h){fe(Qw,c._currentValue),c._currentValue=h}function Bo(a){a._currentValue=Qw.current,ce(Qw)}function Xw(a,c,h){for(;a!==null;){var y=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,y!==null&&(y.childLanes|=c)):y!==null&&(y.childLanes&c)!==c&&(y.childLanes|=c),a===h)break;a=a.return}}function Zw(a,c,h,y){var _=a.child;for(_!==null&&(_.return=a);_!==null;){var E=_.dependencies;if(E!==null){var U=_.child;E=E.firstContext;e:for(;E!==null;){var z=E;E=_;for(var W=0;W<c.length;W++)if(z.context===c[W]){E.lanes|=h,z=E.alternate,z!==null&&(z.lanes|=h),Xw(E.return,h,a),y||(U=null);break e}E=z.next}}else if(_.tag===18){if(U=_.return,U===null)throw Error(r(341));U.lanes|=h,E=U.alternate,E!==null&&(E.lanes|=h),Xw(U,h,a),U=null}else U=_.child;if(U!==null)U.return=_;else for(U=_;U!==null;){if(U===a){U=null;break}if(_=U.sibling,_!==null){_.return=U.return,U=_;break}U=U.return}_=U}}function mm(a,c,h,y){a=null;for(var _=c,E=!1;_!==null;){if(!E){if((_.flags&524288)!==0)E=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var U=_.alternate;if(U===null)throw Error(r(387));if(U=U.memoizedProps,U!==null){var z=_.type;vi(_.pendingProps.value,U.value)||(a!==null?a.push(z):a=[z])}}else if(_===_e.current){if(U=_.alternate,U===null)throw Error(r(387));U.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(a!==null?a.push(zm):a=[zm])}_=_.return}a!==null&&Zw(c,a,h,y),c.flags|=262144}function Xy(a){for(a=a.firstContext;a!==null;){if(!vi(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function ku(a){Du=a,jo=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Dr(a){return aM(Du,a)}function Zy(a,c){return Du===null&&ku(a),aM(a,c)}function aM(a,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},jo===null){if(a===null)throw Error(r(308));jo=c,a.dependencies={lanes:0,firstContext:c},a.flags|=524288}else jo=jo.next=c;return h}var IK=typeof AbortController!="undefined"?AbortController:function(){var a=[],c=this.signal={aborted:!1,addEventListener:function(h,y){a.push(y)}};this.abort=function(){c.aborted=!0,a.forEach(function(h){return h()})}},RK=t.unstable_scheduleCallback,PK=t.unstable_NormalPriority,Wn={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function e_(){return{controller:new IK,data:new Map,refCount:0}}function pm(a){a.refCount--,a.refCount===0&&RK(PK,function(){a.controller.abort()})}var gm=null,t_=0,Ed=0,Sd=null;function NK(a,c){if(gm===null){var h=gm=[];t_=0,Ed=rT(),Sd={status:"pending",value:void 0,then:function(y){h.push(y)}}}return t_++,c.then(lM,lM),c}function lM(){if(--t_===0&&gm!==null){Sd!==null&&(Sd.status="fulfilled");var a=gm;gm=null,Ed=0,Sd=null;for(var c=0;c<a.length;c++)(0,a[c])()}}function MK(a,c){var h=[],y={status:"pending",value:null,reason:null,then:function(_){h.push(_)}};return a.then(function(){y.status="fulfilled",y.value=c;for(var _=0;_<h.length;_++)(0,h[_])(c)},function(_){for(y.status="rejected",y.reason=_,_=0;_<h.length;_++)(0,h[_])(void 0)}),y}var uM=Q.S;Q.S=function(a,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&NK(a,c),uM!==null&&uM(a,c)};var Ou=ue(null);function n_(){var a=Ou.current;return a!==null?a:Wt.pooledCache}function ev(a,c){c===null?fe(Ou,Ou.current):fe(Ou,c.pool)}function cM(){var a=n_();return a===null?null:{parent:Wn._currentValue,pool:a}}var ym=Error(r(460)),dM=Error(r(474)),tv=Error(r(542)),r_={then:function(){}};function fM(a){return a=a.status,a==="fulfilled"||a==="rejected"}function nv(){}function hM(a,c,h){switch(h=a[h],h===void 0?a.push(c):h!==c&&(c.then(nv,nv),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,pM(a),a;default:if(typeof c.status=="string")c.then(nv,nv);else{if(a=Wt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=c,a.status="pending",a.then(function(y){if(c.status==="pending"){var _=c;_.status="fulfilled",_.value=y}},function(y){if(c.status==="pending"){var _=c;_.status="rejected",_.reason=y}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,pM(a),a}throw vm=c,ym}}var vm=null;function mM(){if(vm===null)throw Error(r(459));var a=vm;return vm=null,a}function pM(a){if(a===ym||a===tv)throw Error(r(483))}var qa=!1;function i_(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function s_(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function za(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function $a(a,c,h){var y=a.updateQueue;if(y===null)return null;if(y=y.shared,(Vt&2)!==0){var _=y.pending;return _===null?c.next=c:(c.next=_.next,_.next=c),y.pending=c,c=Wy(a),tM(a,null,h),c}return Ky(a,y,c,h),Wy(a)}function xm(a,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var y=c.lanes;y&=a.pendingLanes,h|=y,c.lanes=h,Kh(a,h)}}function o_(a,c){var h=a.updateQueue,y=a.alternate;if(y!==null&&(y=y.updateQueue,h===y)){var _=null,E=null;if(h=h.firstBaseUpdate,h!==null){do{var U={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};E===null?_=E=U:E=E.next=U,h=h.next}while(h!==null);E===null?_=E=c:E=E.next=c}else _=E=c;h={baseState:y.baseState,firstBaseUpdate:_,lastBaseUpdate:E,shared:y.shared,callbacks:y.callbacks},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=c}var a_=!1;function bm(){if(a_){var a=Sd;if(a!==null)throw a}}function wm(a,c,h,y){a_=!1;var _=a.updateQueue;qa=!1;var E=_.firstBaseUpdate,U=_.lastBaseUpdate,z=_.shared.pending;if(z!==null){_.shared.pending=null;var W=z,re=W.next;W.next=null,U===null?E=re:U.next=re,U=W;var pe=a.alternate;pe!==null&&(pe=pe.updateQueue,z=pe.lastBaseUpdate,z!==U&&(z===null?pe.firstBaseUpdate=re:z.next=re,pe.lastBaseUpdate=W))}if(E!==null){var ye=_.baseState;U=0,pe=re=W=null,z=E;do{var ie=z.lane&-536870913,se=ie!==z.lane;if(se?(_t&ie)===ie:(y&ie)===ie){ie!==0&&ie===Ed&&(a_=!0),pe!==null&&(pe=pe.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var nt=a,Xe=z;ie=c;var $t=h;switch(Xe.tag){case 1:if(nt=Xe.payload,typeof nt=="function"){ye=nt.call($t,ye,ie);break e}ye=nt;break e;case 3:nt.flags=nt.flags&-65537|128;case 0:if(nt=Xe.payload,ie=typeof nt=="function"?nt.call($t,ye,ie):nt,ie==null)break e;ye=f({},ye,ie);break e;case 2:qa=!0}}ie=z.callback,ie!==null&&(a.flags|=64,se&&(a.flags|=8192),se=_.callbacks,se===null?_.callbacks=[ie]:se.push(ie))}else se={lane:ie,tag:z.tag,payload:z.payload,callback:z.callback,next:null},pe===null?(re=pe=se,W=ye):pe=pe.next=se,U|=ie;if(z=z.next,z===null){if(z=_.shared.pending,z===null)break;se=z,z=se.next,se.next=null,_.lastBaseUpdate=se,_.shared.pending=null}}while(!0);pe===null&&(W=ye),_.baseState=W,_.firstBaseUpdate=re,_.lastBaseUpdate=pe,E===null&&(_.shared.lanes=0),Xa|=U,a.lanes=U,a.memoizedState=ye}}function gM(a,c){if(typeof a!="function")throw Error(r(191,a));a.call(c)}function yM(a,c){var h=a.callbacks;if(h!==null)for(a.callbacks=null,a=0;a<h.length;a++)gM(h[a],c)}var Ad=ue(null),rv=ue(0);function vM(a,c){a=Wo,fe(rv,a),fe(Ad,c),Wo=a|c.baseLanes}function l_(){fe(rv,Wo),fe(Ad,Ad.current)}function u_(){Wo=rv.current,ce(Ad),ce(rv)}var Ga=0,dt=null,qt=null,Vn=null,iv=!1,Cd=!1,Vu=!1,sv=0,_m=0,Id=null,DK=0;function In(){throw Error(r(321))}function c_(a,c){if(c===null)return!1;for(var h=0;h<c.length&&h<a.length;h++)if(!vi(a[h],c[h]))return!1;return!0}function d_(a,c,h,y,_,E){return Ga=E,dt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Q.H=a===null||a.memoizedState===null?t2:n2,Vu=!1,E=h(y,_),Vu=!1,Cd&&(E=bM(c,h,y,_)),xM(a),E}function xM(a){Q.H=dv;var c=qt!==null&&qt.next!==null;if(Ga=0,Vn=qt=dt=null,iv=!1,_m=0,Id=null,c)throw Error(r(300));a===null||lr||(a=a.dependencies,a!==null&&Xy(a)&&(lr=!0))}function bM(a,c,h,y){dt=a;var _=0;do{if(Cd&&(Id=null),_m=0,Cd=!1,25<=_)throw Error(r(301));if(_+=1,Vn=qt=null,a.updateQueue!=null){var E=a.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}Q.H=jK,E=c(h,y)}while(Cd);return E}function kK(){var a=Q.H,c=a.useState()[0];return c=typeof c.then=="function"?Tm(c):c,a=a.useState()[0],(qt!==null?qt.memoizedState:null)!==a&&(dt.flags|=1024),c}function f_(){var a=sv!==0;return sv=0,a}function h_(a,c,h){c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~h}function m_(a){if(iv){for(a=a.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}iv=!1}Ga=0,Vn=qt=dt=null,Cd=!1,_m=sv=0,Id=null}function ri(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vn===null?dt.memoizedState=Vn=a:Vn=Vn.next=a,Vn}function Ln(){if(qt===null){var a=dt.alternate;a=a!==null?a.memoizedState:null}else a=qt.next;var c=Vn===null?dt.memoizedState:Vn.next;if(c!==null)Vn=c,qt=a;else{if(a===null)throw dt.alternate===null?Error(r(467)):Error(r(310));qt=a,a={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},Vn===null?dt.memoizedState=Vn=a:Vn=Vn.next=a}return Vn}function p_(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tm(a){var c=_m;return _m+=1,Id===null&&(Id=[]),a=hM(Id,a,c),c=dt,(Vn===null?c.memoizedState:Vn.next)===null&&(c=c.alternate,Q.H=c===null||c.memoizedState===null?t2:n2),a}function ov(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Tm(a);if(a.$$typeof===N)return Dr(a)}throw Error(r(438,String(a)))}function g_(a){var c=null,h=dt.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var y=dt.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(c={data:y.data.map(function(_){return _.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=p_(),dt.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(a),y=0;y<a;y++)h[y]=j;return c.index++,h}function qo(a,c){return typeof c=="function"?c(a):c}function av(a){var c=Ln();return y_(c,qt,a)}function y_(a,c,h){var y=a.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=h;var _=a.baseQueue,E=y.pending;if(E!==null){if(_!==null){var U=_.next;_.next=E.next,E.next=U}c.baseQueue=_=E,y.pending=null}if(E=a.baseState,_===null)a.memoizedState=E;else{c=_.next;var z=U=null,W=null,re=c,pe=!1;do{var ye=re.lane&-536870913;if(ye!==re.lane?(_t&ye)===ye:(Ga&ye)===ye){var ie=re.revertLane;if(ie===0)W!==null&&(W=W.next={lane:0,revertLane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),ye===Ed&&(pe=!0);else if((Ga&ie)===ie){re=re.next,ie===Ed&&(pe=!0);continue}else ye={lane:0,revertLane:re.revertLane,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},W===null?(z=W=ye,U=E):W=W.next=ye,dt.lanes|=ie,Xa|=ie;ye=re.action,Vu&&h(E,ye),E=re.hasEagerState?re.eagerState:h(E,ye)}else ie={lane:ye,revertLane:re.revertLane,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},W===null?(z=W=ie,U=E):W=W.next=ie,dt.lanes|=ye,Xa|=ye;re=re.next}while(re!==null&&re!==c);if(W===null?U=E:W.next=z,!vi(E,a.memoizedState)&&(lr=!0,pe&&(h=Sd,h!==null)))throw h;a.memoizedState=E,a.baseState=U,a.baseQueue=W,y.lastRenderedState=E}return _===null&&(y.lanes=0),[a.memoizedState,y.dispatch]}function v_(a){var c=Ln(),h=c.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=a;var y=h.dispatch,_=h.pending,E=c.memoizedState;if(_!==null){h.pending=null;var U=_=_.next;do E=a(E,U.action),U=U.next;while(U!==_);vi(E,c.memoizedState)||(lr=!0),c.memoizedState=E,c.baseQueue===null&&(c.baseState=E),h.lastRenderedState=E}return[E,y]}function wM(a,c,h){var y=dt,_=Ln(),E=Pt;if(E){if(h===void 0)throw Error(r(407));h=h()}else h=c();var U=!vi((qt||_).memoizedState,h);U&&(_.memoizedState=h,lr=!0),_=_.queue;var z=EM.bind(null,y,_,a);if(Em(2048,8,z,[a]),_.getSnapshot!==c||U||Vn!==null&&Vn.memoizedState.tag&1){if(y.flags|=2048,Rd(9,lv(),TM.bind(null,y,_,h,c),null),Wt===null)throw Error(r(349));E||(Ga&124)!==0||_M(y,c,h)}return h}function _M(a,c,h){a.flags|=16384,a={getSnapshot:c,value:h},c=dt.updateQueue,c===null?(c=p_(),dt.updateQueue=c,c.stores=[a]):(h=c.stores,h===null?c.stores=[a]:h.push(a))}function TM(a,c,h,y){c.value=h,c.getSnapshot=y,SM(c)&&AM(a)}function EM(a,c,h){return h(function(){SM(c)&&AM(a)})}function SM(a){var c=a.getSnapshot;a=a.value;try{var h=c();return!vi(a,h)}catch(y){return!0}}function AM(a){var c=bd(a,2);c!==null&&Ei(c,a,2)}function x_(a){var c=ri();if(typeof a=="function"){var h=a;if(a=h(),Vu){ir(!0);try{h()}finally{ir(!1)}}}return c.memoizedState=c.baseState=a,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:a},c}function CM(a,c,h,y){return a.baseState=h,y_(a,qt,typeof y=="function"?y:qo)}function OK(a,c,h,y,_){if(cv(a))throw Error(r(485));if(a=c.action,a!==null){var E={payload:_,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(U){E.listeners.push(U)}};Q.T!==null?h(!0):E.isTransition=!1,y(E),h=c.pending,h===null?(E.next=c.pending=E,IM(c,E)):(E.next=h.next,c.pending=h.next=E)}}function IM(a,c){var h=c.action,y=c.payload,_=a.state;if(c.isTransition){var E=Q.T,U={};Q.T=U;try{var z=h(_,y),W=Q.S;W!==null&&W(U,z),RM(a,c,z)}catch(re){b_(a,c,re)}finally{Q.T=E}}else try{E=h(_,y),RM(a,c,E)}catch(re){b_(a,c,re)}}function RM(a,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(y){PM(a,c,y)},function(y){return b_(a,c,y)}):PM(a,c,h)}function PM(a,c,h){c.status="fulfilled",c.value=h,NM(c),a.state=h,c=a.pending,c!==null&&(h=c.next,h===c?a.pending=null:(h=h.next,c.next=h,IM(a,h)))}function b_(a,c,h){var y=a.pending;if(a.pending=null,y!==null){y=y.next;do c.status="rejected",c.reason=h,NM(c),c=c.next;while(c!==y)}a.action=null}function NM(a){a=a.listeners;for(var c=0;c<a.length;c++)(0,a[c])()}function MM(a,c){return c}function DM(a,c){if(Pt){var h=Wt.formState;if(h!==null){e:{var y=dt;if(Pt){if(bn){t:{for(var _=bn,E=Ws;_.nodeType!==8;){if(!E){_=null;break t}if(_=_s(_.nextSibling),_===null){_=null;break t}}E=_.data,_=E==="F!"||E==="F"?_:null}if(_){bn=_s(_.nextSibling),y=_.data==="F!";break e}}Mu(y)}y=!1}y&&(c=h[0])}}return h=ri(),h.memoizedState=h.baseState=c,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:MM,lastRenderedState:c},h.queue=y,h=XM.bind(null,dt,y),y.dispatch=h,y=x_(!1),E=S_.bind(null,dt,!1,y.queue),y=ri(),_={state:c,dispatch:null,action:a,pending:null},y.queue=_,h=OK.bind(null,dt,_,E,h),_.dispatch=h,y.memoizedState=a,[c,h,!1]}function kM(a){var c=Ln();return OM(c,qt,a)}function OM(a,c,h){if(c=y_(a,c,MM)[0],a=av(qo)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var y=Tm(c)}catch(U){throw U===ym?tv:U}else y=c;c=Ln();var _=c.queue,E=_.dispatch;return h!==c.memoizedState&&(dt.flags|=2048,Rd(9,lv(),VK.bind(null,_,h),null)),[y,E,a]}function VK(a,c){a.action=c}function VM(a){var c=Ln(),h=qt;if(h!==null)return OM(c,h,a);Ln(),c=c.memoizedState,h=Ln();var y=h.queue.dispatch;return h.memoizedState=a,[c,y,!1]}function Rd(a,c,h,y){return a={tag:a,create:h,deps:y,inst:c,next:null},c=dt.updateQueue,c===null&&(c=p_(),dt.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=a.next=a:(y=h.next,h.next=a,a.next=y,c.lastEffect=a),a}function lv(){return{destroy:void 0,resource:void 0}}function LM(){return Ln().memoizedState}function uv(a,c,h,y){var _=ri();y=y===void 0?null:y,dt.flags|=a,_.memoizedState=Rd(1|c,lv(),h,y)}function Em(a,c,h,y){var _=Ln();y=y===void 0?null:y;var E=_.memoizedState.inst;qt!==null&&y!==null&&c_(y,qt.memoizedState.deps)?_.memoizedState=Rd(c,E,h,y):(dt.flags|=a,_.memoizedState=Rd(1|c,E,h,y))}function UM(a,c){uv(8390656,8,a,c)}function FM(a,c){Em(2048,8,a,c)}function jM(a,c){return Em(4,2,a,c)}function BM(a,c){return Em(4,4,a,c)}function qM(a,c){if(typeof c=="function"){a=a();var h=c(a);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function zM(a,c,h){h=h!=null?h.concat([a]):null,Em(4,4,qM.bind(null,c,a),h)}function w_(){}function $M(a,c){var h=Ln();c=c===void 0?null:c;var y=h.memoizedState;return c!==null&&c_(c,y[1])?y[0]:(h.memoizedState=[a,c],a)}function GM(a,c){var h=Ln();c=c===void 0?null:c;var y=h.memoizedState;if(c!==null&&c_(c,y[1]))return y[0];if(y=a(),Vu){ir(!0);try{a()}finally{ir(!1)}}return h.memoizedState=[y,c],y}function __(a,c,h){return h===void 0||(Ga&1073741824)!==0?a.memoizedState=c:(a.memoizedState=h,a=W2(),dt.lanes|=a,Xa|=a,h)}function HM(a,c,h,y){return vi(h,c)?h:Ad.current!==null?(a=__(a,h,y),vi(a,c)||(lr=!0),a):(Ga&42)===0?(lr=!0,a.memoizedState=h):(a=W2(),dt.lanes|=a,Xa|=a,c)}function KM(a,c,h,y,_){var E=ae.p;ae.p=E!==0&&8>E?E:8;var U=Q.T,z={};Q.T=z,S_(a,!1,c,h);try{var W=_(),re=Q.S;if(re!==null&&re(z,W),W!==null&&typeof W=="object"&&typeof W.then=="function"){var pe=MK(W,y);Sm(a,c,pe,Ti(a))}else Sm(a,c,y,Ti(a))}catch(ye){Sm(a,c,{then:function(){},status:"rejected",reason:ye},Ti())}finally{ae.p=E,Q.T=U}}function LK(){}function T_(a,c,h,y){if(a.tag!==5)throw Error(r(476));var _=WM(a).queue;KM(a,_,c,Z,h===null?LK:function(){return YM(a),h(y)})}function WM(a){var c=a.memoizedState;if(c!==null)return c;c={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:Z},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:h},next:null},a.memoizedState=c,a=a.alternate,a!==null&&(a.memoizedState=c),c}function YM(a){var c=WM(a).next.queue;Sm(a,c,{},Ti())}function E_(){return Dr(zm)}function JM(){return Ln().memoizedState}function QM(){return Ln().memoizedState}function UK(a){for(var c=a.return;c!==null;){switch(c.tag){case 24:case 3:var h=Ti();a=za(h);var y=$a(c,a,h);y!==null&&(Ei(y,c,h),xm(y,c,h)),c={cache:e_()},a.payload=c;return}c=c.return}}function FK(a,c,h){var y=Ti();h={lane:y,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},cv(a)?ZM(c,h):(h=$w(a,c,h,y),h!==null&&(Ei(h,a,y),e2(h,c,y)))}function XM(a,c,h){var y=Ti();Sm(a,c,h,y)}function Sm(a,c,h,y){var _={lane:y,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(cv(a))ZM(c,_);else{var E=a.alternate;if(a.lanes===0&&(E===null||E.lanes===0)&&(E=c.lastRenderedReducer,E!==null))try{var U=c.lastRenderedState,z=E(U,h);if(_.hasEagerState=!0,_.eagerState=z,vi(z,U))return Ky(a,c,_,0),Wt===null&&Hy(),!1}catch(W){}finally{}if(h=$w(a,c,_,y),h!==null)return Ei(h,a,y),e2(h,c,y),!0}return!1}function S_(a,c,h,y){if(y={lane:2,revertLane:rT(),action:y,hasEagerState:!1,eagerState:null,next:null},cv(a)){if(c)throw Error(r(479))}else c=$w(a,h,y,2),c!==null&&Ei(c,a,2)}function cv(a){var c=a.alternate;return a===dt||c!==null&&c===dt}function ZM(a,c){Cd=iv=!0;var h=a.pending;h===null?c.next=c:(c.next=h.next,h.next=c),a.pending=c}function e2(a,c,h){if((h&4194048)!==0){var y=c.lanes;y&=a.pendingLanes,h|=y,c.lanes=h,Kh(a,h)}}var dv={readContext:Dr,use:ov,useCallback:In,useContext:In,useEffect:In,useImperativeHandle:In,useLayoutEffect:In,useInsertionEffect:In,useMemo:In,useReducer:In,useRef:In,useState:In,useDebugValue:In,useDeferredValue:In,useTransition:In,useSyncExternalStore:In,useId:In,useHostTransitionStatus:In,useFormState:In,useActionState:In,useOptimistic:In,useMemoCache:In,useCacheRefresh:In},t2={readContext:Dr,use:ov,useCallback:function(a,c){return ri().memoizedState=[a,c===void 0?null:c],a},useContext:Dr,useEffect:UM,useImperativeHandle:function(a,c,h){h=h!=null?h.concat([a]):null,uv(4194308,4,qM.bind(null,c,a),h)},useLayoutEffect:function(a,c){return uv(4194308,4,a,c)},useInsertionEffect:function(a,c){uv(4,2,a,c)},useMemo:function(a,c){var h=ri();c=c===void 0?null:c;var y=a();if(Vu){ir(!0);try{a()}finally{ir(!1)}}return h.memoizedState=[y,c],y},useReducer:function(a,c,h){var y=ri();if(h!==void 0){var _=h(c);if(Vu){ir(!0);try{h(c)}finally{ir(!1)}}}else _=c;return y.memoizedState=y.baseState=_,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:_},y.queue=a,a=a.dispatch=FK.bind(null,dt,a),[y.memoizedState,a]},useRef:function(a){var c=ri();return a={current:a},c.memoizedState=a},useState:function(a){a=x_(a);var c=a.queue,h=XM.bind(null,dt,c);return c.dispatch=h,[a.memoizedState,h]},useDebugValue:w_,useDeferredValue:function(a,c){var h=ri();return __(h,a,c)},useTransition:function(){var a=x_(!1);return a=KM.bind(null,dt,a.queue,!0,!1),ri().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,c,h){var y=dt,_=ri();if(Pt){if(h===void 0)throw Error(r(407));h=h()}else{if(h=c(),Wt===null)throw Error(r(349));(_t&124)!==0||_M(y,c,h)}_.memoizedState=h;var E={value:h,getSnapshot:c};return _.queue=E,UM(EM.bind(null,y,E,a),[a]),y.flags|=2048,Rd(9,lv(),TM.bind(null,y,E,h,c),null),h},useId:function(){var a=ri(),c=Wt.identifierPrefix;if(Pt){var h=Fo,y=Uo;h=(y&~(1<<32-sr(y)-1)).toString(32)+h,c="«"+c+"R"+h,h=sv++,0<h&&(c+="H"+h.toString(32)),c+="»"}else h=DK++,c="«"+c+"r"+h.toString(32)+"»";return a.memoizedState=c},useHostTransitionStatus:E_,useFormState:DM,useActionState:DM,useOptimistic:function(a){var c=ri();c.memoizedState=c.baseState=a;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=S_.bind(null,dt,!0,h),h.dispatch=c,[a,c]},useMemoCache:g_,useCacheRefresh:function(){return ri().memoizedState=UK.bind(null,dt)}},n2={readContext:Dr,use:ov,useCallback:$M,useContext:Dr,useEffect:FM,useImperativeHandle:zM,useInsertionEffect:jM,useLayoutEffect:BM,useMemo:GM,useReducer:av,useRef:LM,useState:function(){return av(qo)},useDebugValue:w_,useDeferredValue:function(a,c){var h=Ln();return HM(h,qt.memoizedState,a,c)},useTransition:function(){var a=av(qo)[0],c=Ln().memoizedState;return[typeof a=="boolean"?a:Tm(a),c]},useSyncExternalStore:wM,useId:JM,useHostTransitionStatus:E_,useFormState:kM,useActionState:kM,useOptimistic:function(a,c){var h=Ln();return CM(h,qt,a,c)},useMemoCache:g_,useCacheRefresh:QM},jK={readContext:Dr,use:ov,useCallback:$M,useContext:Dr,useEffect:FM,useImperativeHandle:zM,useInsertionEffect:jM,useLayoutEffect:BM,useMemo:GM,useReducer:v_,useRef:LM,useState:function(){return v_(qo)},useDebugValue:w_,useDeferredValue:function(a,c){var h=Ln();return qt===null?__(h,a,c):HM(h,qt.memoizedState,a,c)},useTransition:function(){var a=v_(qo)[0],c=Ln().memoizedState;return[typeof a=="boolean"?a:Tm(a),c]},useSyncExternalStore:wM,useId:JM,useHostTransitionStatus:E_,useFormState:VM,useActionState:VM,useOptimistic:function(a,c){var h=Ln();return qt!==null?CM(h,qt,a,c):(h.baseState=a,[a,h.queue.dispatch])},useMemoCache:g_,useCacheRefresh:QM},Pd=null,Am=0;function fv(a){var c=Am;return Am+=1,Pd===null&&(Pd=[]),hM(Pd,a,c)}function Cm(a,c){c=c.props.ref,a.ref=c!==void 0?c:null}function hv(a,c){throw c.$$typeof===m?Error(r(525)):(a=Object.prototype.toString.call(c),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a)))}function r2(a){var c=a._init;return c(a._payload)}function i2(a){function c(X,J){if(a){var ne=X.deletions;ne===null?(X.deletions=[J],X.flags|=16):ne.push(J)}}function h(X,J){if(!a)return null;for(;J!==null;)c(X,J),J=J.sibling;return null}function y(X){for(var J=new Map;X!==null;)X.key!==null?J.set(X.key,X):J.set(X.index,X),X=X.sibling;return J}function _(X,J){return X=Lo(X,J),X.index=0,X.sibling=null,X}function E(X,J,ne){return X.index=ne,a?(ne=X.alternate,ne!==null?(ne=ne.index,ne<J?(X.flags|=67108866,J):ne):(X.flags|=67108866,J)):(X.flags|=1048576,J)}function U(X){return a&&X.alternate===null&&(X.flags|=67108866),X}function z(X,J,ne,ge){return J===null||J.tag!==6?(J=Hw(ne,X.mode,ge),J.return=X,J):(J=_(J,ne),J.return=X,J)}function W(X,J,ne,ge){var Fe=ne.type;return Fe===T?pe(X,J,ne.props.children,ge,ne.key):J!==null&&(J.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===R&&r2(Fe)===J.type)?(J=_(J,ne.props),Cm(J,ne),J.return=X,J):(J=Yy(ne.type,ne.key,ne.props,null,X.mode,ge),Cm(J,ne),J.return=X,J)}function re(X,J,ne,ge){return J===null||J.tag!==4||J.stateNode.containerInfo!==ne.containerInfo||J.stateNode.implementation!==ne.implementation?(J=Kw(ne,X.mode,ge),J.return=X,J):(J=_(J,ne.children||[]),J.return=X,J)}function pe(X,J,ne,ge,Fe){return J===null||J.tag!==7?(J=Iu(ne,X.mode,ge,Fe),J.return=X,J):(J=_(J,ne),J.return=X,J)}function ye(X,J,ne){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=Hw(""+J,X.mode,ne),J.return=X,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case v:return ne=Yy(J.type,J.key,J.props,null,X.mode,ne),Cm(ne,J),ne.return=X,ne;case b:return J=Kw(J,X.mode,ne),J.return=X,J;case R:var ge=J._init;return J=ge(J._payload),ye(X,J,ne)}if(we(J)||H(J))return J=Iu(J,X.mode,ne,null),J.return=X,J;if(typeof J.then=="function")return ye(X,fv(J),ne);if(J.$$typeof===N)return ye(X,Zy(X,J),ne);hv(X,J)}return null}function ie(X,J,ne,ge){var Fe=J!==null?J.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return Fe!==null?null:z(X,J,""+ne,ge);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case v:return ne.key===Fe?W(X,J,ne,ge):null;case b:return ne.key===Fe?re(X,J,ne,ge):null;case R:return Fe=ne._init,ne=Fe(ne._payload),ie(X,J,ne,ge)}if(we(ne)||H(ne))return Fe!==null?null:pe(X,J,ne,ge,null);if(typeof ne.then=="function")return ie(X,J,fv(ne),ge);if(ne.$$typeof===N)return ie(X,J,Zy(X,ne),ge);hv(X,ne)}return null}function se(X,J,ne,ge,Fe){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return X=X.get(ne)||null,z(J,X,""+ge,Fe);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case v:return X=X.get(ge.key===null?ne:ge.key)||null,W(J,X,ge,Fe);case b:return X=X.get(ge.key===null?ne:ge.key)||null,re(J,X,ge,Fe);case R:var ht=ge._init;return ge=ht(ge._payload),se(X,J,ne,ge,Fe)}if(we(ge)||H(ge))return X=X.get(ne)||null,pe(J,X,ge,Fe,null);if(typeof ge.then=="function")return se(X,J,ne,fv(ge),Fe);if(ge.$$typeof===N)return se(X,J,ne,Zy(J,ge),Fe);hv(J,ge)}return null}function nt(X,J,ne,ge){for(var Fe=null,ht=null,Ke=J,tt=J=0,cr=null;Ke!==null&&tt<ne.length;tt++){Ke.index>tt?(cr=Ke,Ke=null):cr=Ke.sibling;var St=ie(X,Ke,ne[tt],ge);if(St===null){Ke===null&&(Ke=cr);break}a&&Ke&&St.alternate===null&&c(X,Ke),J=E(St,J,tt),ht===null?Fe=St:ht.sibling=St,ht=St,Ke=cr}if(tt===ne.length)return h(X,Ke),Pt&&Pu(X,tt),Fe;if(Ke===null){for(;tt<ne.length;tt++)Ke=ye(X,ne[tt],ge),Ke!==null&&(J=E(Ke,J,tt),ht===null?Fe=Ke:ht.sibling=Ke,ht=Ke);return Pt&&Pu(X,tt),Fe}for(Ke=y(Ke);tt<ne.length;tt++)cr=se(Ke,X,tt,ne[tt],ge),cr!==null&&(a&&cr.alternate!==null&&Ke.delete(cr.key===null?tt:cr.key),J=E(cr,J,tt),ht===null?Fe=cr:ht.sibling=cr,ht=cr);return a&&Ke.forEach(function(al){return c(X,al)}),Pt&&Pu(X,tt),Fe}function Xe(X,J,ne,ge){if(ne==null)throw Error(r(151));for(var Fe=null,ht=null,Ke=J,tt=J=0,cr=null,St=ne.next();Ke!==null&&!St.done;tt++,St=ne.next()){Ke.index>tt?(cr=Ke,Ke=null):cr=Ke.sibling;var al=ie(X,Ke,St.value,ge);if(al===null){Ke===null&&(Ke=cr);break}a&&Ke&&al.alternate===null&&c(X,Ke),J=E(al,J,tt),ht===null?Fe=al:ht.sibling=al,ht=al,Ke=cr}if(St.done)return h(X,Ke),Pt&&Pu(X,tt),Fe;if(Ke===null){for(;!St.done;tt++,St=ne.next())St=ye(X,St.value,ge),St!==null&&(J=E(St,J,tt),ht===null?Fe=St:ht.sibling=St,ht=St);return Pt&&Pu(X,tt),Fe}for(Ke=y(Ke);!St.done;tt++,St=ne.next())St=se(Ke,X,tt,St.value,ge),St!==null&&(a&&St.alternate!==null&&Ke.delete(St.key===null?tt:St.key),J=E(St,J,tt),ht===null?Fe=St:ht.sibling=St,ht=St);return a&&Ke.forEach(function(BW){return c(X,BW)}),Pt&&Pu(X,tt),Fe}function $t(X,J,ne,ge){if(typeof ne=="object"&&ne!==null&&ne.type===T&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case v:e:{for(var Fe=ne.key;J!==null;){if(J.key===Fe){if(Fe=ne.type,Fe===T){if(J.tag===7){h(X,J.sibling),ge=_(J,ne.props.children),ge.return=X,X=ge;break e}}else if(J.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===R&&r2(Fe)===J.type){h(X,J.sibling),ge=_(J,ne.props),Cm(ge,ne),ge.return=X,X=ge;break e}h(X,J);break}else c(X,J);J=J.sibling}ne.type===T?(ge=Iu(ne.props.children,X.mode,ge,ne.key),ge.return=X,X=ge):(ge=Yy(ne.type,ne.key,ne.props,null,X.mode,ge),Cm(ge,ne),ge.return=X,X=ge)}return U(X);case b:e:{for(Fe=ne.key;J!==null;){if(J.key===Fe)if(J.tag===4&&J.stateNode.containerInfo===ne.containerInfo&&J.stateNode.implementation===ne.implementation){h(X,J.sibling),ge=_(J,ne.children||[]),ge.return=X,X=ge;break e}else{h(X,J);break}else c(X,J);J=J.sibling}ge=Kw(ne,X.mode,ge),ge.return=X,X=ge}return U(X);case R:return Fe=ne._init,ne=Fe(ne._payload),$t(X,J,ne,ge)}if(we(ne))return nt(X,J,ne,ge);if(H(ne)){if(Fe=H(ne),typeof Fe!="function")throw Error(r(150));return ne=Fe.call(ne),Xe(X,J,ne,ge)}if(typeof ne.then=="function")return $t(X,J,fv(ne),ge);if(ne.$$typeof===N)return $t(X,J,Zy(X,ne),ge);hv(X,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,J!==null&&J.tag===6?(h(X,J.sibling),ge=_(J,ne),ge.return=X,X=ge):(h(X,J),ge=Hw(ne,X.mode,ge),ge.return=X,X=ge),U(X)):h(X,J)}return function(X,J,ne,ge){try{Am=0;var Fe=$t(X,J,ne,ge);return Pd=null,Fe}catch(Ke){if(Ke===ym||Ke===tv)throw Ke;var ht=xi(29,Ke,null,X.mode);return ht.lanes=ge,ht.return=X,ht}finally{}}}var Nd=i2(!0),s2=i2(!1),Ji=ue(null),Ys=null;function Ha(a){var c=a.alternate;fe(Yn,Yn.current&1),fe(Ji,a),Ys===null&&(c===null||Ad.current!==null||c.memoizedState!==null)&&(Ys=a)}function o2(a){if(a.tag===22){if(fe(Yn,Yn.current),fe(Ji,a),Ys===null){var c=a.alternate;c!==null&&c.memoizedState!==null&&(Ys=a)}}else Ka()}function Ka(){fe(Yn,Yn.current),fe(Ji,Ji.current)}function zo(a){ce(Ji),Ys===a&&(Ys=null),ce(Yn)}var Yn=ue(0);function mv(a){for(var c=a;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||pT(h)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function A_(a,c,h,y){c=a.memoizedState,h=h(y,c),h=h==null?c:f({},c,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var C_={enqueueSetState:function(a,c,h){a=a._reactInternals;var y=Ti(),_=za(y);_.payload=c,h!=null&&(_.callback=h),c=$a(a,_,y),c!==null&&(Ei(c,a,y),xm(c,a,y))},enqueueReplaceState:function(a,c,h){a=a._reactInternals;var y=Ti(),_=za(y);_.tag=1,_.payload=c,h!=null&&(_.callback=h),c=$a(a,_,y),c!==null&&(Ei(c,a,y),xm(c,a,y))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var h=Ti(),y=za(h);y.tag=2,c!=null&&(y.callback=c),c=$a(a,y,h),c!==null&&(Ei(c,a,h),xm(c,a,h))}};function a2(a,c,h,y,_,E,U){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(y,E,U):c.prototype&&c.prototype.isPureReactComponent?!um(h,y)||!um(_,E):!0}function l2(a,c,h,y){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,y),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,y),c.state!==a&&C_.enqueueReplaceState(c,c.state,null)}function Lu(a,c){var h=c;if("ref"in c){h={};for(var y in c)y!=="ref"&&(h[y]=c[y])}if(a=a.defaultProps){h===c&&(h=f({},h));for(var _ in a)h[_]===void 0&&(h[_]=a[_])}return h}var pv=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function u2(a){pv(a)}function c2(a){console.error(a)}function d2(a){pv(a)}function gv(a,c){try{var h=a.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(y){setTimeout(function(){throw y})}}function f2(a,c,h){try{var y=a.onCaughtError;y(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function I_(a,c,h){return h=za(h),h.tag=3,h.payload={element:null},h.callback=function(){gv(a,c)},h}function h2(a){return a=za(a),a.tag=3,a}function m2(a,c,h,y){var _=h.type.getDerivedStateFromError;if(typeof _=="function"){var E=y.value;a.payload=function(){return _(E)},a.callback=function(){f2(c,h,y)}}var U=h.stateNode;U!==null&&typeof U.componentDidCatch=="function"&&(a.callback=function(){f2(c,h,y),typeof _!="function"&&(Za===null?Za=new Set([this]):Za.add(this));var z=y.stack;this.componentDidCatch(y.value,{componentStack:z!==null?z:""})})}function BK(a,c,h,y,_){if(h.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(c=h.alternate,c!==null&&mm(c,h,_,!0),h=Ji.current,h!==null){switch(h.tag){case 13:return Ys===null?X_():h.alternate===null&&wn===0&&(wn=3),h.flags&=-257,h.flags|=65536,h.lanes=_,y===r_?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([y]):c.add(y),eT(a,y,_)),!1;case 22:return h.flags|=65536,y===r_?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([y])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([y]):h.add(y)),eT(a,y,_)),!1}throw Error(r(435,h.tag))}return eT(a,y,_),X_(),!1}if(Pt)return c=Ji.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=_,y!==Jw&&(a=Error(r(422),{cause:y}),hm(Hi(a,h)))):(y!==Jw&&(c=Error(r(423),{cause:y}),hm(Hi(c,h))),a=a.current.alternate,a.flags|=65536,_&=-_,a.lanes|=_,y=Hi(y,h),_=I_(a.stateNode,y,_),o_(a,_),wn!==4&&(wn=2)),!1;var E=Error(r(520),{cause:y});if(E=Hi(E,h),km===null?km=[E]:km.push(E),wn!==4&&(wn=2),c===null)return!0;y=Hi(y,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,a=_&-_,h.lanes|=a,a=I_(h.stateNode,y,a),o_(h,a),!1;case 1:if(c=h.type,E=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Za===null||!Za.has(E))))return h.flags|=65536,_&=-_,h.lanes|=_,_=h2(_),m2(_,a,h,y),o_(h,_),!1}h=h.return}while(h!==null);return!1}var p2=Error(r(461)),lr=!1;function xr(a,c,h,y){c.child=a===null?s2(c,null,h,y):Nd(c,a.child,h,y)}function g2(a,c,h,y,_){h=h.render;var E=c.ref;if("ref"in y){var U={};for(var z in y)z!=="ref"&&(U[z]=y[z])}else U=y;return ku(c),y=d_(a,c,h,U,E,_),z=f_(),a!==null&&!lr?(h_(a,c,_),$o(a,c,_)):(Pt&&z&&Ww(c),c.flags|=1,xr(a,c,y,_),c.child)}function y2(a,c,h,y,_){if(a===null){var E=h.type;return typeof E=="function"&&!Gw(E)&&E.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=E,v2(a,c,E,y,_)):(a=Yy(h.type,null,y,c,c.mode,_),a.ref=c.ref,a.return=c,c.child=a)}if(E=a.child,!V_(a,_)){var U=E.memoizedProps;if(h=h.compare,h=h!==null?h:um,h(U,y)&&a.ref===c.ref)return $o(a,c,_)}return c.flags|=1,a=Lo(E,y),a.ref=c.ref,a.return=c,c.child=a}function v2(a,c,h,y,_){if(a!==null){var E=a.memoizedProps;if(um(E,y)&&a.ref===c.ref)if(lr=!1,c.pendingProps=y=E,V_(a,_))(a.flags&131072)!==0&&(lr=!0);else return c.lanes=a.lanes,$o(a,c,_)}return R_(a,c,h,y,_)}function x2(a,c,h){var y=c.pendingProps,_=y.children,E=a!==null?a.memoizedState:null;if(y.mode==="hidden"){if((c.flags&128)!==0){if(y=E!==null?E.baseLanes|h:h,a!==null){for(_=c.child=a.child,E=0;_!==null;)E=E|_.lanes|_.childLanes,_=_.sibling;c.childLanes=E&~y}else c.childLanes=0,c.child=null;return b2(a,c,y,h)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},a!==null&&ev(c,E!==null?E.cachePool:null),E!==null?vM(c,E):l_(),o2(c);else return c.lanes=c.childLanes=536870912,b2(a,c,E!==null?E.baseLanes|h:h,h)}else E!==null?(ev(c,E.cachePool),vM(c,E),Ka(),c.memoizedState=null):(a!==null&&ev(c,null),l_(),Ka());return xr(a,c,_,h),c.child}function b2(a,c,h,y){var _=n_();return _=_===null?null:{parent:Wn._currentValue,pool:_},c.memoizedState={baseLanes:h,cachePool:_},a!==null&&ev(c,null),l_(),o2(c),a!==null&&mm(a,c,y,!0),null}function yv(a,c){var h=c.ref;if(h===null)a!==null&&a.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(a===null||a.ref!==h)&&(c.flags|=4194816)}}function R_(a,c,h,y,_){return ku(c),h=d_(a,c,h,y,void 0,_),y=f_(),a!==null&&!lr?(h_(a,c,_),$o(a,c,_)):(Pt&&y&&Ww(c),c.flags|=1,xr(a,c,h,_),c.child)}function w2(a,c,h,y,_,E){return ku(c),c.updateQueue=null,h=bM(c,y,h,_),xM(a),y=f_(),a!==null&&!lr?(h_(a,c,E),$o(a,c,E)):(Pt&&y&&Ww(c),c.flags|=1,xr(a,c,h,E),c.child)}function _2(a,c,h,y,_){if(ku(c),c.stateNode===null){var E=wd,U=h.contextType;typeof U=="object"&&U!==null&&(E=Dr(U)),E=new h(y,E),c.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=C_,c.stateNode=E,E._reactInternals=c,E=c.stateNode,E.props=y,E.state=c.memoizedState,E.refs={},i_(c),U=h.contextType,E.context=typeof U=="object"&&U!==null?Dr(U):wd,E.state=c.memoizedState,U=h.getDerivedStateFromProps,typeof U=="function"&&(A_(c,h,U,y),E.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(U=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),U!==E.state&&C_.enqueueReplaceState(E,E.state,null),wm(c,y,E,_),bm(),E.state=c.memoizedState),typeof E.componentDidMount=="function"&&(c.flags|=4194308),y=!0}else if(a===null){E=c.stateNode;var z=c.memoizedProps,W=Lu(h,z);E.props=W;var re=E.context,pe=h.contextType;U=wd,typeof pe=="object"&&pe!==null&&(U=Dr(pe));var ye=h.getDerivedStateFromProps;pe=typeof ye=="function"||typeof E.getSnapshotBeforeUpdate=="function",z=c.pendingProps!==z,pe||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(z||re!==U)&&l2(c,E,y,U),qa=!1;var ie=c.memoizedState;E.state=ie,wm(c,y,E,_),bm(),re=c.memoizedState,z||ie!==re||qa?(typeof ye=="function"&&(A_(c,h,ye,y),re=c.memoizedState),(W=qa||a2(c,h,W,y,ie,re,U))?(pe||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(c.flags|=4194308)):(typeof E.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=y,c.memoizedState=re),E.props=y,E.state=re,E.context=U,y=W):(typeof E.componentDidMount=="function"&&(c.flags|=4194308),y=!1)}else{E=c.stateNode,s_(a,c),U=c.memoizedProps,pe=Lu(h,U),E.props=pe,ye=c.pendingProps,ie=E.context,re=h.contextType,W=wd,typeof re=="object"&&re!==null&&(W=Dr(re)),z=h.getDerivedStateFromProps,(re=typeof z=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(U!==ye||ie!==W)&&l2(c,E,y,W),qa=!1,ie=c.memoizedState,E.state=ie,wm(c,y,E,_),bm();var se=c.memoizedState;U!==ye||ie!==se||qa||a!==null&&a.dependencies!==null&&Xy(a.dependencies)?(typeof z=="function"&&(A_(c,h,z,y),se=c.memoizedState),(pe=qa||a2(c,h,pe,y,ie,se,W)||a!==null&&a.dependencies!==null&&Xy(a.dependencies))?(re||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(y,se,W),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(y,se,W)),typeof E.componentDidUpdate=="function"&&(c.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof E.componentDidUpdate!="function"||U===a.memoizedProps&&ie===a.memoizedState||(c.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||U===a.memoizedProps&&ie===a.memoizedState||(c.flags|=1024),c.memoizedProps=y,c.memoizedState=se),E.props=y,E.state=se,E.context=W,y=pe):(typeof E.componentDidUpdate!="function"||U===a.memoizedProps&&ie===a.memoizedState||(c.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||U===a.memoizedProps&&ie===a.memoizedState||(c.flags|=1024),y=!1)}return E=y,yv(a,c),y=(c.flags&128)!==0,E||y?(E=c.stateNode,h=y&&typeof h.getDerivedStateFromError!="function"?null:E.render(),c.flags|=1,a!==null&&y?(c.child=Nd(c,a.child,null,_),c.child=Nd(c,null,h,_)):xr(a,c,h,_),c.memoizedState=E.state,a=c.child):a=$o(a,c,_),a}function T2(a,c,h,y){return fm(),c.flags|=256,xr(a,c,h,y),c.child}var P_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function N_(a){return{baseLanes:a,cachePool:cM()}}function M_(a,c,h){return a=a!==null?a.childLanes&~h:0,c&&(a|=Qi),a}function E2(a,c,h){var y=c.pendingProps,_=!1,E=(c.flags&128)!==0,U;if((U=E)||(U=a!==null&&a.memoizedState===null?!1:(Yn.current&2)!==0),U&&(_=!0,c.flags&=-129),U=(c.flags&32)!==0,c.flags&=-33,a===null){if(Pt){if(_?Ha(c):Ka(),Pt){var z=bn,W;if(W=z){e:{for(W=z,z=Ws;W.nodeType!==8;){if(!z){z=null;break e}if(W=_s(W.nextSibling),W===null){z=null;break e}}z=W}z!==null?(c.memoizedState={dehydrated:z,treeContext:Ru!==null?{id:Uo,overflow:Fo}:null,retryLane:536870912,hydrationErrors:null},W=xi(18,null,null,0),W.stateNode=z,W.return=c,c.child=W,Wr=c,bn=null,W=!0):W=!1}W||Mu(c)}if(z=c.memoizedState,z!==null&&(z=z.dehydrated,z!==null))return pT(z)?c.lanes=32:c.lanes=536870912,null;zo(c)}return z=y.children,y=y.fallback,_?(Ka(),_=c.mode,z=vv({mode:"hidden",children:z},_),y=Iu(y,_,h,null),z.return=c,y.return=c,z.sibling=y,c.child=z,_=c.child,_.memoizedState=N_(h),_.childLanes=M_(a,U,h),c.memoizedState=P_,y):(Ha(c),D_(c,z))}if(W=a.memoizedState,W!==null&&(z=W.dehydrated,z!==null)){if(E)c.flags&256?(Ha(c),c.flags&=-257,c=k_(a,c,h)):c.memoizedState!==null?(Ka(),c.child=a.child,c.flags|=128,c=null):(Ka(),_=y.fallback,z=c.mode,y=vv({mode:"visible",children:y.children},z),_=Iu(_,z,h,null),_.flags|=2,y.return=c,_.return=c,y.sibling=_,c.child=y,Nd(c,a.child,null,h),y=c.child,y.memoizedState=N_(h),y.childLanes=M_(a,U,h),c.memoizedState=P_,c=_);else if(Ha(c),pT(z)){if(U=z.nextSibling&&z.nextSibling.dataset,U)var re=U.dgst;U=re,y=Error(r(419)),y.stack="",y.digest=U,hm({value:y,source:null,stack:null}),c=k_(a,c,h)}else if(lr||mm(a,c,h,!1),U=(h&a.childLanes)!==0,lr||U){if(U=Wt,U!==null&&(y=h&-h,y=(y&42)!==0?1:ka(y),y=(y&(U.suspendedLanes|h))!==0?0:y,y!==0&&y!==W.retryLane))throw W.retryLane=y,bd(a,y),Ei(U,a,y),p2;z.data==="$?"||X_(),c=k_(a,c,h)}else z.data==="$?"?(c.flags|=192,c.child=a.child,c=null):(a=W.treeContext,bn=_s(z.nextSibling),Wr=c,Pt=!0,Nu=null,Ws=!1,a!==null&&(Wi[Yi++]=Uo,Wi[Yi++]=Fo,Wi[Yi++]=Ru,Uo=a.id,Fo=a.overflow,Ru=c),c=D_(c,y.children),c.flags|=4096);return c}return _?(Ka(),_=y.fallback,z=c.mode,W=a.child,re=W.sibling,y=Lo(W,{mode:"hidden",children:y.children}),y.subtreeFlags=W.subtreeFlags&65011712,re!==null?_=Lo(re,_):(_=Iu(_,z,h,null),_.flags|=2),_.return=c,y.return=c,y.sibling=_,c.child=y,y=_,_=c.child,z=a.child.memoizedState,z===null?z=N_(h):(W=z.cachePool,W!==null?(re=Wn._currentValue,W=W.parent!==re?{parent:re,pool:re}:W):W=cM(),z={baseLanes:z.baseLanes|h,cachePool:W}),_.memoizedState=z,_.childLanes=M_(a,U,h),c.memoizedState=P_,y):(Ha(c),h=a.child,a=h.sibling,h=Lo(h,{mode:"visible",children:y.children}),h.return=c,h.sibling=null,a!==null&&(U=c.deletions,U===null?(c.deletions=[a],c.flags|=16):U.push(a)),c.child=h,c.memoizedState=null,h)}function D_(a,c){return c=vv({mode:"visible",children:c},a.mode),c.return=a,a.child=c}function vv(a,c){return a=xi(22,a,null,c),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function k_(a,c,h){return Nd(c,a.child,null,h),a=D_(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function S2(a,c,h){a.lanes|=c;var y=a.alternate;y!==null&&(y.lanes|=c),Xw(a.return,c,h)}function O_(a,c,h,y,_){var E=a.memoizedState;E===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:y,tail:h,tailMode:_}:(E.isBackwards=c,E.rendering=null,E.renderingStartTime=0,E.last=y,E.tail=h,E.tailMode=_)}function A2(a,c,h){var y=c.pendingProps,_=y.revealOrder,E=y.tail;if(xr(a,c,y.children,h),y=Yn.current,(y&2)!==0)y=y&1|2,c.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&S2(a,h,c);else if(a.tag===19)S2(a,h,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}y&=1}switch(fe(Yn,y),_){case"forwards":for(h=c.child,_=null;h!==null;)a=h.alternate,a!==null&&mv(a)===null&&(_=h),h=h.sibling;h=_,h===null?(_=c.child,c.child=null):(_=h.sibling,h.sibling=null),O_(c,!1,_,h,E);break;case"backwards":for(h=null,_=c.child,c.child=null;_!==null;){if(a=_.alternate,a!==null&&mv(a)===null){c.child=_;break}a=_.sibling,_.sibling=h,h=_,_=a}O_(c,!0,h,null,E);break;case"together":O_(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function $o(a,c,h){if(a!==null&&(c.dependencies=a.dependencies),Xa|=c.lanes,(h&c.childLanes)===0)if(a!==null){if(mm(a,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(a!==null&&c.child!==a.child)throw Error(r(153));if(c.child!==null){for(a=c.child,h=Lo(a,a.pendingProps),c.child=h,h.return=c;a.sibling!==null;)a=a.sibling,h=h.sibling=Lo(a,a.pendingProps),h.return=c;h.sibling=null}return c.child}function V_(a,c){return(a.lanes&c)!==0?!0:(a=a.dependencies,!!(a!==null&&Xy(a)))}function qK(a,c,h){switch(c.tag){case 3:ct(c,c.stateNode.containerInfo),Ba(c,Wn,a.memoizedState.cache),fm();break;case 27:case 5:Se(c);break;case 4:ct(c,c.stateNode.containerInfo);break;case 10:Ba(c,c.type,c.memoizedProps.value);break;case 13:var y=c.memoizedState;if(y!==null)return y.dehydrated!==null?(Ha(c),c.flags|=128,null):(h&c.child.childLanes)!==0?E2(a,c,h):(Ha(c),a=$o(a,c,h),a!==null?a.sibling:null);Ha(c);break;case 19:var _=(a.flags&128)!==0;if(y=(h&c.childLanes)!==0,y||(mm(a,c,h,!1),y=(h&c.childLanes)!==0),_){if(y)return A2(a,c,h);c.flags|=128}if(_=c.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),fe(Yn,Yn.current),y)break;return null;case 22:case 23:return c.lanes=0,x2(a,c,h);case 24:Ba(c,Wn,a.memoizedState.cache)}return $o(a,c,h)}function C2(a,c,h){if(a!==null)if(a.memoizedProps!==c.pendingProps)lr=!0;else{if(!V_(a,h)&&(c.flags&128)===0)return lr=!1,qK(a,c,h);lr=(a.flags&131072)!==0}else lr=!1,Pt&&(c.flags&1048576)!==0&&rM(c,Qy,c.index);switch(c.lanes=0,c.tag){case 16:e:{a=c.pendingProps;var y=c.elementType,_=y._init;if(y=_(y._payload),c.type=y,typeof y=="function")Gw(y)?(a=Lu(y,a),c.tag=1,c=_2(null,c,y,a,h)):(c.tag=0,c=R_(null,c,y,a,h));else{if(y!=null){if(_=y.$$typeof,_===F){c.tag=11,c=g2(null,c,y,a,h);break e}else if(_===k){c.tag=14,c=y2(null,c,y,a,h);break e}}throw c=he(y)||y,Error(r(306,c,""))}}return c;case 0:return R_(a,c,c.type,c.pendingProps,h);case 1:return y=c.type,_=Lu(y,c.pendingProps),_2(a,c,y,_,h);case 3:e:{if(ct(c,c.stateNode.containerInfo),a===null)throw Error(r(387));y=c.pendingProps;var E=c.memoizedState;_=E.element,s_(a,c),wm(c,y,null,h);var U=c.memoizedState;if(y=U.cache,Ba(c,Wn,y),y!==E.cache&&Zw(c,[Wn],h,!0),bm(),y=U.element,E.isDehydrated)if(E={element:y,isDehydrated:!1,cache:U.cache},c.updateQueue.baseState=E,c.memoizedState=E,c.flags&256){c=T2(a,c,y,h);break e}else if(y!==_){_=Hi(Error(r(424)),c),hm(_),c=T2(a,c,y,h);break e}else{switch(a=c.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(bn=_s(a.firstChild),Wr=c,Pt=!0,Nu=null,Ws=!0,h=s2(c,null,y,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(fm(),y===_){c=$o(a,c,h);break e}xr(a,c,y,h)}c=c.child}return c;case 26:return yv(a,c),a===null?(h=ND(c.type,null,c.pendingProps,null))?c.memoizedState=h:Pt||(h=c.type,a=c.pendingProps,y=Mv($e.current).createElement(h),y[Gn]=c,y[kn]=a,wr(y,h,a),Cn(y),c.stateNode=y):c.memoizedState=ND(c.type,a.memoizedProps,c.pendingProps,a.memoizedState),null;case 27:return Se(c),a===null&&Pt&&(y=c.stateNode=ID(c.type,c.pendingProps,$e.current),Wr=c,Ws=!0,_=bn,nl(c.type)?(gT=_,bn=_s(y.firstChild)):bn=_),xr(a,c,c.pendingProps.children,h),yv(a,c),a===null&&(c.flags|=4194304),c.child;case 5:return a===null&&Pt&&((_=y=bn)&&(y=gW(y,c.type,c.pendingProps,Ws),y!==null?(c.stateNode=y,Wr=c,bn=_s(y.firstChild),Ws=!1,_=!0):_=!1),_||Mu(c)),Se(c),_=c.type,E=c.pendingProps,U=a!==null?a.memoizedProps:null,y=E.children,fT(_,E)?y=null:U!==null&&fT(_,U)&&(c.flags|=32),c.memoizedState!==null&&(_=d_(a,c,kK,null,null,h),zm._currentValue=_),yv(a,c),xr(a,c,y,h),c.child;case 6:return a===null&&Pt&&((a=h=bn)&&(h=yW(h,c.pendingProps,Ws),h!==null?(c.stateNode=h,Wr=c,bn=null,a=!0):a=!1),a||Mu(c)),null;case 13:return E2(a,c,h);case 4:return ct(c,c.stateNode.containerInfo),y=c.pendingProps,a===null?c.child=Nd(c,null,y,h):xr(a,c,y,h),c.child;case 11:return g2(a,c,c.type,c.pendingProps,h);case 7:return xr(a,c,c.pendingProps,h),c.child;case 8:return xr(a,c,c.pendingProps.children,h),c.child;case 12:return xr(a,c,c.pendingProps.children,h),c.child;case 10:return y=c.pendingProps,Ba(c,c.type,y.value),xr(a,c,y.children,h),c.child;case 9:return _=c.type._context,y=c.pendingProps.children,ku(c),_=Dr(_),y=y(_),c.flags|=1,xr(a,c,y,h),c.child;case 14:return y2(a,c,c.type,c.pendingProps,h);case 15:return v2(a,c,c.type,c.pendingProps,h);case 19:return A2(a,c,h);case 31:return y=c.pendingProps,h=c.mode,y={mode:y.mode,children:y.children},a===null?(h=vv(y,h),h.ref=c.ref,c.child=h,h.return=c,c=h):(h=Lo(a.child,y),h.ref=c.ref,c.child=h,h.return=c,c=h),c;case 22:return x2(a,c,h);case 24:return ku(c),y=Dr(Wn),a===null?(_=n_(),_===null&&(_=Wt,E=e_(),_.pooledCache=E,E.refCount++,E!==null&&(_.pooledCacheLanes|=h),_=E),c.memoizedState={parent:y,cache:_},i_(c),Ba(c,Wn,_)):((a.lanes&h)!==0&&(s_(a,c),wm(c,null,null,h),bm()),_=a.memoizedState,E=c.memoizedState,_.parent!==y?(_={parent:y,cache:y},c.memoizedState=_,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=_),Ba(c,Wn,y)):(y=E.cache,Ba(c,Wn,y),y!==_.cache&&Zw(c,[Wn],h,!0))),xr(a,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function Go(a){a.flags|=4}function I2(a,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!VD(c)){if(c=Ji.current,c!==null&&((_t&4194048)===_t?Ys!==null:(_t&62914560)!==_t&&(_t&536870912)===0||c!==Ys))throw vm=r_,dM;a.flags|=8192}}function xv(a,c){c!==null&&(a.flags|=4),a.flags&16384&&(c=a.tag!==22?pi():536870912,a.lanes|=c,Od|=c)}function Im(a,c){if(!Pt)switch(a.tailMode){case"hidden":c=a.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var y=null;h!==null;)h.alternate!==null&&(y=h),h=h.sibling;y===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:y.sibling=null}}function gn(a){var c=a.alternate!==null&&a.alternate.child===a.child,h=0,y=0;if(c)for(var _=a.child;_!==null;)h|=_.lanes|_.childLanes,y|=_.subtreeFlags&65011712,y|=_.flags&65011712,_.return=a,_=_.sibling;else for(_=a.child;_!==null;)h|=_.lanes|_.childLanes,y|=_.subtreeFlags,y|=_.flags,_.return=a,_=_.sibling;return a.subtreeFlags|=y,a.childLanes=h,c}function zK(a,c,h){var y=c.pendingProps;switch(Yw(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gn(c),null;case 1:return gn(c),null;case 3:return h=c.stateNode,y=null,a!==null&&(y=a.memoizedState.cache),c.memoizedState.cache!==y&&(c.flags|=2048),Bo(Wn),Ae(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&(dm(c)?Go(c):a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,oM())),gn(c),null;case 26:return h=c.memoizedState,a===null?(Go(c),h!==null?(gn(c),I2(c,h)):(gn(c),c.flags&=-16777217)):h?h!==a.memoizedState?(Go(c),gn(c),I2(c,h)):(gn(c),c.flags&=-16777217):(a.memoizedProps!==y&&Go(c),gn(c),c.flags&=-16777217),null;case 27:ke(c),h=$e.current;var _=c.type;if(a!==null&&c.stateNode!=null)a.memoizedProps!==y&&Go(c);else{if(!y){if(c.stateNode===null)throw Error(r(166));return gn(c),null}a=Ce.current,dm(c)?iM(c):(a=ID(_,y,h),c.stateNode=a,Go(c))}return gn(c),null;case 5:if(ke(c),h=c.type,a!==null&&c.stateNode!=null)a.memoizedProps!==y&&Go(c);else{if(!y){if(c.stateNode===null)throw Error(r(166));return gn(c),null}if(a=Ce.current,dm(c))iM(c);else{switch(_=Mv($e.current),a){case 1:a=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:a=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":a=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":a=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":a=_.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof y.is=="string"?_.createElement("select",{is:y.is}):_.createElement("select"),y.multiple?a.multiple=!0:y.size&&(a.size=y.size);break;default:a=typeof y.is=="string"?_.createElement(h,{is:y.is}):_.createElement(h)}}a[Gn]=c,a[kn]=y;e:for(_=c.child;_!==null;){if(_.tag===5||_.tag===6)a.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===c)break e;for(;_.sibling===null;){if(_.return===null||_.return===c)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}c.stateNode=a;e:switch(wr(a,h,y),h){case"button":case"input":case"select":case"textarea":a=!!y.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Go(c)}}return gn(c),c.flags&=-16777217,null;case 6:if(a&&c.stateNode!=null)a.memoizedProps!==y&&Go(c);else{if(typeof y!="string"&&c.stateNode===null)throw Error(r(166));if(a=$e.current,dm(c)){if(a=c.stateNode,h=c.memoizedProps,y=null,_=Wr,_!==null)switch(_.tag){case 27:case 5:y=_.memoizedProps}a[Gn]=c,a=!!(a.nodeValue===h||y!==null&&y.suppressHydrationWarning===!0||wD(a.nodeValue,h)),a||Mu(c)}else a=Mv(a).createTextNode(y),a[Gn]=c,c.stateNode=a}return gn(c),null;case 13:if(y=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(_=dm(c),y!==null&&y.dehydrated!==null){if(a===null){if(!_)throw Error(r(318));if(_=c.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[Gn]=c}else fm(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;gn(c),_=!1}else _=oM(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=_),_=!0;if(!_)return c.flags&256?(zo(c),c):(zo(c),null)}if(zo(c),(c.flags&128)!==0)return c.lanes=h,c;if(h=y!==null,a=a!==null&&a.memoizedState!==null,h){y=c.child,_=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(_=y.alternate.memoizedState.cachePool.pool);var E=null;y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(E=y.memoizedState.cachePool.pool),E!==_&&(y.flags|=2048)}return h!==a&&h&&(c.child.flags|=8192),xv(c,c.updateQueue),gn(c),null;case 4:return Ae(),a===null&&aT(c.stateNode.containerInfo),gn(c),null;case 10:return Bo(c.type),gn(c),null;case 19:if(ce(Yn),_=c.memoizedState,_===null)return gn(c),null;if(y=(c.flags&128)!==0,E=_.rendering,E===null)if(y)Im(_,!1);else{if(wn!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(E=mv(a),E!==null){for(c.flags|=128,Im(_,!1),a=E.updateQueue,c.updateQueue=a,xv(c,a),c.subtreeFlags=0,a=h,h=c.child;h!==null;)nM(h,a),h=h.sibling;return fe(Yn,Yn.current&1|2),c.child}a=a.sibling}_.tail!==null&&mn()>_v&&(c.flags|=128,y=!0,Im(_,!1),c.lanes=4194304)}else{if(!y)if(a=mv(E),a!==null){if(c.flags|=128,y=!0,a=a.updateQueue,c.updateQueue=a,xv(c,a),Im(_,!0),_.tail===null&&_.tailMode==="hidden"&&!E.alternate&&!Pt)return gn(c),null}else 2*mn()-_.renderingStartTime>_v&&h!==536870912&&(c.flags|=128,y=!0,Im(_,!1),c.lanes=4194304);_.isBackwards?(E.sibling=c.child,c.child=E):(a=_.last,a!==null?a.sibling=E:c.child=E,_.last=E)}return _.tail!==null?(c=_.tail,_.rendering=c,_.tail=c.sibling,_.renderingStartTime=mn(),c.sibling=null,a=Yn.current,fe(Yn,y?a&1|2:a&1),c):(gn(c),null);case 22:case 23:return zo(c),u_(),y=c.memoizedState!==null,a!==null?a.memoizedState!==null!==y&&(c.flags|=8192):y&&(c.flags|=8192),y?(h&536870912)!==0&&(c.flags&128)===0&&(gn(c),c.subtreeFlags&6&&(c.flags|=8192)):gn(c),h=c.updateQueue,h!==null&&xv(c,h.retryQueue),h=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),y=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==h&&(c.flags|=2048),a!==null&&ce(Ou),null;case 24:return h=null,a!==null&&(h=a.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),Bo(Wn),gn(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function $K(a,c){switch(Yw(c),c.tag){case 1:return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return Bo(Wn),Ae(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 26:case 27:case 5:return ke(c),null;case 13:if(zo(c),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(r(340));fm()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return ce(Yn),null;case 4:return Ae(),null;case 10:return Bo(c.type),null;case 22:case 23:return zo(c),u_(),a!==null&&ce(Ou),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 24:return Bo(Wn),null;case 25:return null;default:return null}}function R2(a,c){switch(Yw(c),c.tag){case 3:Bo(Wn),Ae();break;case 26:case 27:case 5:ke(c);break;case 4:Ae();break;case 13:zo(c);break;case 19:ce(Yn);break;case 10:Bo(c.type);break;case 22:case 23:zo(c),u_(),a!==null&&ce(Ou);break;case 24:Bo(Wn)}}function Rm(a,c){try{var h=c.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var _=y.next;h=_;do{if((h.tag&a)===a){y=void 0;var E=h.create,U=h.inst;y=E(),U.destroy=y}h=h.next}while(h!==_)}}catch(z){Ht(c,c.return,z)}}function Wa(a,c,h){try{var y=c.updateQueue,_=y!==null?y.lastEffect:null;if(_!==null){var E=_.next;y=E;do{if((y.tag&a)===a){var U=y.inst,z=U.destroy;if(z!==void 0){U.destroy=void 0,_=c;var W=h,re=z;try{re()}catch(pe){Ht(_,W,pe)}}}y=y.next}while(y!==E)}}catch(pe){Ht(c,c.return,pe)}}function P2(a){var c=a.updateQueue;if(c!==null){var h=a.stateNode;try{yM(c,h)}catch(y){Ht(a,a.return,y)}}}function N2(a,c,h){h.props=Lu(a.type,a.memoizedProps),h.state=a.memoizedState;try{h.componentWillUnmount()}catch(y){Ht(a,c,y)}}function Pm(a,c){try{var h=a.ref;if(h!==null){switch(a.tag){case 26:case 27:case 5:var y=a.stateNode;break;case 30:y=a.stateNode;break;default:y=a.stateNode}typeof h=="function"?a.refCleanup=h(y):h.current=y}}catch(_){Ht(a,c,_)}}function Js(a,c){var h=a.ref,y=a.refCleanup;if(h!==null)if(typeof y=="function")try{y()}catch(_){Ht(a,c,_)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(_){Ht(a,c,_)}else h.current=null}function M2(a){var c=a.type,h=a.memoizedProps,y=a.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&y.focus();break e;case"img":h.src?y.src=h.src:h.srcSet&&(y.srcset=h.srcSet)}}catch(_){Ht(a,a.return,_)}}function L_(a,c,h){try{var y=a.stateNode;dW(y,a.type,h,c),y[kn]=c}catch(_){Ht(a,a.return,_)}}function D2(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&nl(a.type)||a.tag===4}function U_(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||D2(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&nl(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function F_(a,c,h){var y=a.tag;if(y===5||y===6)a=a.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(a,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(a),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Nv));else if(y!==4&&(y===27&&nl(a.type)&&(h=a.stateNode,c=null),a=a.child,a!==null))for(F_(a,c,h),a=a.sibling;a!==null;)F_(a,c,h),a=a.sibling}function bv(a,c,h){var y=a.tag;if(y===5||y===6)a=a.stateNode,c?h.insertBefore(a,c):h.appendChild(a);else if(y!==4&&(y===27&&nl(a.type)&&(h=a.stateNode),a=a.child,a!==null))for(bv(a,c,h),a=a.sibling;a!==null;)bv(a,c,h),a=a.sibling}function k2(a){var c=a.stateNode,h=a.memoizedProps;try{for(var y=a.type,_=c.attributes;_.length;)c.removeAttributeNode(_[0]);wr(c,y,h),c[Gn]=a,c[kn]=h}catch(E){Ht(a,a.return,E)}}var Ho=!1,Rn=!1,j_=!1,O2=typeof WeakSet=="function"?WeakSet:Set,ur=null;function GK(a,c){if(a=a.containerInfo,cT=Uv,a=HN(a),Uw(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var y=h.getSelection&&h.getSelection();if(y&&y.rangeCount!==0){h=y.anchorNode;var _=y.anchorOffset,E=y.focusNode;y=y.focusOffset;try{h.nodeType,E.nodeType}catch(Xe){h=null;break e}var U=0,z=-1,W=-1,re=0,pe=0,ye=a,ie=null;t:for(;;){for(var se;ye!==h||_!==0&&ye.nodeType!==3||(z=U+_),ye!==E||y!==0&&ye.nodeType!==3||(W=U+y),ye.nodeType===3&&(U+=ye.nodeValue.length),(se=ye.firstChild)!==null;)ie=ye,ye=se;for(;;){if(ye===a)break t;if(ie===h&&++re===_&&(z=U),ie===E&&++pe===y&&(W=U),(se=ye.nextSibling)!==null)break;ye=ie,ie=ye.parentNode}ye=se}h=z===-1||W===-1?null:{start:z,end:W}}else h=null}h=h||{start:0,end:0}}else h=null;for(dT={focusedElem:a,selectionRange:h},Uv=!1,ur=c;ur!==null;)if(c=ur,a=c.child,(c.subtreeFlags&1024)!==0&&a!==null)a.return=c,ur=a;else for(;ur!==null;){switch(c=ur,E=c.alternate,a=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&E!==null){a=void 0,h=c,_=E.memoizedProps,E=E.memoizedState,y=h.stateNode;try{var nt=Lu(h.type,_,h.elementType===h.type);a=y.getSnapshotBeforeUpdate(nt,E),y.__reactInternalSnapshotBeforeUpdate=a}catch(Xe){Ht(h,h.return,Xe)}}break;case 3:if((a&1024)!==0){if(a=c.stateNode.containerInfo,h=a.nodeType,h===9)mT(a);else if(h===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":mT(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=c.sibling,a!==null){a.return=c.return,ur=a;break}ur=c.return}}function V2(a,c,h){var y=h.flags;switch(h.tag){case 0:case 11:case 15:Ya(a,h),y&4&&Rm(5,h);break;case 1:if(Ya(a,h),y&4)if(a=h.stateNode,c===null)try{a.componentDidMount()}catch(U){Ht(h,h.return,U)}else{var _=Lu(h.type,c.memoizedProps);c=c.memoizedState;try{a.componentDidUpdate(_,c,a.__reactInternalSnapshotBeforeUpdate)}catch(U){Ht(h,h.return,U)}}y&64&&P2(h),y&512&&Pm(h,h.return);break;case 3:if(Ya(a,h),y&64&&(a=h.updateQueue,a!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{yM(a,c)}catch(U){Ht(h,h.return,U)}}break;case 27:c===null&&y&4&&k2(h);case 26:case 5:Ya(a,h),c===null&&y&4&&M2(h),y&512&&Pm(h,h.return);break;case 12:Ya(a,h);break;case 13:Ya(a,h),y&4&&F2(a,h),y&64&&(a=h.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(h=eW.bind(null,h),vW(a,h))));break;case 22:if(y=h.memoizedState!==null||Ho,!y){c=c!==null&&c.memoizedState!==null||Rn,_=Ho;var E=Rn;Ho=y,(Rn=c)&&!E?Ja(a,h,(h.subtreeFlags&8772)!==0):Ya(a,h),Ho=_,Rn=E}break;case 30:break;default:Ya(a,h)}}function L2(a){var c=a.alternate;c!==null&&(a.alternate=null,L2(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&La(c)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var on=null,ii=!1;function Ko(a,c,h){for(h=h.child;h!==null;)U2(a,c,h),h=h.sibling}function U2(a,c,h){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(Zt,h)}catch(E){}switch(h.tag){case 26:Rn||Js(h,c),Ko(a,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Rn||Js(h,c);var y=on,_=ii;nl(h.type)&&(on=h.stateNode,ii=!1),Ko(a,c,h),Fm(h.stateNode),on=y,ii=_;break;case 5:Rn||Js(h,c);case 6:if(y=on,_=ii,on=null,Ko(a,c,h),on=y,ii=_,on!==null)if(ii)try{(on.nodeType===9?on.body:on.nodeName==="HTML"?on.ownerDocument.body:on).removeChild(h.stateNode)}catch(E){Ht(h,c,E)}else try{on.removeChild(h.stateNode)}catch(E){Ht(h,c,E)}break;case 18:on!==null&&(ii?(a=on,AD(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,h.stateNode),Km(a)):AD(on,h.stateNode));break;case 4:y=on,_=ii,on=h.stateNode.containerInfo,ii=!0,Ko(a,c,h),on=y,ii=_;break;case 0:case 11:case 14:case 15:Rn||Wa(2,h,c),Rn||Wa(4,h,c),Ko(a,c,h);break;case 1:Rn||(Js(h,c),y=h.stateNode,typeof y.componentWillUnmount=="function"&&N2(h,c,y)),Ko(a,c,h);break;case 21:Ko(a,c,h);break;case 22:Rn=(y=Rn)||h.memoizedState!==null,Ko(a,c,h),Rn=y;break;default:Ko(a,c,h)}}function F2(a,c){if(c.memoizedState===null&&(a=c.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Km(a)}catch(h){Ht(c,c.return,h)}}function HK(a){switch(a.tag){case 13:case 19:var c=a.stateNode;return c===null&&(c=a.stateNode=new O2),c;case 22:return a=a.stateNode,c=a._retryCache,c===null&&(c=a._retryCache=new O2),c;default:throw Error(r(435,a.tag))}}function B_(a,c){var h=HK(a);c.forEach(function(y){var _=tW.bind(null,a,y);h.has(y)||(h.add(y),y.then(_,_))})}function bi(a,c){var h=c.deletions;if(h!==null)for(var y=0;y<h.length;y++){var _=h[y],E=a,U=c,z=U;e:for(;z!==null;){switch(z.tag){case 27:if(nl(z.type)){on=z.stateNode,ii=!1;break e}break;case 5:on=z.stateNode,ii=!1;break e;case 3:case 4:on=z.stateNode.containerInfo,ii=!0;break e}z=z.return}if(on===null)throw Error(r(160));U2(E,U,_),on=null,ii=!1,E=_.alternate,E!==null&&(E.return=null),_.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)j2(c,a),c=c.sibling}var ws=null;function j2(a,c){var h=a.alternate,y=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:bi(c,a),wi(a),y&4&&(Wa(3,a,a.return),Rm(3,a),Wa(5,a,a.return));break;case 1:bi(c,a),wi(a),y&512&&(Rn||h===null||Js(h,h.return)),y&64&&Ho&&(a=a.updateQueue,a!==null&&(y=a.callbacks,y!==null&&(h=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=h===null?y:h.concat(y))));break;case 26:var _=ws;if(bi(c,a),wi(a),y&512&&(Rn||h===null||Js(h,h.return)),y&4){var E=h!==null?h.memoizedState:null;if(y=a.memoizedState,h===null)if(y===null)if(a.stateNode===null){e:{y=a.type,h=a.memoizedProps,_=_.ownerDocument||_;t:switch(y){case"title":E=_.getElementsByTagName("title")[0],(!E||E[fu]||E[Gn]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=_.createElement(y),_.head.insertBefore(E,_.querySelector("head > title"))),wr(E,y,h),E[Gn]=a,Cn(E),y=E;break e;case"link":var U=kD("link","href",_).get(y+(h.href||""));if(U){for(var z=0;z<U.length;z++)if(E=U[z],E.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&E.getAttribute("rel")===(h.rel==null?null:h.rel)&&E.getAttribute("title")===(h.title==null?null:h.title)&&E.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){U.splice(z,1);break t}}E=_.createElement(y),wr(E,y,h),_.head.appendChild(E);break;case"meta":if(U=kD("meta","content",_).get(y+(h.content||""))){for(z=0;z<U.length;z++)if(E=U[z],E.getAttribute("content")===(h.content==null?null:""+h.content)&&E.getAttribute("name")===(h.name==null?null:h.name)&&E.getAttribute("property")===(h.property==null?null:h.property)&&E.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&E.getAttribute("charset")===(h.charSet==null?null:h.charSet)){U.splice(z,1);break t}}E=_.createElement(y),wr(E,y,h),_.head.appendChild(E);break;default:throw Error(r(468,y))}E[Gn]=a,Cn(E),y=E}a.stateNode=y}else OD(_,a.type,a.stateNode);else a.stateNode=DD(_,y,a.memoizedProps);else E!==y?(E===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):E.count--,y===null?OD(_,a.type,a.stateNode):DD(_,y,a.memoizedProps)):y===null&&a.stateNode!==null&&L_(a,a.memoizedProps,h.memoizedProps)}break;case 27:bi(c,a),wi(a),y&512&&(Rn||h===null||Js(h,h.return)),h!==null&&y&4&&L_(a,a.memoizedProps,h.memoizedProps);break;case 5:if(bi(c,a),wi(a),y&512&&(Rn||h===null||Js(h,h.return)),a.flags&32){_=a.stateNode;try{qi(_,"")}catch(se){Ht(a,a.return,se)}}y&4&&a.stateNode!=null&&(_=a.memoizedProps,L_(a,_,h!==null?h.memoizedProps:_)),y&1024&&(j_=!0);break;case 6:if(bi(c,a),wi(a),y&4){if(a.stateNode===null)throw Error(r(162));y=a.memoizedProps,h=a.stateNode;try{h.nodeValue=y}catch(se){Ht(a,a.return,se)}}break;case 3:if(Ov=null,_=ws,ws=Dv(c.containerInfo),bi(c,a),ws=_,wi(a),y&4&&h!==null&&h.memoizedState.isDehydrated)try{Km(c.containerInfo)}catch(se){Ht(a,a.return,se)}j_&&(j_=!1,B2(a));break;case 4:y=ws,ws=Dv(a.stateNode.containerInfo),bi(c,a),wi(a),ws=y;break;case 12:bi(c,a),wi(a);break;case 13:bi(c,a),wi(a),a.child.flags&8192&&a.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(K_=mn()),y&4&&(y=a.updateQueue,y!==null&&(a.updateQueue=null,B_(a,y)));break;case 22:_=a.memoizedState!==null;var W=h!==null&&h.memoizedState!==null,re=Ho,pe=Rn;if(Ho=re||_,Rn=pe||W,bi(c,a),Rn=pe,Ho=re,wi(a),y&8192)e:for(c=a.stateNode,c._visibility=_?c._visibility&-2:c._visibility|1,_&&(h===null||W||Ho||Rn||Uu(a)),h=null,c=a;;){if(c.tag===5||c.tag===26){if(h===null){W=h=c;try{if(E=W.stateNode,_)U=E.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none";else{z=W.stateNode;var ye=W.memoizedProps.style,ie=ye!=null&&ye.hasOwnProperty("display")?ye.display:null;z.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(se){Ht(W,W.return,se)}}}else if(c.tag===6){if(h===null){W=c;try{W.stateNode.nodeValue=_?"":W.memoizedProps}catch(se){Ht(W,W.return,se)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===a)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break e;for(;c.sibling===null;){if(c.return===null||c.return===a)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}y&4&&(y=a.updateQueue,y!==null&&(h=y.retryQueue,h!==null&&(y.retryQueue=null,B_(a,h))));break;case 19:bi(c,a),wi(a),y&4&&(y=a.updateQueue,y!==null&&(a.updateQueue=null,B_(a,y)));break;case 30:break;case 21:break;default:bi(c,a),wi(a)}}function wi(a){var c=a.flags;if(c&2){try{for(var h,y=a.return;y!==null;){if(D2(y)){h=y;break}y=y.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var _=h.stateNode,E=U_(a);bv(a,E,_);break;case 5:var U=h.stateNode;h.flags&32&&(qi(U,""),h.flags&=-33);var z=U_(a);bv(a,z,U);break;case 3:case 4:var W=h.stateNode.containerInfo,re=U_(a);F_(a,re,W);break;default:throw Error(r(161))}}catch(pe){Ht(a,a.return,pe)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function B2(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var c=a;B2(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),a=a.sibling}}function Ya(a,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)V2(a,c.alternate,c),c=c.sibling}function Uu(a){for(a=a.child;a!==null;){var c=a;switch(c.tag){case 0:case 11:case 14:case 15:Wa(4,c,c.return),Uu(c);break;case 1:Js(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&N2(c,c.return,h),Uu(c);break;case 27:Fm(c.stateNode);case 26:case 5:Js(c,c.return),Uu(c);break;case 22:c.memoizedState===null&&Uu(c);break;case 30:Uu(c);break;default:Uu(c)}a=a.sibling}}function Ja(a,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var y=c.alternate,_=a,E=c,U=E.flags;switch(E.tag){case 0:case 11:case 15:Ja(_,E,h),Rm(4,E);break;case 1:if(Ja(_,E,h),y=E,_=y.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(re){Ht(y,y.return,re)}if(y=E,_=y.updateQueue,_!==null){var z=y.stateNode;try{var W=_.shared.hiddenCallbacks;if(W!==null)for(_.shared.hiddenCallbacks=null,_=0;_<W.length;_++)gM(W[_],z)}catch(re){Ht(y,y.return,re)}}h&&U&64&&P2(E),Pm(E,E.return);break;case 27:k2(E);case 26:case 5:Ja(_,E,h),h&&y===null&&U&4&&M2(E),Pm(E,E.return);break;case 12:Ja(_,E,h);break;case 13:Ja(_,E,h),h&&U&4&&F2(_,E);break;case 22:E.memoizedState===null&&Ja(_,E,h),Pm(E,E.return);break;case 30:break;default:Ja(_,E,h)}c=c.sibling}}function q_(a,c){var h=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),a=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(a=c.memoizedState.cachePool.pool),a!==h&&(a!=null&&a.refCount++,h!=null&&pm(h))}function z_(a,c){a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&pm(a))}function Qs(a,c,h,y){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)q2(a,c,h,y),c=c.sibling}function q2(a,c,h,y){var _=c.flags;switch(c.tag){case 0:case 11:case 15:Qs(a,c,h,y),_&2048&&Rm(9,c);break;case 1:Qs(a,c,h,y);break;case 3:Qs(a,c,h,y),_&2048&&(a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&pm(a)));break;case 12:if(_&2048){Qs(a,c,h,y),a=c.stateNode;try{var E=c.memoizedProps,U=E.id,z=E.onPostCommit;typeof z=="function"&&z(U,c.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(W){Ht(c,c.return,W)}}else Qs(a,c,h,y);break;case 13:Qs(a,c,h,y);break;case 23:break;case 22:E=c.stateNode,U=c.alternate,c.memoizedState!==null?E._visibility&2?Qs(a,c,h,y):Nm(a,c):E._visibility&2?Qs(a,c,h,y):(E._visibility|=2,Md(a,c,h,y,(c.subtreeFlags&10256)!==0)),_&2048&&q_(U,c);break;case 24:Qs(a,c,h,y),_&2048&&z_(c.alternate,c);break;default:Qs(a,c,h,y)}}function Md(a,c,h,y,_){for(_=_&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var E=a,U=c,z=h,W=y,re=U.flags;switch(U.tag){case 0:case 11:case 15:Md(E,U,z,W,_),Rm(8,U);break;case 23:break;case 22:var pe=U.stateNode;U.memoizedState!==null?pe._visibility&2?Md(E,U,z,W,_):Nm(E,U):(pe._visibility|=2,Md(E,U,z,W,_)),_&&re&2048&&q_(U.alternate,U);break;case 24:Md(E,U,z,W,_),_&&re&2048&&z_(U.alternate,U);break;default:Md(E,U,z,W,_)}c=c.sibling}}function Nm(a,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=a,y=c,_=y.flags;switch(y.tag){case 22:Nm(h,y),_&2048&&q_(y.alternate,y);break;case 24:Nm(h,y),_&2048&&z_(y.alternate,y);break;default:Nm(h,y)}c=c.sibling}}var Mm=8192;function Dd(a){if(a.subtreeFlags&Mm)for(a=a.child;a!==null;)z2(a),a=a.sibling}function z2(a){switch(a.tag){case 26:Dd(a),a.flags&Mm&&a.memoizedState!==null&&NW(ws,a.memoizedState,a.memoizedProps);break;case 5:Dd(a);break;case 3:case 4:var c=ws;ws=Dv(a.stateNode.containerInfo),Dd(a),ws=c;break;case 22:a.memoizedState===null&&(c=a.alternate,c!==null&&c.memoizedState!==null?(c=Mm,Mm=16777216,Dd(a),Mm=c):Dd(a));break;default:Dd(a)}}function $2(a){var c=a.alternate;if(c!==null&&(a=c.child,a!==null)){c.child=null;do c=a.sibling,a.sibling=null,a=c;while(a!==null)}}function Dm(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var y=c[h];ur=y,H2(y,a)}$2(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)G2(a),a=a.sibling}function G2(a){switch(a.tag){case 0:case 11:case 15:Dm(a),a.flags&2048&&Wa(9,a,a.return);break;case 3:Dm(a);break;case 12:Dm(a);break;case 22:var c=a.stateNode;a.memoizedState!==null&&c._visibility&2&&(a.return===null||a.return.tag!==13)?(c._visibility&=-3,wv(a)):Dm(a);break;default:Dm(a)}}function wv(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var y=c[h];ur=y,H2(y,a)}$2(a)}for(a=a.child;a!==null;){switch(c=a,c.tag){case 0:case 11:case 15:Wa(8,c,c.return),wv(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,wv(c));break;default:wv(c)}a=a.sibling}}function H2(a,c){for(;ur!==null;){var h=ur;switch(h.tag){case 0:case 11:case 15:Wa(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var y=h.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:pm(h.memoizedState.cache)}if(y=h.child,y!==null)y.return=h,ur=y;else e:for(h=a;ur!==null;){y=ur;var _=y.sibling,E=y.return;if(L2(y),y===h){ur=null;break e}if(_!==null){_.return=E,ur=_;break e}ur=E}}}var KK={getCacheForType:function(a){var c=Dr(Wn),h=c.data.get(a);return h===void 0&&(h=a(),c.data.set(a,h)),h}},WK=typeof WeakMap=="function"?WeakMap:Map,Vt=0,Wt=null,mt=null,_t=0,Lt=0,_i=null,Qa=!1,kd=!1,$_=!1,Wo=0,wn=0,Xa=0,Fu=0,G_=0,Qi=0,Od=0,km=null,si=null,H_=!1,K_=0,_v=1/0,Tv=null,Za=null,br=0,el=null,Vd=null,Ld=0,W_=0,Y_=null,K2=null,Om=0,J_=null;function Ti(){if((Vt&2)!==0&&_t!==0)return _t&-_t;if(Q.T!==null){var a=Ed;return a!==0?a:rT()}return Oa()}function W2(){Qi===0&&(Qi=(_t&536870912)===0||Pt?gr():536870912);var a=Ji.current;return a!==null&&(a.flags|=32),Qi}function Ei(a,c,h){(a===Wt&&(Lt===2||Lt===9)||a.cancelPendingCommit!==null)&&(Ud(a,0),tl(a,_t,Qi,!1)),Ao(a,h),((Vt&2)===0||a!==Wt)&&(a===Wt&&((Vt&2)===0&&(Fu|=h),wn===4&&tl(a,_t,Qi,!1)),Xs(a))}function Y2(a,c,h){if((Vt&6)!==0)throw Error(r(327));var y=!h&&(c&124)===0&&(c&a.expiredLanes)===0||st(a,c),_=y?QK(a,c):Z_(a,c,!0),E=y;do{if(_===0){kd&&!y&&tl(a,c,0,!1);break}else{if(h=a.current.alternate,E&&!YK(h)){_=Z_(a,c,!1),E=!1;continue}if(_===2){if(E=c,a.errorRecoveryDisabledLanes&E)var U=0;else U=a.pendingLanes&-536870913,U=U!==0?U:U&536870912?536870912:0;if(U!==0){c=U;e:{var z=a;_=km;var W=z.current.memoizedState.isDehydrated;if(W&&(Ud(z,U).flags|=256),U=Z_(z,U,!1),U!==2){if($_&&!W){z.errorRecoveryDisabledLanes|=E,Fu|=E,_=4;break e}E=si,si=_,E!==null&&(si===null?si=E:si.push.apply(si,E))}_=U}if(E=!1,_!==2)continue}}if(_===1){Ud(a,0),tl(a,c,0,!0);break}e:{switch(y=a,E=_,E){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:tl(y,c,Qi,!Qa);break e;case 2:si=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(_=K_+300-mn(),10<_)){if(tl(y,c,Qi,!Qa),Ze(y,0,!0)!==0)break e;y.timeoutHandle=ED(J2.bind(null,y,h,si,Tv,H_,c,Qi,Fu,Od,Qa,E,2,-0,0),_);break e}J2(y,h,si,Tv,H_,c,Qi,Fu,Od,Qa,E,0,-0,0)}}break}while(!0);Xs(a)}function J2(a,c,h,y,_,E,U,z,W,re,pe,ye,ie,se){if(a.timeoutHandle=-1,ye=c.subtreeFlags,(ye&8192||(ye&16785408)===16785408)&&(qm={stylesheets:null,count:0,unsuspend:PW},z2(c),ye=MW(),ye!==null)){a.cancelPendingCommit=ye(rD.bind(null,a,c,E,h,y,_,U,z,W,pe,1,ie,se)),tl(a,E,U,!re);return}rD(a,c,E,h,y,_,U,z,W)}function YK(a){for(var c=a;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var y=0;y<h.length;y++){var _=h[y],E=_.getSnapshot;_=_.value;try{if(!vi(E(),_))return!1}catch(U){return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function tl(a,c,h,y){c&=~G_,c&=~Fu,a.suspendedLanes|=c,a.pingedLanes&=~c,y&&(a.warmLanes|=c),y=a.expirationTimes;for(var _=c;0<_;){var E=31-sr(_),U=1<<E;y[E]=-1,_&=~U}h!==0&&Ls(a,h,c)}function Ev(){return(Vt&6)===0?(Vm(0),!1):!0}function Q_(){if(mt!==null){if(Lt===0)var a=mt.return;else a=mt,jo=Du=null,m_(a),Pd=null,Am=0,a=mt;for(;a!==null;)R2(a.alternate,a),a=a.return;mt=null}}function Ud(a,c){var h=a.timeoutHandle;h!==-1&&(a.timeoutHandle=-1,hW(h)),h=a.cancelPendingCommit,h!==null&&(a.cancelPendingCommit=null,h()),Q_(),Wt=a,mt=h=Lo(a.current,null),_t=c,Lt=0,_i=null,Qa=!1,kd=st(a,c),$_=!1,Od=Qi=G_=Fu=Xa=wn=0,si=km=null,H_=!1,(c&8)!==0&&(c|=c&32);var y=a.entangledLanes;if(y!==0)for(a=a.entanglements,y&=c;0<y;){var _=31-sr(y),E=1<<_;c|=a[_],y&=~E}return Wo=c,Hy(),h}function Q2(a,c){dt=null,Q.H=dv,c===ym||c===tv?(c=mM(),Lt=3):c===dM?(c=mM(),Lt=4):Lt=c===p2?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,_i=c,mt===null&&(wn=1,gv(a,Hi(c,a.current)))}function X2(){var a=Q.H;return Q.H=dv,a===null?dv:a}function Z2(){var a=Q.A;return Q.A=KK,a}function X_(){wn=4,Qa||(_t&4194048)!==_t&&Ji.current!==null||(kd=!0),(Xa&134217727)===0&&(Fu&134217727)===0||Wt===null||tl(Wt,_t,Qi,!1)}function Z_(a,c,h){var y=Vt;Vt|=2;var _=X2(),E=Z2();(Wt!==a||_t!==c)&&(Tv=null,Ud(a,c)),c=!1;var U=wn;e:do try{if(Lt!==0&&mt!==null){var z=mt,W=_i;switch(Lt){case 8:Q_(),U=6;break e;case 3:case 2:case 9:case 6:Ji.current===null&&(c=!0);var re=Lt;if(Lt=0,_i=null,Fd(a,z,W,re),h&&kd){U=0;break e}break;default:re=Lt,Lt=0,_i=null,Fd(a,z,W,re)}}JK(),U=wn;break}catch(pe){Q2(a,pe)}while(!0);return c&&a.shellSuspendCounter++,jo=Du=null,Vt=y,Q.H=_,Q.A=E,mt===null&&(Wt=null,_t=0,Hy()),U}function JK(){for(;mt!==null;)eD(mt)}function QK(a,c){var h=Vt;Vt|=2;var y=X2(),_=Z2();Wt!==a||_t!==c?(Tv=null,_v=mn()+500,Ud(a,c)):kd=st(a,c);e:do try{if(Lt!==0&&mt!==null){c=mt;var E=_i;t:switch(Lt){case 1:Lt=0,_i=null,Fd(a,c,E,1);break;case 2:case 9:if(fM(E)){Lt=0,_i=null,tD(c);break}c=function(){Lt!==2&&Lt!==9||Wt!==a||(Lt=7),Xs(a)},E.then(c,c);break e;case 3:Lt=7;break e;case 4:Lt=5;break e;case 7:fM(E)?(Lt=0,_i=null,tD(c)):(Lt=0,_i=null,Fd(a,c,E,7));break;case 5:var U=null;switch(mt.tag){case 26:U=mt.memoizedState;case 5:case 27:var z=mt;if(!U||VD(U)){Lt=0,_i=null;var W=z.sibling;if(W!==null)mt=W;else{var re=z.return;re!==null?(mt=re,Sv(re)):mt=null}break t}}Lt=0,_i=null,Fd(a,c,E,5);break;case 6:Lt=0,_i=null,Fd(a,c,E,6);break;case 8:Q_(),wn=6;break e;default:throw Error(r(462))}}XK();break}catch(pe){Q2(a,pe)}while(!0);return jo=Du=null,Q.H=y,Q.A=_,Vt=h,mt!==null?0:(Wt=null,_t=0,Hy(),wn)}function XK(){for(;mt!==null&&!Xt();)eD(mt)}function eD(a){var c=C2(a.alternate,a,Wo);a.memoizedProps=a.pendingProps,c===null?Sv(a):mt=c}function tD(a){var c=a,h=c.alternate;switch(c.tag){case 15:case 0:c=w2(h,c,c.pendingProps,c.type,void 0,_t);break;case 11:c=w2(h,c,c.pendingProps,c.type.render,c.ref,_t);break;case 5:m_(c);default:R2(h,c),c=mt=nM(c,Wo),c=C2(h,c,Wo)}a.memoizedProps=a.pendingProps,c===null?Sv(a):mt=c}function Fd(a,c,h,y){jo=Du=null,m_(c),Pd=null,Am=0;var _=c.return;try{if(BK(a,_,c,h,_t)){wn=1,gv(a,Hi(h,a.current)),mt=null;return}}catch(E){if(_!==null)throw mt=_,E;wn=1,gv(a,Hi(h,a.current)),mt=null;return}c.flags&32768?(Pt||y===1?a=!0:kd||(_t&536870912)!==0?a=!1:(Qa=a=!0,(y===2||y===9||y===3||y===6)&&(y=Ji.current,y!==null&&y.tag===13&&(y.flags|=16384))),nD(c,a)):Sv(c)}function Sv(a){var c=a;do{if((c.flags&32768)!==0){nD(c,Qa);return}a=c.return;var h=zK(c.alternate,c,Wo);if(h!==null){mt=h;return}if(c=c.sibling,c!==null){mt=c;return}mt=c=a}while(c!==null);wn===0&&(wn=5)}function nD(a,c){do{var h=$K(a.alternate,a);if(h!==null){h.flags&=32767,mt=h;return}if(h=a.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(a=a.sibling,a!==null)){mt=a;return}mt=a=h}while(a!==null);wn=6,mt=null}function rD(a,c,h,y,_,E,U,z,W){a.cancelPendingCommit=null;do Av();while(br!==0);if((Vt&6)!==0)throw Error(r(327));if(c!==null){if(c===a.current)throw Error(r(177));if(E=c.lanes|c.childLanes,E|=zw,Hh(a,h,E,U,z,W),a===Wt&&(mt=Wt=null,_t=0),Vd=c,el=a,Ld=h,W_=E,Y_=_,K2=y,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,nW(pn,function(){return lD(),null})):(a.callbackNode=null,a.callbackPriority=0),y=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||y){y=Q.T,Q.T=null,_=ae.p,ae.p=2,U=Vt,Vt|=4;try{GK(a,c,h)}finally{Vt=U,ae.p=_,Q.T=y}}br=1,iD(),sD(),oD()}}function iD(){if(br===1){br=0;var a=el,c=Vd,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=Q.T,Q.T=null;var y=ae.p;ae.p=2;var _=Vt;Vt|=4;try{j2(c,a);var E=dT,U=HN(a.containerInfo),z=E.focusedElem,W=E.selectionRange;if(U!==z&&z&&z.ownerDocument&&GN(z.ownerDocument.documentElement,z)){if(W!==null&&Uw(z)){var re=W.start,pe=W.end;if(pe===void 0&&(pe=re),"selectionStart"in z)z.selectionStart=re,z.selectionEnd=Math.min(pe,z.value.length);else{var ye=z.ownerDocument||document,ie=ye&&ye.defaultView||window;if(ie.getSelection){var se=ie.getSelection(),nt=z.textContent.length,Xe=Math.min(W.start,nt),$t=W.end===void 0?Xe:Math.min(W.end,nt);!se.extend&&Xe>$t&&(U=$t,$t=Xe,Xe=U);var X=$N(z,Xe),J=$N(z,$t);if(X&&J&&(se.rangeCount!==1||se.anchorNode!==X.node||se.anchorOffset!==X.offset||se.focusNode!==J.node||se.focusOffset!==J.offset)){var ne=ye.createRange();ne.setStart(X.node,X.offset),se.removeAllRanges(),Xe>$t?(se.addRange(ne),se.extend(J.node,J.offset)):(ne.setEnd(J.node,J.offset),se.addRange(ne))}}}}for(ye=[],se=z;se=se.parentNode;)se.nodeType===1&&ye.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<ye.length;z++){var ge=ye[z];ge.element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}}Uv=!!cT,dT=cT=null}finally{Vt=_,ae.p=y,Q.T=h}}a.current=c,br=2}}function sD(){if(br===2){br=0;var a=el,c=Vd,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=Q.T,Q.T=null;var y=ae.p;ae.p=2;var _=Vt;Vt|=4;try{V2(a,c.alternate,c)}finally{Vt=_,ae.p=y,Q.T=h}}br=3}}function oD(){if(br===4||br===3){br=0,hn();var a=el,c=Vd,h=Ld,y=K2;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?br=5:(br=0,Vd=el=null,aD(a,a.pendingLanes));var _=a.pendingLanes;if(_===0&&(Za=null),nd(h),c=c.stateNode,Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(Zt,c,void 0,(c.current.flags&128)===128)}catch(W){}if(y!==null){c=Q.T,_=ae.p,ae.p=2,Q.T=null;try{for(var E=a.onRecoverableError,U=0;U<y.length;U++){var z=y[U];E(z.value,{componentStack:z.stack})}}finally{Q.T=c,ae.p=_}}(Ld&3)!==0&&Av(),Xs(a),_=a.pendingLanes,(h&4194090)!==0&&(_&42)!==0?a===J_?Om++:(Om=0,J_=a):Om=0,Vm(0)}}function aD(a,c){(a.pooledCacheLanes&=c)===0&&(c=a.pooledCache,c!=null&&(a.pooledCache=null,pm(c)))}function Av(a){return iD(),sD(),oD(),lD()}function lD(){if(br!==5)return!1;var a=el,c=W_;W_=0;var h=nd(Ld),y=Q.T,_=ae.p;try{ae.p=32>h?32:h,Q.T=null,h=Y_,Y_=null;var E=el,U=Ld;if(br=0,Vd=el=null,Ld=0,(Vt&6)!==0)throw Error(r(331));var z=Vt;if(Vt|=4,G2(E.current),q2(E,E.current,U,h),Vt=z,Vm(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(Zt,E)}catch(W){}return!0}finally{ae.p=_,Q.T=y,aD(a,c)}}function uD(a,c,h){c=Hi(h,c),c=I_(a.stateNode,c,2),a=$a(a,c,2),a!==null&&(Ao(a,2),Xs(a))}function Ht(a,c,h){if(a.tag===3)uD(a,a,h);else for(;c!==null;){if(c.tag===3){uD(c,a,h);break}else if(c.tag===1){var y=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Za===null||!Za.has(y))){a=Hi(h,a),h=h2(2),y=$a(c,h,2),y!==null&&(m2(h,y,c,a),Ao(y,2),Xs(y));break}}c=c.return}}function eT(a,c,h){var y=a.pingCache;if(y===null){y=a.pingCache=new WK;var _=new Set;y.set(c,_)}else _=y.get(c),_===void 0&&(_=new Set,y.set(c,_));_.has(h)||($_=!0,_.add(h),a=ZK.bind(null,a,c,h),c.then(a,a))}function ZK(a,c,h){var y=a.pingCache;y!==null&&y.delete(c),a.pingedLanes|=a.suspendedLanes&h,a.warmLanes&=~h,Wt===a&&(_t&h)===h&&(wn===4||wn===3&&(_t&62914560)===_t&&300>mn()-K_?(Vt&2)===0&&Ud(a,0):G_|=h,Od===_t&&(Od=0)),Xs(a)}function cD(a,c){c===0&&(c=pi()),a=bd(a,c),a!==null&&(Ao(a,c),Xs(a))}function eW(a){var c=a.memoizedState,h=0;c!==null&&(h=c.retryLane),cD(a,h)}function tW(a,c){var h=0;switch(a.tag){case 13:var y=a.stateNode,_=a.memoizedState;_!==null&&(h=_.retryLane);break;case 19:y=a.stateNode;break;case 22:y=a.stateNode._retryCache;break;default:throw Error(r(314))}y!==null&&y.delete(c),cD(a,h)}function nW(a,c){return Mt(a,c)}var Cv=null,jd=null,tT=!1,Iv=!1,nT=!1,ju=0;function Xs(a){a!==jd&&a.next===null&&(jd===null?Cv=jd=a:jd=jd.next=a),Iv=!0,tT||(tT=!0,iW())}function Vm(a,c){if(!nT&&Iv){nT=!0;do for(var h=!1,y=Cv;y!==null;){if(a!==0){var _=y.pendingLanes;if(_===0)var E=0;else{var U=y.suspendedLanes,z=y.pingedLanes;E=(1<<31-sr(42|a)+1)-1,E&=_&~(U&~z),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(h=!0,mD(y,E))}else E=_t,E=Ze(y,y===Wt?E:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(E&3)===0||st(y,E)||(h=!0,mD(y,E));y=y.next}while(h);nT=!1}}function rW(){dD()}function dD(){Iv=tT=!1;var a=0;ju!==0&&(fW()&&(a=ju),ju=0);for(var c=mn(),h=null,y=Cv;y!==null;){var _=y.next,E=fD(y,c);E===0?(y.next=null,h===null?Cv=_:h.next=_,_===null&&(jd=h)):(h=y,(a!==0||(E&3)!==0)&&(Iv=!0)),y=_}Vm(a)}function fD(a,c){for(var h=a.suspendedLanes,y=a.pingedLanes,_=a.expirationTimes,E=a.pendingLanes&-62914561;0<E;){var U=31-sr(E),z=1<<U,W=_[U];W===-1?((z&h)===0||(z&y)!==0)&&(_[U]=et(z,c)):W<=c&&(a.expiredLanes|=z),E&=~z}if(c=Wt,h=_t,h=Ze(a,a===c?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),y=a.callbackNode,h===0||a===c&&(Lt===2||Lt===9)||a.cancelPendingCommit!==null)return y!==null&&y!==null&&lt(y),a.callbackNode=null,a.callbackPriority=0;if((h&3)===0||st(a,h)){if(c=h&-h,c===a.callbackPriority)return c;switch(y!==null&&lt(y),nd(h)){case 2:case 8:h=ji;break;case 32:h=pn;break;case 268435456:h=Ma;break;default:h=pn}return y=hD.bind(null,a),h=Mt(h,y),a.callbackPriority=c,a.callbackNode=h,c}return y!==null&&y!==null&&lt(y),a.callbackPriority=2,a.callbackNode=null,2}function hD(a,c){if(br!==0&&br!==5)return a.callbackNode=null,a.callbackPriority=0,null;var h=a.callbackNode;if(Av()&&a.callbackNode!==h)return null;var y=_t;return y=Ze(a,a===Wt?y:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),y===0?null:(Y2(a,y,c),fD(a,mn()),a.callbackNode!=null&&a.callbackNode===h?hD.bind(null,a):null)}function mD(a,c){if(Av())return null;Y2(a,c,!0)}function iW(){mW(function(){(Vt&6)!==0?Mt(cu,rW):dD()})}function rT(){return ju===0&&(ju=gr()),ju}function pD(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:ld(""+a)}function gD(a,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,a.id&&h.setAttribute("form",a.id),c.parentNode.insertBefore(h,c),a=new FormData(a),h.parentNode.removeChild(h),a}function sW(a,c,h,y,_){if(c==="submit"&&h&&h.stateNode===_){var E=pD((_[kn]||null).action),U=y.submitter;U&&(c=(c=U[kn]||null)?pD(c.formAction):U.getAttribute("formAction"),c!==null&&(E=c,U=null));var z=new ud("action","action",null,y,_);a.push({event:z,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(ju!==0){var W=U?gD(_,U):new FormData(_);T_(h,{pending:!0,data:W,method:_.method,action:E},null,W)}}else typeof E=="function"&&(z.preventDefault(),W=U?gD(_,U):new FormData(_),T_(h,{pending:!0,data:W,method:_.method,action:E},E,W))},currentTarget:_}]})}}for(var iT=0;iT<qw.length;iT++){var sT=qw[iT],oW=sT.toLowerCase(),aW=sT[0].toUpperCase()+sT.slice(1);bs(oW,"on"+aW)}bs(YN,"onAnimationEnd"),bs(JN,"onAnimationIteration"),bs(QN,"onAnimationStart"),bs("dblclick","onDoubleClick"),bs("focusin","onFocus"),bs("focusout","onBlur"),bs(EK,"onTransitionRun"),bs(SK,"onTransitionStart"),bs(AK,"onTransitionCancel"),bs(XN,"onTransitionEnd"),Io("onMouseEnter",["mouseout","mouseover"]),Io("onMouseLeave",["mouseout","mouseover"]),Io("onPointerEnter",["pointerout","pointerover"]),Io("onPointerLeave",["pointerout","pointerover"]),vs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vs("onBeforeInput",["compositionend","keypress","textInput","paste"]),vs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lW=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lm));function yD(a,c){c=(c&4)!==0;for(var h=0;h<a.length;h++){var y=a[h],_=y.event;y=y.listeners;e:{var E=void 0;if(c)for(var U=y.length-1;0<=U;U--){var z=y[U],W=z.instance,re=z.currentTarget;if(z=z.listener,W!==E&&_.isPropagationStopped())break e;E=z,_.currentTarget=re;try{E(_)}catch(pe){pv(pe)}_.currentTarget=null,E=W}else for(U=0;U<y.length;U++){if(z=y[U],W=z.instance,re=z.currentTarget,z=z.listener,W!==E&&_.isPropagationStopped())break e;E=z,_.currentTarget=re;try{E(_)}catch(pe){pv(pe)}_.currentTarget=null,E=W}}}}function pt(a,c){var h=c[Wh];h===void 0&&(h=c[Wh]=new Set);var y=a+"__bubble";h.has(y)||(vD(c,a,2,!1),h.add(y))}function oT(a,c,h){var y=0;c&&(y|=4),vD(h,a,y,c)}var Rv="_reactListening"+Math.random().toString(36).slice(2);function aT(a){if(!a[Rv]){a[Rv]=!0,Yh.forEach(function(h){h!=="selectionchange"&&(lW.has(h)||oT(h,!1,a),oT(h,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[Rv]||(c[Rv]=!0,oT("selectionchange",!1,c))}}function vD(a,c,h,y){switch(qD(c)){case 2:var _=OW;break;case 8:_=VW;break;default:_=wT}h=_.bind(null,c,h,a),_=void 0,!$i||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(_=!0),y?_!==void 0?a.addEventListener(c,h,{capture:!0,passive:_}):a.addEventListener(c,h,!0):_!==void 0?a.addEventListener(c,h,{passive:_}):a.addEventListener(c,h,!1)}function lT(a,c,h,y,_){var E=y;if((c&1)===0&&(c&2)===0&&y!==null)e:for(;;){if(y===null)return;var U=y.tag;if(U===3||U===4){var z=y.stateNode.containerInfo;if(z===_)break;if(U===4)for(U=y.return;U!==null;){var W=U.tag;if((W===3||W===4)&&U.stateNode.containerInfo===_)return;U=U.return}for(;z!==null;){if(U=Co(z),U===null)return;if(W=U.tag,W===5||W===6||W===26||W===27){y=E=U;continue e}z=z.parentNode}}y=y.return}Ny(function(){var re=E,pe=zi(h),ye=[];e:{var ie=ZN.get(a);if(ie!==void 0){var se=ud,nt=a;switch(a){case"keypress":if(zs(h)===0)break e;case"keydown":case"keyup":se=pd;break;case"focusin":nt="focus",se=fd;break;case"focusout":nt="blur",se=fd;break;case"beforeblur":case"afterblur":se=fd;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Gi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=kw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=Fy;break;case YN:case JN:case QN:se=hd;break;case XN:se=By;break;case"scroll":case"scrollend":se=My;break;case"wheel":se=gd;break;case"copy":case"cut":case"paste":se=md;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=am;break;case"toggle":case"beforetoggle":se=zy}var Xe=(c&4)!==0,$t=!Xe&&(a==="scroll"||a==="scrollend"),X=Xe?ie!==null?ie+"Capture":null:ie;Xe=[];for(var J=re,ne;J!==null;){var ge=J;if(ne=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||ne===null||X===null||(ge=xu(J,X),ge!=null&&Xe.push(Um(J,ge,ne))),$t)break;J=J.return}0<Xe.length&&(ie=new se(ie,nt,null,h,pe),ye.push({event:ie,listeners:Xe}))}}if((c&7)===0){e:{if(ie=a==="mouseover"||a==="pointerover",se=a==="mouseout"||a==="pointerout",ie&&h!==No&&(nt=h.relatedTarget||h.fromElement)&&(Co(nt)||nt[Bi]))break e;if((se||ie)&&(ie=pe.window===pe?pe:(ie=pe.ownerDocument)?ie.defaultView||ie.parentWindow:window,se?(nt=h.relatedTarget||h.toElement,se=re,nt=nt?Co(nt):null,nt!==null&&($t=s(nt),Xe=nt.tag,nt!==$t||Xe!==5&&Xe!==27&&Xe!==6)&&(nt=null)):(se=null,nt=re),se!==nt)){if(Xe=Gi,ge="onMouseLeave",X="onMouseEnter",J="mouse",(a==="pointerout"||a==="pointerover")&&(Xe=am,ge="onPointerLeave",X="onPointerEnter",J="pointer"),$t=se==null?ie:Fs(se),ne=nt==null?ie:Fs(nt),ie=new Xe(ge,J+"leave",se,h,pe),ie.target=$t,ie.relatedTarget=ne,ge=null,Co(pe)===re&&(Xe=new Xe(X,J+"enter",nt,h,pe),Xe.target=ne,Xe.relatedTarget=$t,ge=Xe),$t=ge,se&&nt)t:{for(Xe=se,X=nt,J=0,ne=Xe;ne;ne=Bd(ne))J++;for(ne=0,ge=X;ge;ge=Bd(ge))ne++;for(;0<J-ne;)Xe=Bd(Xe),J--;for(;0<ne-J;)X=Bd(X),ne--;for(;J--;){if(Xe===X||X!==null&&Xe===X.alternate)break t;Xe=Bd(Xe),X=Bd(X)}Xe=null}else Xe=null;se!==null&&xD(ye,ie,se,Xe,!1),nt!==null&&$t!==null&&xD(ye,$t,nt,Xe,!0)}}e:{if(ie=re?Fs(re):window,se=ie.nodeName&&ie.nodeName.toLowerCase(),se==="select"||se==="input"&&ie.type==="file")var Fe=UN;else if(Kn(ie))if(FN)Fe=wK;else{Fe=xK;var ht=vK}else se=ie.nodeName,!se||se.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?re&&em(re.elementType)&&(Fe=UN):Fe=bK;if(Fe&&(Fe=Fe(a,re))){Vo(ye,Fe,h,pe);break e}ht&&ht(a,ie,re),a==="focusout"&&re&&ie.type==="number"&&re.memoizedProps.value!=null&&Fa(ie,"number",ie.value)}switch(ht=re?Fs(re):window,a){case"focusin":(Kn(ht)||ht.contentEditable==="true")&&(yd=ht,Fw=re,cm=null);break;case"focusout":cm=Fw=yd=null;break;case"mousedown":jw=!0;break;case"contextmenu":case"mouseup":case"dragend":jw=!1,KN(ye,h,pe);break;case"selectionchange":if(TK)break;case"keydown":case"keyup":KN(ye,h,pe)}var Ke;if(Hs)e:{switch(a){case"compositionstart":var tt="onCompositionStart";break e;case"compositionend":tt="onCompositionEnd";break e;case"compositionupdate":tt="onCompositionUpdate";break e}tt=void 0}else bt?le(a,h)&&(tt="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(tt="onCompositionStart");tt&&(L&&h.locale!=="ko"&&(bt||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&bt&&(Ke=nm()):(qs=pe,ja="value"in qs?qs.value:qs.textContent,bt=!0)),ht=Pv(re,tt),0<ht.length&&(tt=new sm(tt,a,null,h,pe),ye.push({event:tt,listeners:ht}),Ke?tt.data=Ke:(Ke=Re(h),Ke!==null&&(tt.data=Ke)))),(Ke=I?Hn(a,h):wt(a,h))&&(tt=Pv(re,"onBeforeInput"),0<tt.length&&(ht=new sm("onBeforeInput","beforeinput",null,h,pe),ye.push({event:ht,listeners:tt}),ht.data=Ke)),sW(ye,a,re,h,pe)}yD(ye,c)})}function Um(a,c,h){return{instance:a,listener:c,currentTarget:h}}function Pv(a,c){for(var h=c+"Capture",y=[];a!==null;){var _=a,E=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||E===null||(_=xu(a,h),_!=null&&y.unshift(Um(a,_,E)),_=xu(a,c),_!=null&&y.push(Um(a,_,E))),a.tag===3)return y;a=a.return}return[]}function Bd(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function xD(a,c,h,y,_){for(var E=c._reactName,U=[];h!==null&&h!==y;){var z=h,W=z.alternate,re=z.stateNode;if(z=z.tag,W!==null&&W===y)break;z!==5&&z!==26&&z!==27||re===null||(W=re,_?(re=xu(h,E),re!=null&&U.unshift(Um(h,re,W))):_||(re=xu(h,E),re!=null&&U.push(Um(h,re,W)))),h=h.return}U.length!==0&&a.push({event:c,listeners:U})}var uW=/\r\n?/g,cW=/\u0000|\uFFFD/g;function bD(a){return(typeof a=="string"?a:""+a).replace(uW,`
`).replace(cW,"")}function wD(a,c){return c=bD(c),bD(a)===c}function Nv(){}function zt(a,c,h,y,_,E){switch(h){case"children":typeof y=="string"?c==="body"||c==="textarea"&&y===""||qi(a,y):(typeof y=="number"||typeof y=="bigint")&&c!=="body"&&qi(a,""+y);break;case"className":js(a,"class",y);break;case"tabIndex":js(a,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":js(a,h,y);break;case"style":Zh(a,y,E);break;case"data":if(c!=="object"){js(a,"data",y);break}case"src":case"href":if(y===""&&(c!=="a"||h!=="href")){a.removeAttribute(h);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){a.removeAttribute(h);break}y=ld(""+y),a.setAttribute(h,y);break;case"action":case"formAction":if(typeof y=="function"){a.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(h==="formAction"?(c!=="input"&&zt(a,c,"name",_.name,_,null),zt(a,c,"formEncType",_.formEncType,_,null),zt(a,c,"formMethod",_.formMethod,_,null),zt(a,c,"formTarget",_.formTarget,_,null)):(zt(a,c,"encType",_.encType,_,null),zt(a,c,"method",_.method,_,null),zt(a,c,"target",_.target,_,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){a.removeAttribute(h);break}y=ld(""+y),a.setAttribute(h,y);break;case"onClick":y!=null&&(a.onclick=Nv);break;case"onScroll":y!=null&&pt("scroll",a);break;case"onScrollEnd":y!=null&&pt("scrollend",a);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(h=y.__html,h!=null){if(_.children!=null)throw Error(r(60));a.innerHTML=h}}break;case"multiple":a.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":a.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){a.removeAttribute("xlink:href");break}h=ld(""+y),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?a.setAttribute(h,""+y):a.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?a.setAttribute(h,""):a.removeAttribute(h);break;case"capture":case"download":y===!0?a.setAttribute(h,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?a.setAttribute(h,y):a.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?a.setAttribute(h,y):a.removeAttribute(h);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?a.removeAttribute(h):a.setAttribute(h,y);break;case"popover":pt("beforetoggle",a),pt("toggle",a),Ua(a,"popover",y);break;case"xlinkActuate":yr(a,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":yr(a,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":yr(a,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":yr(a,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":yr(a,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":yr(a,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":yr(a,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":yr(a,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":yr(a,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":Ua(a,"is",y);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Mw.get(h)||h,Ua(a,h,y))}}function uT(a,c,h,y,_,E){switch(h){case"style":Zh(a,y,E);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(h=y.__html,h!=null){if(_.children!=null)throw Error(r(60));a.innerHTML=h}}break;case"children":typeof y=="string"?qi(a,y):(typeof y=="number"||typeof y=="bigint")&&qi(a,""+y);break;case"onScroll":y!=null&&pt("scroll",a);break;case"onScrollEnd":y!=null&&pt("scrollend",a);break;case"onClick":y!=null&&(a.onclick=Nv);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rd.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(_=h.endsWith("Capture"),c=h.slice(2,_?h.length-7:void 0),E=a[kn]||null,E=E!=null?E[h]:null,typeof E=="function"&&a.removeEventListener(c,E,_),typeof y=="function")){typeof E!="function"&&E!==null&&(h in a?a[h]=null:a.hasAttribute(h)&&a.removeAttribute(h)),a.addEventListener(c,y,_);break e}h in a?a[h]=y:y===!0?a.setAttribute(h,""):Ua(a,h,y)}}}function wr(a,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pt("error",a),pt("load",a);var y=!1,_=!1,E;for(E in h)if(h.hasOwnProperty(E)){var U=h[E];if(U!=null)switch(E){case"src":y=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:zt(a,c,E,U,h,null)}}_&&zt(a,c,"srcSet",h.srcSet,h,null),y&&zt(a,c,"src",h.src,h,null);return;case"input":pt("invalid",a);var z=E=U=_=null,W=null,re=null;for(y in h)if(h.hasOwnProperty(y)){var pe=h[y];if(pe!=null)switch(y){case"name":_=pe;break;case"type":U=pe;break;case"checked":W=pe;break;case"defaultChecked":re=pe;break;case"value":E=pe;break;case"defaultValue":z=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,c));break;default:zt(a,c,y,pe,h,null)}}gu(a,E,z,W,re,U,_,!1),ad(a);return;case"select":pt("invalid",a),y=U=E=null;for(_ in h)if(h.hasOwnProperty(_)&&(z=h[_],z!=null))switch(_){case"value":E=z;break;case"defaultValue":U=z;break;case"multiple":y=z;default:zt(a,c,_,z,h,null)}c=E,h=U,a.multiple=!!y,c!=null?Po(a,!!y,c,!1):h!=null&&Po(a,!!y,h,!0);return;case"textarea":pt("invalid",a),E=_=y=null;for(U in h)if(h.hasOwnProperty(U)&&(z=h[U],z!=null))switch(U){case"value":y=z;break;case"defaultValue":_=z;break;case"children":E=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(91));break;default:zt(a,c,U,z,h,null)}yu(a,y,_,E),ad(a);return;case"option":for(W in h)if(h.hasOwnProperty(W)&&(y=h[W],y!=null))switch(W){case"selected":a.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:zt(a,c,W,y,h,null)}return;case"dialog":pt("beforetoggle",a),pt("toggle",a),pt("cancel",a),pt("close",a);break;case"iframe":case"object":pt("load",a);break;case"video":case"audio":for(y=0;y<Lm.length;y++)pt(Lm[y],a);break;case"image":pt("error",a),pt("load",a);break;case"details":pt("toggle",a);break;case"embed":case"source":case"link":pt("error",a),pt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(re in h)if(h.hasOwnProperty(re)&&(y=h[re],y!=null))switch(re){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:zt(a,c,re,y,h,null)}return;default:if(em(c)){for(pe in h)h.hasOwnProperty(pe)&&(y=h[pe],y!==void 0&&uT(a,c,pe,y,h,void 0));return}}for(z in h)h.hasOwnProperty(z)&&(y=h[z],y!=null&&zt(a,c,z,y,h,null))}function dW(a,c,h,y){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,E=null,U=null,z=null,W=null,re=null,pe=null;for(se in h){var ye=h[se];if(h.hasOwnProperty(se)&&ye!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":W=ye;default:y.hasOwnProperty(se)||zt(a,c,se,null,y,ye)}}for(var ie in y){var se=y[ie];if(ye=h[ie],y.hasOwnProperty(ie)&&(se!=null||ye!=null))switch(ie){case"type":E=se;break;case"name":_=se;break;case"checked":re=se;break;case"defaultChecked":pe=se;break;case"value":U=se;break;case"defaultValue":z=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,c));break;default:se!==ye&&zt(a,c,ie,se,y,ye)}}yi(a,U,z,W,re,pe,E,_);return;case"select":se=U=z=ie=null;for(E in h)if(W=h[E],h.hasOwnProperty(E)&&W!=null)switch(E){case"value":break;case"multiple":se=W;default:y.hasOwnProperty(E)||zt(a,c,E,null,y,W)}for(_ in y)if(E=y[_],W=h[_],y.hasOwnProperty(_)&&(E!=null||W!=null))switch(_){case"value":ie=E;break;case"defaultValue":z=E;break;case"multiple":U=E;default:E!==W&&zt(a,c,_,E,y,W)}c=z,h=U,y=se,ie!=null?Po(a,!!h,ie,!1):!!y!=!!h&&(c!=null?Po(a,!!h,c,!0):Po(a,!!h,h?[]:"",!1));return;case"textarea":se=ie=null;for(z in h)if(_=h[z],h.hasOwnProperty(z)&&_!=null&&!y.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:zt(a,c,z,null,y,_)}for(U in y)if(_=y[U],E=h[U],y.hasOwnProperty(U)&&(_!=null||E!=null))switch(U){case"value":ie=_;break;case"defaultValue":se=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:_!==E&&zt(a,c,U,_,y,E)}Bt(a,ie,se);return;case"option":for(var nt in h)if(ie=h[nt],h.hasOwnProperty(nt)&&ie!=null&&!y.hasOwnProperty(nt))switch(nt){case"selected":a.selected=!1;break;default:zt(a,c,nt,null,y,ie)}for(W in y)if(ie=y[W],se=h[W],y.hasOwnProperty(W)&&ie!==se&&(ie!=null||se!=null))switch(W){case"selected":a.selected=ie&&typeof ie!="function"&&typeof ie!="symbol";break;default:zt(a,c,W,ie,y,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Xe in h)ie=h[Xe],h.hasOwnProperty(Xe)&&ie!=null&&!y.hasOwnProperty(Xe)&&zt(a,c,Xe,null,y,ie);for(re in y)if(ie=y[re],se=h[re],y.hasOwnProperty(re)&&ie!==se&&(ie!=null||se!=null))switch(re){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,c));break;default:zt(a,c,re,ie,y,se)}return;default:if(em(c)){for(var $t in h)ie=h[$t],h.hasOwnProperty($t)&&ie!==void 0&&!y.hasOwnProperty($t)&&uT(a,c,$t,void 0,y,ie);for(pe in y)ie=y[pe],se=h[pe],!y.hasOwnProperty(pe)||ie===se||ie===void 0&&se===void 0||uT(a,c,pe,ie,y,se);return}}for(var X in h)ie=h[X],h.hasOwnProperty(X)&&ie!=null&&!y.hasOwnProperty(X)&&zt(a,c,X,null,y,ie);for(ye in y)ie=y[ye],se=h[ye],!y.hasOwnProperty(ye)||ie===se||ie==null&&se==null||zt(a,c,ye,ie,y,se)}var cT=null,dT=null;function Mv(a){return a.nodeType===9?a:a.ownerDocument}function _D(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function TD(a,c){if(a===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&c==="foreignObject"?0:a}function fT(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var hT=null;function fW(){var a=window.event;return a&&a.type==="popstate"?a===hT?!1:(hT=a,!0):(hT=null,!1)}var ED=typeof setTimeout=="function"?setTimeout:void 0,hW=typeof clearTimeout=="function"?clearTimeout:void 0,SD=typeof Promise=="function"?Promise:void 0,mW=typeof queueMicrotask=="function"?queueMicrotask:typeof SD!="undefined"?function(a){return SD.resolve(null).then(a).catch(pW)}:ED;function pW(a){setTimeout(function(){throw a})}function nl(a){return a==="head"}function AD(a,c){var h=c,y=0,_=0;do{var E=h.nextSibling;if(a.removeChild(h),E&&E.nodeType===8)if(h=E.data,h==="/$"){if(0<y&&8>y){h=y;var U=a.ownerDocument;if(h&1&&Fm(U.documentElement),h&2&&Fm(U.body),h&4)for(h=U.head,Fm(h),U=h.firstChild;U;){var z=U.nextSibling,W=U.nodeName;U[fu]||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&U.rel.toLowerCase()==="stylesheet"||h.removeChild(U),U=z}}if(_===0){a.removeChild(E),Km(c);return}_--}else h==="$"||h==="$?"||h==="$!"?_++:y=h.charCodeAt(0)-48;else y=0;h=E}while(h);Km(c)}function mT(a){var c=a.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":mT(h),La(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}a.removeChild(h)}}function gW(a,c,h,y){for(;a.nodeType===1;){var _=h;if(a.nodeName.toLowerCase()!==c.toLowerCase()){if(!y&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(y){if(!a[fu])switch(c){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(E=a.getAttribute("rel"),E==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(E!==_.rel||a.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||a.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||a.getAttribute("title")!==(_.title==null?null:_.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(E=a.getAttribute("src"),(E!==(_.src==null?null:_.src)||a.getAttribute("type")!==(_.type==null?null:_.type)||a.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&E&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(c==="input"&&a.type==="hidden"){var E=_.name==null?null:""+_.name;if(_.type==="hidden"&&a.getAttribute("name")===E)return a}else return a;if(a=_s(a.nextSibling),a===null)break}return null}function yW(a,c,h){if(c==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!h||(a=_s(a.nextSibling),a===null))return null;return a}function pT(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function vW(a,c){var h=a.ownerDocument;if(a.data!=="$?"||h.readyState==="complete")c();else{var y=function(){c(),h.removeEventListener("DOMContentLoaded",y)};h.addEventListener("DOMContentLoaded",y),a._reactRetry=y}}function _s(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return a}var gT=null;function CD(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return a;c--}else h==="/$"&&c++}a=a.previousSibling}return null}function ID(a,c,h){switch(c=Mv(h),a){case"html":if(a=c.documentElement,!a)throw Error(r(452));return a;case"head":if(a=c.head,!a)throw Error(r(453));return a;case"body":if(a=c.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Fm(a){for(var c=a.attributes;c.length;)a.removeAttributeNode(c[0]);La(a)}var Xi=new Map,RD=new Set;function Dv(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Yo=ae.d;ae.d={f:xW,r:bW,D:wW,C:_W,L:TW,m:EW,X:AW,S:SW,M:CW};function xW(){var a=Yo.f(),c=Ev();return a||c}function bW(a){var c=Us(a);c!==null&&c.tag===5&&c.type==="form"?YM(c):Yo.r(a)}var qd=typeof document=="undefined"?null:document;function PD(a,c,h){var y=qd;if(y&&typeof c=="string"&&c){var _=On(c);_='link[rel="'+a+'"][href="'+_+'"]',typeof h=="string"&&(_+='[crossorigin="'+h+'"]'),RD.has(_)||(RD.add(_),a={rel:a,crossOrigin:h,href:c},y.querySelector(_)===null&&(c=y.createElement("link"),wr(c,"link",a),Cn(c),y.head.appendChild(c)))}}function wW(a){Yo.D(a),PD("dns-prefetch",a,null)}function _W(a,c){Yo.C(a,c),PD("preconnect",a,c)}function TW(a,c,h){Yo.L(a,c,h);var y=qd;if(y&&a&&c){var _='link[rel="preload"][as="'+On(c)+'"]';c==="image"&&h&&h.imageSrcSet?(_+='[imagesrcset="'+On(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(_+='[imagesizes="'+On(h.imageSizes)+'"]')):_+='[href="'+On(a)+'"]';var E=_;switch(c){case"style":E=zd(a);break;case"script":E=$d(a)}Xi.has(E)||(a=f({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:a,as:c},h),Xi.set(E,a),y.querySelector(_)!==null||c==="style"&&y.querySelector(jm(E))||c==="script"&&y.querySelector(Bm(E))||(c=y.createElement("link"),wr(c,"link",a),Cn(c),y.head.appendChild(c)))}}function EW(a,c){Yo.m(a,c);var h=qd;if(h&&a){var y=c&&typeof c.as=="string"?c.as:"script",_='link[rel="modulepreload"][as="'+On(y)+'"][href="'+On(a)+'"]',E=_;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=$d(a)}if(!Xi.has(E)&&(a=f({rel:"modulepreload",href:a},c),Xi.set(E,a),h.querySelector(_)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Bm(E)))return}y=h.createElement("link"),wr(y,"link",a),Cn(y),h.head.appendChild(y)}}}function SW(a,c,h){Yo.S(a,c,h);var y=qd;if(y&&a){var _=Gr(y).hoistableStyles,E=zd(a);c=c||"default";var U=_.get(E);if(!U){var z={loading:0,preload:null};if(U=y.querySelector(jm(E)))z.loading=5;else{a=f({rel:"stylesheet",href:a,"data-precedence":c},h),(h=Xi.get(E))&&yT(a,h);var W=U=y.createElement("link");Cn(W),wr(W,"link",a),W._p=new Promise(function(re,pe){W.onload=re,W.onerror=pe}),W.addEventListener("load",function(){z.loading|=1}),W.addEventListener("error",function(){z.loading|=2}),z.loading|=4,kv(U,c,y)}U={type:"stylesheet",instance:U,count:1,state:z},_.set(E,U)}}}function AW(a,c){Yo.X(a,c);var h=qd;if(h&&a){var y=Gr(h).hoistableScripts,_=$d(a),E=y.get(_);E||(E=h.querySelector(Bm(_)),E||(a=f({src:a,async:!0},c),(c=Xi.get(_))&&vT(a,c),E=h.createElement("script"),Cn(E),wr(E,"link",a),h.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},y.set(_,E))}}function CW(a,c){Yo.M(a,c);var h=qd;if(h&&a){var y=Gr(h).hoistableScripts,_=$d(a),E=y.get(_);E||(E=h.querySelector(Bm(_)),E||(a=f({src:a,async:!0,type:"module"},c),(c=Xi.get(_))&&vT(a,c),E=h.createElement("script"),Cn(E),wr(E,"link",a),h.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},y.set(_,E))}}function ND(a,c,h,y){var _=(_=$e.current)?Dv(_):null;if(!_)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=zd(h.href),h=Gr(_).hoistableStyles,y=h.get(c),y||(y={type:"style",instance:null,count:0,state:null},h.set(c,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){a=zd(h.href);var E=Gr(_).hoistableStyles,U=E.get(a);if(U||(_=_.ownerDocument||_,U={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(a,U),(E=_.querySelector(jm(a)))&&!E._p&&(U.instance=E,U.state.loading=5),Xi.has(a)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Xi.set(a,h),E||IW(_,a,h,U.state))),c&&y===null)throw Error(r(528,""));return U}if(c&&y!==null)throw Error(r(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=$d(h),h=Gr(_).hoistableScripts,y=h.get(c),y||(y={type:"script",instance:null,count:0,state:null},h.set(c,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function zd(a){return'href="'+On(a)+'"'}function jm(a){return'link[rel="stylesheet"]['+a+"]"}function MD(a){return f({},a,{"data-precedence":a.precedence,precedence:null})}function IW(a,c,h,y){a.querySelector('link[rel="preload"][as="style"]['+c+"]")?y.loading=1:(c=a.createElement("link"),y.preload=c,c.addEventListener("load",function(){return y.loading|=1}),c.addEventListener("error",function(){return y.loading|=2}),wr(c,"link",h),Cn(c),a.head.appendChild(c))}function $d(a){return'[src="'+On(a)+'"]'}function Bm(a){return"script[async]"+a}function DD(a,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var y=a.querySelector('style[data-href~="'+On(h.href)+'"]');if(y)return c.instance=y,Cn(y),y;var _=f({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return y=(a.ownerDocument||a).createElement("style"),Cn(y),wr(y,"style",_),kv(y,h.precedence,a),c.instance=y;case"stylesheet":_=zd(h.href);var E=a.querySelector(jm(_));if(E)return c.state.loading|=4,c.instance=E,Cn(E),E;y=MD(h),(_=Xi.get(_))&&yT(y,_),E=(a.ownerDocument||a).createElement("link"),Cn(E);var U=E;return U._p=new Promise(function(z,W){U.onload=z,U.onerror=W}),wr(E,"link",y),c.state.loading|=4,kv(E,h.precedence,a),c.instance=E;case"script":return E=$d(h.src),(_=a.querySelector(Bm(E)))?(c.instance=_,Cn(_),_):(y=h,(_=Xi.get(E))&&(y=f({},h),vT(y,_)),a=a.ownerDocument||a,_=a.createElement("script"),Cn(_),wr(_,"link",y),a.head.appendChild(_),c.instance=_);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(y=c.instance,c.state.loading|=4,kv(y,h.precedence,a));return c.instance}function kv(a,c,h){for(var y=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=y.length?y[y.length-1]:null,E=_,U=0;U<y.length;U++){var z=y[U];if(z.dataset.precedence===c)E=z;else if(E!==_)break}E?E.parentNode.insertBefore(a,E.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(a,c.firstChild))}function yT(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.title==null&&(a.title=c.title)}function vT(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.integrity==null&&(a.integrity=c.integrity)}var Ov=null;function kD(a,c,h){if(Ov===null){var y=new Map,_=Ov=new Map;_.set(h,y)}else _=Ov,y=_.get(h),y||(y=new Map,_.set(h,y));if(y.has(a))return y;for(y.set(a,null),h=h.getElementsByTagName(a),_=0;_<h.length;_++){var E=h[_];if(!(E[fu]||E[Gn]||a==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var U=E.getAttribute(c)||"";U=a+U;var z=y.get(U);z?z.push(E):y.set(U,[E])}}return y}function OD(a,c,h){a=a.ownerDocument||a,a.head.insertBefore(h,c==="title"?a.querySelector("head > title"):null)}function RW(a,c,h){if(h===1||c.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return a=c.disabled,typeof c.precedence=="string"&&a==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function VD(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var qm=null;function PW(){}function NW(a,c,h){if(qm===null)throw Error(r(475));var y=qm;if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var _=zd(h.href),E=a.querySelector(jm(_));if(E){a=E._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(y.count++,y=Vv.bind(y),a.then(y,y)),c.state.loading|=4,c.instance=E,Cn(E);return}E=a.ownerDocument||a,h=MD(h),(_=Xi.get(_))&&yT(h,_),E=E.createElement("link"),Cn(E);var U=E;U._p=new Promise(function(z,W){U.onload=z,U.onerror=W}),wr(E,"link",h),c.instance=E}y.stylesheets===null&&(y.stylesheets=new Map),y.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(y.count++,c=Vv.bind(y),a.addEventListener("load",c),a.addEventListener("error",c))}}function MW(){if(qm===null)throw Error(r(475));var a=qm;return a.stylesheets&&a.count===0&&xT(a,a.stylesheets),0<a.count?function(c){var h=setTimeout(function(){if(a.stylesheets&&xT(a,a.stylesheets),a.unsuspend){var y=a.unsuspend;a.unsuspend=null,y()}},6e4);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(h)}}:null}function Vv(){if(this.count--,this.count===0){if(this.stylesheets)xT(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Lv=null;function xT(a,c){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Lv=new Map,c.forEach(DW,a),Lv=null,Vv.call(a))}function DW(a,c){if(!(c.state.loading&4)){var h=Lv.get(a);if(h)var y=h.get(null);else{h=new Map,Lv.set(a,h);for(var _=a.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<_.length;E++){var U=_[E];(U.nodeName==="LINK"||U.getAttribute("media")!=="not all")&&(h.set(U.dataset.precedence,U),y=U)}y&&h.set(null,y)}_=c.instance,U=_.getAttribute("data-precedence"),E=h.get(U)||y,E===y&&h.set(null,_),h.set(U,_),this.count++,y=Vv.bind(this),_.addEventListener("load",y),_.addEventListener("error",y),E?E.parentNode.insertBefore(_,E.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(_,a.firstChild)),c.state.loading|=4}}var zm={$$typeof:N,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function kW(a,c,h,y,_,E,U,z){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=y,this.onUncaughtError=_,this.onCaughtError=E,this.onRecoverableError=U,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function LD(a,c,h,y,_,E,U,z,W,re,pe,ye){return a=new kW(a,c,h,U,z,W,re,ye),c=1,E===!0&&(c|=24),E=xi(3,null,null,c),a.current=E,E.stateNode=a,c=e_(),c.refCount++,a.pooledCache=c,c.refCount++,E.memoizedState={element:y,isDehydrated:h,cache:c},i_(E),a}function UD(a){return a?(a=wd,a):wd}function FD(a,c,h,y,_,E){_=UD(_),y.context===null?y.context=_:y.pendingContext=_,y=za(c),y.payload={element:h},E=E===void 0?null:E,E!==null&&(y.callback=E),h=$a(a,y,c),h!==null&&(Ei(h,a,c),xm(h,a,c))}function jD(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<c?h:c}}function bT(a,c){jD(a,c),(a=a.alternate)&&jD(a,c)}function BD(a){if(a.tag===13){var c=bd(a,67108864);c!==null&&Ei(c,a,67108864),bT(a,67108864)}}var Uv=!0;function OW(a,c,h,y){var _=Q.T;Q.T=null;var E=ae.p;try{ae.p=2,wT(a,c,h,y)}finally{ae.p=E,Q.T=_}}function VW(a,c,h,y){var _=Q.T;Q.T=null;var E=ae.p;try{ae.p=8,wT(a,c,h,y)}finally{ae.p=E,Q.T=_}}function wT(a,c,h,y){if(Uv){var _=_T(y);if(_===null)lT(a,c,y,Fv,h),zD(a,y);else if(UW(_,a,c,h,y))y.stopPropagation();else if(zD(a,y),c&4&&-1<LW.indexOf(a)){for(;_!==null;){var E=Us(_);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var U=Ye(E.pendingLanes);if(U!==0){var z=E;for(z.pendingLanes|=2,z.entangledLanes|=2;U;){var W=1<<31-sr(U);z.entanglements[1]|=W,U&=~W}Xs(E),(Vt&6)===0&&(_v=mn()+500,Vm(0))}}break;case 13:z=bd(E,2),z!==null&&Ei(z,E,2),Ev(),bT(E,2)}if(E=_T(y),E===null&&lT(a,c,y,Fv,h),E===_)break;_=E}_!==null&&y.stopPropagation()}else lT(a,c,y,null,h)}}function _T(a){return a=zi(a),TT(a)}var Fv=null;function TT(a){if(Fv=null,a=Co(a),a!==null){var c=s(a);if(c===null)a=null;else{var h=c.tag;if(h===13){if(a=o(c),a!==null)return a;a=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null)}}return Fv=a,null}function qD(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Na()){case cu:return 2;case ji:return 8;case pn:case ed:return 32;case Ma:return 268435456;default:return 32}default:return 32}}var ET=!1,rl=null,il=null,sl=null,$m=new Map,Gm=new Map,ol=[],LW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zD(a,c){switch(a){case"focusin":case"focusout":rl=null;break;case"dragenter":case"dragleave":il=null;break;case"mouseover":case"mouseout":sl=null;break;case"pointerover":case"pointerout":$m.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gm.delete(c.pointerId)}}function Hm(a,c,h,y,_,E){return a===null||a.nativeEvent!==E?(a={blockedOn:c,domEventName:h,eventSystemFlags:y,nativeEvent:E,targetContainers:[_]},c!==null&&(c=Us(c),c!==null&&BD(c)),a):(a.eventSystemFlags|=y,c=a.targetContainers,_!==null&&c.indexOf(_)===-1&&c.push(_),a)}function UW(a,c,h,y,_){switch(c){case"focusin":return rl=Hm(rl,a,c,h,y,_),!0;case"dragenter":return il=Hm(il,a,c,h,y,_),!0;case"mouseover":return sl=Hm(sl,a,c,h,y,_),!0;case"pointerover":var E=_.pointerId;return $m.set(E,Hm($m.get(E)||null,a,c,h,y,_)),!0;case"gotpointercapture":return E=_.pointerId,Gm.set(E,Hm(Gm.get(E)||null,a,c,h,y,_)),!0}return!1}function $D(a){var c=Co(a.target);if(c!==null){var h=s(c);if(h!==null){if(c=h.tag,c===13){if(c=o(h),c!==null){a.blockedOn=c,Ey(a.priority,function(){if(h.tag===13){var y=Ti();y=ka(y);var _=bd(h,y);_!==null&&Ei(_,h,y),bT(h,y)}});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function jv(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var h=_T(a.nativeEvent);if(h===null){h=a.nativeEvent;var y=new h.constructor(h.type,h);No=y,h.target.dispatchEvent(y),No=null}else return c=Us(h),c!==null&&BD(c),a.blockedOn=h,!1;c.shift()}return!0}function GD(a,c,h){jv(a)&&h.delete(c)}function FW(){ET=!1,rl!==null&&jv(rl)&&(rl=null),il!==null&&jv(il)&&(il=null),sl!==null&&jv(sl)&&(sl=null),$m.forEach(GD),Gm.forEach(GD)}function Bv(a,c){a.blockedOn===c&&(a.blockedOn=null,ET||(ET=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,FW)))}var qv=null;function HD(a){qv!==a&&(qv=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){qv===a&&(qv=null);for(var c=0;c<a.length;c+=3){var h=a[c],y=a[c+1],_=a[c+2];if(typeof y!="function"){if(TT(y||h)===null)continue;break}var E=Us(h);E!==null&&(a.splice(c,3),c-=3,T_(E,{pending:!0,data:_,method:h.method,action:y},y,_))}}))}function Km(a){function c(W){return Bv(W,a)}rl!==null&&Bv(rl,a),il!==null&&Bv(il,a),sl!==null&&Bv(sl,a),$m.forEach(c),Gm.forEach(c);for(var h=0;h<ol.length;h++){var y=ol[h];y.blockedOn===a&&(y.blockedOn=null)}for(;0<ol.length&&(h=ol[0],h.blockedOn===null);)$D(h),h.blockedOn===null&&ol.shift();if(h=(a.ownerDocument||a).$$reactFormReplay,h!=null)for(y=0;y<h.length;y+=3){var _=h[y],E=h[y+1],U=_[kn]||null;if(typeof E=="function")U||HD(h);else if(U){var z=null;if(E&&E.hasAttribute("formAction")){if(_=E,U=E[kn]||null)z=U.formAction;else if(TT(_)!==null)continue}else z=U.action;typeof z=="function"?h[y+1]=z:(h.splice(y,3),y-=3),HD(h)}}}function ST(a){this._internalRoot=a}zv.prototype.render=ST.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(r(409));var h=c.current,y=Ti();FD(h,y,a,c,null,null)},zv.prototype.unmount=ST.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;FD(a.current,2,null,a,null,null),Ev(),c[Bi]=null}};function zv(a){this._internalRoot=a}zv.prototype.unstable_scheduleHydration=function(a){if(a){var c=Oa();a={blockedOn:null,target:a,priority:c};for(var h=0;h<ol.length&&c!==0&&c<ol[h].priority;h++);ol.splice(h,0,a),h===0&&$D(a)}};var KD=e.version;if(KD!=="19.1.1")throw Error(r(527,KD,"19.1.1"));ae.findDOMNode=function(a){var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=u(c),a=a!==null?d(a):null,a=a===null?null:a.stateNode,a};var jW={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var $v=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$v.isDisabled&&$v.supportsFiber)try{Zt=$v.inject(jW),Rt=$v}catch(a){}}return Ym.createRoot=function(a,c){if(!i(a))throw Error(r(299));var h=!1,y="",_=u2,E=c2,U=d2,z=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(_=c.onUncaughtError),c.onCaughtError!==void 0&&(E=c.onCaughtError),c.onRecoverableError!==void 0&&(U=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(z=c.unstable_transitionCallbacks)),c=LD(a,1,!1,null,null,h,y,_,E,U,z,null),a[Bi]=c.current,aT(a),new ST(c)},Ym.hydrateRoot=function(a,c,h){if(!i(a))throw Error(r(299));var y=!1,_="",E=u2,U=c2,z=d2,W=null,re=null;return h!=null&&(h.unstable_strictMode===!0&&(y=!0),h.identifierPrefix!==void 0&&(_=h.identifierPrefix),h.onUncaughtError!==void 0&&(E=h.onUncaughtError),h.onCaughtError!==void 0&&(U=h.onCaughtError),h.onRecoverableError!==void 0&&(z=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(W=h.unstable_transitionCallbacks),h.formState!==void 0&&(re=h.formState)),c=LD(a,1,!0,c,h!=null?h:null,y,_,E,U,z,W,re),c.context=UD(null),h=c.current,y=Ti(),y=ka(y),_=za(y),_.callback=null,$a(h,_,y),h=y,c.current.lanes=h,Ao(c,h),Xs(c),a[Bi]=c.current,aT(a),new zv(c)},Ym.version="19.1.1",Ym}var sk;function rY(){if(sk)return PT.exports;sk=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),PT.exports=nY(),PT.exports}var iY=rY();const sY=Eo(iY),oY=M.createContext({}),aY=({children:t})=>{const[e,n]=M.useState({});return x.jsx(oY.Provider,{value:{cache:e,setCache:n},children:t})},lY=()=>{};var ok={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},uY=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},uj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,f=s>>2,m=(s&3)<<4|l>>4;let v=(l&15)<<2|d>>6,b=d&63;u||(b=64,o||(v=64)),r.push(n[f],n[m],n[v],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lj(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):uY(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||d==null||m==null)throw new cY;const v=s<<2|l>>4;if(r.push(v),d!==64){const b=l<<4&240|d>>2;if(r.push(b),m!==64){const T=d<<6&192|m;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class cY extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dY=function(t){const e=lj(t);return uj.encodeByteArray(e,!0)},G0=function(t){return dY(t).replace(/\./g,"")},SC=function(t){try{return uj.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function H0(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!fY(n)||(t[n]=H0(t[n],e[n]));return t}function fY(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hY=()=>AC().__FIREBASE_DEFAULTS__,mY=()=>{if(typeof process=="undefined"||typeof ok=="undefined")return;const t=ok.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},pY=()=>{if(typeof document=="undefined")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&SC(t[1]);return e&&JSON.parse(e)},CC=()=>{try{return lY()||hY()||mY()||pY()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},IC=()=>{var t;return(t=CC())==null?void 0:t.config},gY=t=>{var e;return(e=CC())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yY{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch(e){return!1}}function cj(t){return P(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vY(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Y({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[G0(JSON.stringify(n)),G0(JSON.stringify(o)),""].join(".")}const Cp={};function xY(){const t={prod:[],emulator:[]};for(const e of Object.keys(Cp))Cp[e]?t.emulator.push(e):t.prod.push(e);return t}function bY(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let ak=!1;function dj(t,e){if(typeof window=="undefined"||typeof document=="undefined"||!mh(window.location.host)||Cp[t]===e||Cp[t]||ak)return;Cp[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",s=xY().prod.length>0;function o(){const v=document.getElementById(r);v&&v.remove()}function l(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function u(v,b){v.setAttribute("width","24"),v.setAttribute("id",b),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{ak=!0,o()},v}function f(v,b){v.setAttribute("id",b),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function m(){const v=bY(r),b=n("text"),T=document.getElementById(b)||document.createElement("span"),S=n("learnmore"),A=document.getElementById(S)||document.createElement("a"),C=n("preprendIcon"),D=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const N=v.element;l(N),f(A,S);const F=d();u(D,C),N.append(D,T,A,F),document.body.appendChild(N)}s?(T.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wY(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function ob(){var e;const t=(e=CC())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(n){return!1}}function _Y(){return typeof window!="undefined"||fj()}function fj(){return typeof WorkerGlobalScope!="undefined"&&typeof self!="undefined"&&self instanceof WorkerGlobalScope}function TY(){return typeof navigator!="undefined"&&navigator.userAgent==="Cloudflare-Workers"}function hj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function RC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mj(){const t=vn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function pj(){return!ob()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gj(){return!ob()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Xp(){try{return typeof indexedDB=="object"}catch(t){return!1}}function EY(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SY="FirebaseError";class Zr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=SY,Object.setPrototypeOf(this,Zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zc.prototype.create)}}class zc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?AY(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Zr(i,l,r)}}function AY(t,e){return t.replace(CY,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const CY=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function IY(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Dl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(uk(s)&&uk(o)){if(!Dl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function uk(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function of(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function gp(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function yj(t,e){const n=new RY(t,e);return n.subscribe.bind(n)}class RY{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");PY(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=kT),i.error===void 0&&(i.error=kT),i.complete===void 0&&(i.complete=kT);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console!="undefined"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PY(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function kT(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(t){return t&&t._delegate?t._delegate:t}class vo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NY=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new yY;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var i;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(i=e==null?void 0:e.optional)!=null?i:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DY(e))try{this.getOrInitializeService({instanceIdentifier:Gu})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=Gu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return P(this,null,function*(){const e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Gu){return this.instances.has(e)}getOptions(e=Gu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var o;const r=this.normalizeInstanceIdentifier(n),i=(o=this.onInitCallbacks.get(r))!=null?o:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:MY(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}return r||null}normalizeInstanceIdentifier(e=Gu){return this.component?this.component.multipleInstances?e:Gu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function MY(t){return t===Gu?void 0:t}function DY(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NY(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=[];var gt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(gt||(gt={}));const xj={debug:gt.DEBUG,verbose:gt.VERBOSE,info:gt.INFO,warn:gt.WARN,error:gt.ERROR,silent:gt.SILENT},kY=gt.INFO,OY={[gt.DEBUG]:"log",[gt.VERBOSE]:"log",[gt.INFO]:"info",[gt.WARN]:"warn",[gt.ERROR]:"error"},VY=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=OY[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ab{constructor(e){this.name=e,this._logLevel=kY,this._logHandler=VY,this._userLogHandler=null,PC.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in gt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,gt.DEBUG,...e),this._logHandler(this,gt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,gt.VERBOSE,...e),this._logHandler(this,gt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,gt.INFO,...e),this._logHandler(this,gt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,gt.WARN,...e),this._logHandler(this,gt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,gt.ERROR,...e),this._logHandler(this,gt.ERROR,...e)}}function LY(t){PC.forEach(e=>{e.setLogLevel(t)})}function UY(t,e){for(const n of PC){let r=null;e&&e.level&&(r=xj[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const l=o.map(u=>{if(u==null)return null;if(typeof u=="string")return u;if(typeof u=="number"||typeof u=="boolean")return u.toString();if(u instanceof Error)return u.message;try{return JSON.stringify(u)}catch(d){return null}}).filter(u=>u).join(" ");s>=(r!=null?r:i.logLevel)&&t({level:gt[s].toLowerCase(),message:l,args:o,type:i.name})}}}const FY=(t,e)=>e.some(n=>t instanceof n);let ck,dk;function jY(){return ck||(ck=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BY(){return dk||(dk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bj=new WeakMap,oA=new WeakMap,wj=new WeakMap,OT=new WeakMap,NC=new WeakMap;function qY(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Al(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&bj.set(n,t)}).catch(()=>{}),NC.set(e,t),e}function zY(t){if(oA.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});oA.set(t,e)}let aA={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return oA.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wj.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Al(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $Y(t){aA=t(aA)}function GY(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(VT(this),e,...n);return wj.set(r,e.sort?e.sort():[e]),Al(r)}:BY().includes(t)?function(...e){return t.apply(VT(this),e),Al(bj.get(this))}:function(...e){return Al(t.apply(VT(this),e))}}function HY(t){return typeof t=="function"?GY(t):(t instanceof IDBTransaction&&zY(t),FY(t,jY())?new Proxy(t,aA):t)}function Al(t){if(t instanceof IDBRequest)return qY(t);if(OT.has(t))return OT.get(t);const e=HY(t);return e!==t&&(OT.set(t,e),NC.set(e,t)),e}const VT=t=>NC.get(t);function KY(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Al(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Al(o.result),u.oldVersion,u.newVersion,Al(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const WY=["get","getKey","getAll","getAllKeys","count"],YY=["put","add","delete","clear"],LT=new Map;function fk(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(LT.get(e))return LT.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=YY.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||WY.includes(n)))return;const s=function(o,...l){return P(this,null,function*(){const u=this.transaction(o,i?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(l.shift())),(yield Promise.all([d[n](...l),i&&u.done]))[0]})};return LT.set(e,s),s}$Y(t=>xe(Y({},t),{get:(e,n,r)=>fk(e,n)||t.get(e,n,r),has:(e,n)=>!!fk(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JY{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QY(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function QY(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const K0="@firebase/app",lA="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new ab("@firebase/app"),XY="@firebase/app-compat",ZY="@firebase/analytics-compat",eJ="@firebase/analytics",tJ="@firebase/app-check-compat",nJ="@firebase/app-check",rJ="@firebase/auth",iJ="@firebase/auth-compat",sJ="@firebase/database",oJ="@firebase/data-connect",aJ="@firebase/database-compat",lJ="@firebase/functions",uJ="@firebase/functions-compat",cJ="@firebase/installations",dJ="@firebase/installations-compat",fJ="@firebase/messaging",hJ="@firebase/messaging-compat",mJ="@firebase/performance",pJ="@firebase/performance-compat",gJ="@firebase/remote-config",yJ="@firebase/remote-config-compat",vJ="@firebase/storage",xJ="@firebase/storage-compat",bJ="@firebase/firestore",wJ="@firebase/ai",_J="@firebase/firestore-compat",TJ="firebase",EJ="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl="[DEFAULT]",SJ={[K0]:"fire-core",[XY]:"fire-core-compat",[eJ]:"fire-analytics",[ZY]:"fire-analytics-compat",[nJ]:"fire-app-check",[tJ]:"fire-app-check-compat",[rJ]:"fire-auth",[iJ]:"fire-auth-compat",[sJ]:"fire-rtdb",[oJ]:"fire-data-connect",[aJ]:"fire-rtdb-compat",[lJ]:"fire-fn",[uJ]:"fire-fn-compat",[cJ]:"fire-iid",[dJ]:"fire-iid-compat",[fJ]:"fire-fcm",[hJ]:"fire-fcm-compat",[mJ]:"fire-perf",[pJ]:"fire-perf-compat",[gJ]:"fire-rc",[yJ]:"fire-rc-compat",[vJ]:"fire-gcs",[xJ]:"fire-gcs-compat",[bJ]:"fire-fst",[_J]:"fire-fst-compat",[wJ]:"fire-vertex","fire-js":"fire-js",[TJ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol=new Map,Of=new Map,Vf=new Map;function Zp(t,e){try{t.container.addComponent(e)}catch(n){aa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _j(t,e){t.container.addOrOverwriteComponent(e)}function Vl(t){const e=t.name;if(Vf.has(e))return aa.debug(`There were multiple attempts to register component ${e}.`),!1;Vf.set(e,t);for(const n of Ol.values())Zp(n,t);for(const n of Of.values())Zp(n,t);return!0}function Tj(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function AJ(t,e,n=kl){Tj(t,e).clearInstance(n)}function MC(t){return t.options!==void 0}function Ej(t){return MC(t)?!1:"authIdToken"in t||"appCheckToken"in t||"releaseOnDeref"in t||"automaticDataCollectionEnabled"in t}function ln(t){return t==null?!1:t.settings!==void 0}function CJ(){Vf.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IJ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ki=new zc("app","Firebase",IJ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sj=class{constructor(e,n,r){this._isDeleted=!1,this._options=Y({},e),this._config=Y({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ki.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(t,e){const n=SC(t.split(".")[1]);if(n===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(n).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(n).exp*1e3,s=new Date().getTime();i-s<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class RJ extends Sj{constructor(e,n,r,i){const s=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!0,o={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,o,i);else{const l=e;super(l.options,o,i)}this._serverConfig=Y({automaticDataCollectionEnabled:s},n),this._serverConfig.authIdToken&&hk(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&hk(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry!="undefined"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,Ps(K0,lA,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){kC(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw ki.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=EJ;function DC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Y({name:kl,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw ki.create("bad-app-name",{appName:String(i)});if(n||(n=IC()),!n)throw ki.create("no-options");const s=Ol.get(i);if(s){if(Dl(n,s.options)&&Dl(r,s.config))return s;throw ki.create("duplicate-app",{appName:i})}const o=new vj(i);for(const u of Vf.values())o.addComponent(u);const l=new Sj(n,r,o);return Ol.set(i,l),l}function PJ(t,e={}){if(_Y()&&!fj())throw ki.create("invalid-server-app-environment");let n,r=e||{};if(t&&(MC(t)?n=t.options:Ej(t)?r=t:n=t),r.automaticDataCollectionEnabled===void 0&&(r.automaticDataCollectionEnabled=!0),n||(n=IC()),!n)throw ki.create("no-options");const i=Y(Y({},r),n);i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const s=f=>[...f].reduce((m,v)=>Math.imul(31,m)+v.charCodeAt(0)|0,0);if(r.releaseOnDeref!==void 0&&typeof FinalizationRegistry=="undefined")throw ki.create("finalization-registry-not-supported",{});const o=""+s(JSON.stringify(i)),l=Of.get(o);if(l)return l.incRefCount(r.releaseOnDeref),l;const u=new vj(o);for(const f of Vf.values())u.addComponent(f);const d=new RJ(n,r,o,u);return Of.set(o,d),d}function NJ(t=kl){const e=Ol.get(t);if(!e&&t===kl&&IC())return DC();if(!e)throw ki.create("no-app",{appName:t});return e}function MJ(){return Array.from(Ol.values())}function kC(t){return P(this,null,function*(){let e=!1;const n=t.name;Ol.has(n)?(e=!0,Ol.delete(n)):Of.has(n)&&t.decRefCount()<=0&&(Of.delete(n),e=!0),e&&(yield Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)})}function Ps(t,e,n){var o;let r=(o=SJ[t])!=null?o:t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),aa.warn(l.join(" "));return}Vl(new vo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function Aj(t,e){if(t!==null&&typeof t!="function")throw ki.create("invalid-log-argument");UY(t,e)}function Cj(t){LY(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DJ="firebase-heartbeat-database",kJ=1,eg="firebase-heartbeat-store";let UT=null;function Ij(){return UT||(UT=KY(DJ,kJ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(eg)}catch(n){console.warn(n)}}}}).catch(t=>{throw ki.create("idb-open",{originalErrorMessage:t.message})})),UT}function OJ(t){return P(this,null,function*(){try{const n=(yield Ij()).transaction(eg),r=yield n.objectStore(eg).get(Rj(t));return yield n.done,r}catch(e){if(e instanceof Zr)aa.warn(e.message);else{const n=ki.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});aa.warn(n.message)}}})}function mk(t,e){return P(this,null,function*(){try{const r=(yield Ij()).transaction(eg,"readwrite");yield r.objectStore(eg).put(e,Rj(t)),yield r.done}catch(n){if(n instanceof Zr)aa.warn(n.message);else{const r=ki.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});aa.warn(r.message)}}})}function Rj(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VJ=1024,LJ=30;class UJ{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jJ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return P(this,null,function*(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=pk();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>LJ){const o=BJ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){aa.warn(r)}})}getHeartbeatsHeader(){return P(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=pk(),{heartbeatsToSend:r,unsentEntries:i}=FJ(this._heartbeatsCache.heartbeats),s=G0(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return aa.warn(n),""}})}}function pk(){return new Date().toISOString().substring(0,10)}function FJ(t,e=VJ){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),gk(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),gk(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class jJ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return P(this,null,function*(){return Xp()?EY().then(()=>!0).catch(()=>!1):!1})}read(){return P(this,null,function*(){if(yield this._canUseIndexedDBPromise){const n=yield OJ(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return P(this,null,function*(){var r;if(yield this._canUseIndexedDBPromise){const i=yield this.read();return mk(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!=null?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return P(this,null,function*(){var r;if(yield this._canUseIndexedDBPromise){const i=yield this.read();return mk(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!=null?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}}function gk(t){return G0(JSON.stringify({version:2,heartbeats:t})).length}function BJ(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qJ(t){Vl(new vo("platform-logger",e=>new JY(e),"PRIVATE")),Vl(new vo("heartbeat",e=>new UJ(e),"PRIVATE")),Ps(K0,lA,t),Ps(K0,lA,"esm2020"),Ps("fire-js","")}qJ("");const zJ=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Zr,SDK_VERSION:Yl,_DEFAULT_ENTRY_NAME:kl,_addComponent:Zp,_addOrOverwriteComponent:_j,_apps:Ol,_clearComponents:CJ,_components:Vf,_getProvider:Tj,_isFirebaseApp:MC,_isFirebaseServerApp:ln,_isFirebaseServerAppSettings:Ej,_registerComponent:Vl,_removeServiceInstance:AJ,_serverApps:Of,deleteApp:kC,getApp:NJ,getApps:MJ,initializeApp:DC,initializeServerApp:PJ,onLog:Aj,registerVersion:Ps,setLogLevel:Cj},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $J{constructor(e,n){this._delegate=e,this.firebase=n,Zp(e,new vo("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),kC(this._delegate)))}_getService(e,n=kl){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())==null?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(e,n=kl){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Zp(this._delegate,e)}_addOrOverwriteComponent(e){_j(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GJ={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},yk=new zc("app-compat","Firebase",GJ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HJ(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Ps,setLogLevel:Cj,onLog:Aj,apps:null,SDK_VERSION:Yl,INTERNAL:{registerComponent:l,removeApp:r,useAsService:u,modularAPIs:zJ}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(d){delete e[d]}function i(d){if(d=d||kl,!lk(e,d))throw yk.create("no-app",{appName:d});return e[d]}i.App=t;function s(d,f={}){const m=DC(d,f);if(lk(e,m.name))return e[m.name];const v=new t(m,n);return e[m.name]=v,v}function o(){return Object.keys(e).map(d=>e[d])}function l(d){const f=d.name,m=f.replace("-compat","");if(Vl(d)&&d.type==="PUBLIC"){const v=(b=i())=>{if(typeof b[m]!="function")throw yk.create("invalid-app-argument",{appName:f});return b[m]()};d.serviceProps!==void 0&&H0(v,d.serviceProps),n[m]=v,t.prototype[m]=function(...b){return this._getService.bind(this,f).apply(this,d.multipleInstances?b:[])}}return d.type==="PUBLIC"?n[m]:null}function u(d,f){return f==="serverAuth"?null:f}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(){const t=HJ($J);t.INTERNAL=xe(Y({},t.INTERNAL),{createFirebaseNamespace:Pj,extendNamespace:e,createSubscribe:yj,ErrorFactory:zc,deepExtend:H0});function e(n){H0(t,n)}return t}const KJ=Pj();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk=new ab("@firebase/app-compat"),WJ="@firebase/app-compat",YJ="0.5.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JJ(t){Ps(WJ,YJ,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=AC();if(t.firebase!==void 0){vk.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&vk.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch(t){}const At=KJ;JJ();var QJ="firebase",XJ="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */At.registerVersion(QJ,XJ,"app-compat");const Jm={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},Gd={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZJ(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function Nj(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eQ=ZJ,tQ=Nj,Mj=new zc("auth","Firebase",Nj());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0=new ab("@firebase/auth");function nQ(t,...e){W0.logLevel<=gt.WARN&&W0.warn(`Auth (${Yl}): ${t}`,...e)}function w0(t,...e){W0.logLevel<=gt.ERROR&&W0.error(`Auth (${Yl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(t,...e){throw VC(t,...e)}function Zn(t,...e){return VC(t,...e)}function OC(t,e,n){const r=xe(Y({},tQ()),{[e]:n});return new zc("auth","Firebase",r).create(e,{appName:t.name})}function mr(t){return OC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gh(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Pr(t,"argument-error"),OC(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function VC(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Mj.create(t,...e)}function Te(t,e,...n){if(!t)throw VC(e,...n)}function so(t){const e="INTERNAL ASSERTION FAILED: "+t;throw w0(e),new Error(e)}function Ds(t,e){t||so(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(){var t;return typeof self!="undefined"&&((t=self.location)==null?void 0:t.href)||""}function LC(){return xk()==="http:"||xk()==="https:"}function xk(){var t;return typeof self!="undefined"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rQ(){return typeof navigator!="undefined"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LC()||hj()||"connection"in navigator)?navigator.onLine:!0}function iQ(){if(typeof navigator=="undefined")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ds(n>e,"Short delay should be less than long delay!"),this.isMobile=wY()||RC()}get(){return rQ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(t,e){Ds(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self!="undefined"&&"fetch"in self)return self.fetch;if(typeof globalThis!="undefined"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch!="undefined")return fetch;so("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self!="undefined"&&"Headers"in self)return self.Headers;if(typeof globalThis!="undefined"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers!="undefined")return Headers;so("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self!="undefined"&&"Response"in self)return self.Response;if(typeof globalThis!="undefined"&&globalThis.Response)return globalThis.Response;if(typeof Response!="undefined")return Response;so("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sQ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oQ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],aQ=new Ug(3e4,6e4);function Sn(t,e){return t.tenantId&&!e.tenantId?xe(Y({},e),{tenantId:t.tenantId}):e}function An(s,o,l,u){return P(this,arguments,function*(t,e,n,r,i={}){return kj(t,i,()=>P(null,null,function*(){let d={},f={};r&&(e==="GET"?f=r:d={body:JSON.stringify(r)});const m=ph(Y({key:t.config.apiKey},f)).slice(1),v=yield t._getAdditionalHeaders();v["Content-Type"]="application/json",t.languageCode&&(v["X-Firebase-Locale"]=t.languageCode);const b=Y({method:e,headers:v},d);return TY()||(b.referrerPolicy="no-referrer"),t.emulatorConfig&&mh(t.emulatorConfig.host)&&(b.credentials="include"),Dj.fetch()(yield Oj(t,t.config.apiHost,n,m),b)}))})}function kj(t,e,n){return P(this,null,function*(){t._canInitEmulator=!1;const r=Y(Y({},sQ),e);try{const i=new uQ(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw yp(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[u,d]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw yp(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw yp(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw yp(t,"user-disabled",o);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw OC(t,f,d);Pr(t,f)}}catch(i){if(i instanceof Zr)throw i;Pr(t,"network-request-failed",{message:String(i)})}})}function ya(s,o,l,u){return P(this,arguments,function*(t,e,n,r,i={}){const d=yield An(t,e,n,r,i);return"mfaPendingCredential"in d&&Pr(t,"multi-factor-auth-required",{_serverResponse:d}),d})}function Oj(t,e,n,r){return P(this,null,function*(){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?UC(t.config,i):`${t.config.apiScheme}://${i}`;return oQ.includes(n)&&(yield s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o})}function lQ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uQ{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zn(this.auth,"network-request-failed")),aQ.get())})}}function yp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Zn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(t){return t!==void 0&&t.getResponse!==void 0}function wk(t){return t!==void 0&&t.enterprise!==void 0}class Vj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return lQ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cQ(t){return P(this,null,function*(){return(yield An(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})}function Lj(t,e){return P(this,null,function*(){return An(t,"GET","/v2/recaptchaConfig",Sn(t,e))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dQ(t,e){return P(this,null,function*(){return An(t,"POST","/v1/accounts:delete",e)})}function fQ(t,e){return P(this,null,function*(){return An(t,"POST","/v1/accounts:update",e)})}function Y0(t,e){return P(this,null,function*(){return An(t,"POST","/v1/accounts:lookup",e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function hQ(t,e=!1){return P(this,null,function*(){const n=Qe(t),r=yield n.getIdToken(e),i=lb(r);Te(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ip(FT(i.auth_time)),issuedAtTime:Ip(FT(i.iat)),expirationTime:Ip(FT(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}})}function FT(t){return Number(t)*1e3}function lb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return w0("JWT malformed, contained fewer than 3 sections"),null;try{const i=SC(n);return i?JSON.parse(i):(w0("Failed to decode base64 JWT payload"),null)}catch(i){return w0("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function _k(t){const e=lb(t);return Te(e,"internal-error"),Te(typeof e.exp!="undefined","internal-error"),Te(typeof e.iat!="undefined","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(t,e,n=!1){return P(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Zr&&mQ(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function mQ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pQ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!=null?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(()=>P(this,null,function*(){yield this.iteration()}),n)}iteration(){return P(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ip(this.lastLoginAt),this.creationTime=Ip(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(t){return P(this,null,function*(){var m;const e=t.auth,n=yield t.getIdToken(),r=yield la(t,Y0(e,{idToken:n}));Te(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(m=i.providerUserInfo)!=null&&m.length?Uj(i.providerUserInfo):[],o=yQ(t.providerData,s),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),d=l?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new uA(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)})}function gQ(t){return P(this,null,function*(){const e=Qe(t);yield ng(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function yQ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Uj(t){return t.map(r=>{var i=r,{providerId:e}=i,n=kr(i,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vQ(t,e){return P(this,null,function*(){const n=yield kj(t,{},()=>P(null,null,function*(){const r=ph({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=yield Oj(t,i,"/v1/token",`key=${s}`),l=yield t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:r};return t.emulatorConfig&&mh(t.emulatorConfig.host)&&(u.credentials="include"),Dj.fetch()(o,u)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function xQ(t,e){return P(this,null,function*(){return An(t,"POST","/v2/accounts:revokeToken",Sn(t,e))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken!="undefined","internal-error"),Te(typeof e.refreshToken!="undefined","internal-error");const n="expiresIn"in e&&typeof e.expiresIn!="undefined"?Number(e.expiresIn):_k(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=_k(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return P(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return P(this,null,function*(){const{accessToken:r,refreshToken:i,expiresIn:s}=yield vQ(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new bf;return r&&(Te(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Te(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Te(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bf,this.toJSON())}_performRefresh(){return so("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(t,e){Te(typeof t=="string"||typeof t=="undefined","internal-error",{appName:e})}class Is{constructor(s){var o=s,{uid:e,auth:n,stsTokenManager:r}=o,i=kr(o,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pQ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new uA(i.createdAt||void 0,i.lastLoginAt||void 0)}getIdToken(e){return P(this,null,function*(){const n=yield la(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return hQ(this,e)}reload(){return gQ(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Y({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Is(xe(Y({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return P(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield ng(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return P(this,null,function*(){if(ln(this.auth.app))return Promise.reject(mr(this.auth));const e=yield this.getIdToken();return yield la(this,dQ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return xe(Y({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Y({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var D,N,F,V,B,k,R,O;const r=(D=n.displayName)!=null?D:void 0,i=(N=n.email)!=null?N:void 0,s=(F=n.phoneNumber)!=null?F:void 0,o=(V=n.photoURL)!=null?V:void 0,l=(B=n.tenantId)!=null?B:void 0,u=(k=n._redirectEventId)!=null?k:void 0,d=(R=n.createdAt)!=null?R:void 0,f=(O=n.lastLoginAt)!=null?O:void 0,{uid:m,emailVerified:v,isAnonymous:b,providerData:T,stsTokenManager:S}=n;Te(m&&S,e,"internal-error");const A=bf.fromJSON(this.name,S);Te(typeof m=="string",e,"internal-error"),ul(r,e.name),ul(i,e.name),Te(typeof v=="boolean",e,"internal-error"),Te(typeof b=="boolean",e,"internal-error"),ul(s,e.name),ul(o,e.name),ul(l,e.name),ul(u,e.name),ul(d,e.name),ul(f,e.name);const C=new Is({uid:m,auth:e,email:i,emailVerified:v,displayName:r,isAnonymous:b,photoURL:o,phoneNumber:s,tenantId:l,stsTokenManager:A,createdAt:d,lastLoginAt:f});return T&&Array.isArray(T)&&(C.providerData=T.map(j=>Y({},j))),u&&(C._redirectEventId=u),C}static _fromIdTokenResponse(e,n,r=!1){return P(this,null,function*(){const i=new bf;i.updateFromServerResponse(n);const s=new Is({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ng(s),s})}static _fromGetAccountInfoResponse(e,n,r){return P(this,null,function*(){const i=n.users[0];Te(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Uj(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new bf;l.updateFromIdToken(r);const u=new Is({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new uA(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,d),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=new Map;function Di(t){Ds(t instanceof Function,"Expected a class definition");let e=Tk.get(t);return e?(Ds(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Tk.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return P(this,null,function*(){return!0})}_set(e,n){return P(this,null,function*(){this.storage[e]=n})}_get(e){return P(this,null,function*(){const n=this.storage[e];return n===void 0?null:n})}_remove(e){return P(this,null,function*(){delete this.storage[e]})}_addListener(e,n){}_removeListener(e,n){}}Fj.type="NONE";const Lf=Fj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(t,e,n){return`firebase:${t}:${e}:${n}`}class wf{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=mc(this.userKey,i.apiKey,s),this.fullPersistenceKey=mc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return P(this,null,function*(){const e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=yield Y0(this.auth,{idToken:e}).catch(()=>{});return n?Is._fromGetAccountInfoResponse(this.auth,n,e):null}return Is._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return P(this,null,function*(){if(this.persistence===e)return;const n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return P(this,null,function*(){if(!n.length)return new wf(Di(Lf),e,r);const i=(yield Promise.all(n.map(d=>P(null,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d);let s=i[0]||Di(Lf);const o=mc(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const f=yield d._get(o);if(f){let m;if(typeof f=="string"){const v=yield Y0(e,{idToken:f}).catch(()=>{});if(!v)break;m=yield Is._fromGetAccountInfoResponse(e,v,f)}else m=Is._fromJSON(e,f);d!==s&&(l=m),s=d;break}}catch(f){}const u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new wf(s,e,r):(s=u[0],l&&(yield s._set(o,l.toJSON())),yield Promise.all(n.map(d=>P(null,null,function*(){if(d!==s)try{yield d._remove(o)}catch(f){}}))),new wf(s,e,r))})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zj(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jj(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($j(e))return"Blackberry";if(Gj(e))return"Webos";if(Bj(e))return"Safari";if((e.includes("chrome/")||qj(e))&&!e.includes("edge/"))return"Chrome";if(Fg(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function jj(t=vn()){return/firefox\//i.test(t)}function Bj(t=vn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qj(t=vn()){return/crios\//i.test(t)}function zj(t=vn()){return/iemobile/i.test(t)}function Fg(t=vn()){return/android/i.test(t)}function $j(t=vn()){return/blackberry/i.test(t)}function Gj(t=vn()){return/webos/i.test(t)}function jg(t=vn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function bQ(t=vn()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function wQ(t=vn()){var e;return jg(t)&&!!((e=window.navigator)!=null&&e.standalone)}function _Q(){return mj()&&document.documentMode===10}function Hj(t=vn()){return jg(t)||Fg(t)||Gj(t)||$j(t)||/windows phone/i.test(t)||zj(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kj(t,e=[]){let n;switch(t){case"Browser":n=Ek(vn());break;case"Worker":n=`${Ek(vn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Yl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TQ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const u=e(s);o(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return P(this,null,function*(){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch(s){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}})}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EQ(n){return P(this,arguments,function*(t,e={}){return An(t,"GET","/v2/passwordPolicy",Sn(t,e))})}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SQ=6;class AQ{constructor(e){var r,i,s,o;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=n.minPasswordLength)!=null?r:SQ,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))!=null?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!=null?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,i,s,o,l,u;const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=(r=n.meetsMinPasswordLength)!=null?r:!0),n.isValid&&(n.isValid=(i=n.meetsMaxPasswordLength)!=null?i:!0),n.isValid&&(n.isValid=(s=n.containsLowercaseLetter)!=null?s:!0),n.isValid&&(n.isValid=(o=n.containsUppercaseLetter)!=null?o:!0),n.isValid&&(n.isValid=(l=n.containsNumericCharacter)!=null?l:!0),n.isValid&&(n.isValid=(u=n.containsNonAlphanumericCharacter)!=null?u:!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CQ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sk(this),this.idTokenSubscription=new Sk(this),this.beforeStateQueue=new TQ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mj,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Di(n)),this._initializationPromise=this.queue(()=>P(this,null,function*(){var r,i,s;if(!this._deleted&&(this.persistenceManager=yield wf.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch(o){}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return P(this,null,function*(){if(this._deleted)return;const e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return P(this,null,function*(){try{const n=yield Y0(this,{idToken:e}),r=yield Is._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return P(this,null,function*(){var s;if(ln(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=yield this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,l=r==null?void 0:r._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return P(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(r){yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return P(this,null,function*(){try{yield ng(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=iQ()}_delete(){return P(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return P(this,null,function*(){if(ln(this.app))return Promise.reject(mr(this));const n=e?Qe(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return P(this,null,function*(){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>P(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return P(this,null,function*(){return ln(this.app)?Promise.reject(mr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return ln(this.app)?Promise.reject(mr(this)):this.queue(()=>P(this,null,function*(){yield this.assertedPersistence.setPersistence(Di(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return P(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return P(this,null,function*(){const e=yield EQ(this),n=new AQ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new zc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return P(this,null,function*(){if(this.currentUser){const n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield xQ(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}_setRedirectUser(e,n){return P(this,null,function*(){const r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return P(this,null,function*(){if(!this.redirectPersistenceManager){const n=e&&Di(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=yield wf.create(this,[Di(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return P(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>P(this,null,function*(){}))),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return P(this,null,function*(){if(e===this.currentUser)return this.queue(()=>P(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=(r=(n=this.currentUser)==null?void 0:n.uid)!=null?r:null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return P(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Kj(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return P(this,null,function*(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=yield(i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=yield this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e})}_getAppCheckToken(){return P(this,null,function*(){var n;if(ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=yield(n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken();return e!=null&&e.error&&nQ(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token})}}function xn(t){return Qe(t)}class Sk{constructor(e){this.auth=e,this.observer=null,this.addObserver=yj(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bg={loadJS(){return P(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IQ(t){Bg=t}function FC(t){return Bg.loadJS(t)}function RQ(){return Bg.recaptchaV2Script}function PQ(){return Bg.recaptchaEnterpriseScript}function NQ(){return Bg.gapiScript}function Wj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MQ=500,DQ=6e4,Hv=1e12;class kQ{constructor(e){this.auth=e,this.counter=Hv,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new LQ(e,this.auth.name,n||{})),this.counter++,r}reset(e){var r;const n=e||Hv;(r=this._widgets.get(n))==null||r.delete(),this._widgets.delete(n)}getResponse(e){var r;const n=e||Hv;return((r=this._widgets.get(n))==null?void 0:r.getResponse())||""}execute(e){return P(this,null,function*(){var r;const n=e||Hv;return(r=this._widgets.get(n))==null||r.execute(),""})}}class OQ{constructor(){this.enterprise=new VQ}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class VQ{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class LQ{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;Te(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=UQ(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch(r){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch(r){}this.isVisible&&this.execute()},DQ)},MQ))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function UQ(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const FQ="recaptcha-enterprise",Rp="NO_RECAPTCHA";class Yj{constructor(e){this.type=FQ,this.auth=xn(e)}verify(e="verify",n=!1){return P(this,null,function*(){function r(s){return P(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,l)=>P(null,null,function*(){Lj(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new Vj(u);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,o(d.siteKey)}}).catch(u=>{l(u)})}))})}function i(s,o,l){const u=window.grecaptcha;wk(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(d=>{o(d)}).catch(()=>{o(Rp)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new OQ().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(l=>{if(!n&&wk(window.grecaptcha))i(l,s,o);else{if(typeof window=="undefined"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=PQ();u.length!==0&&(u+=l),FC(u).then(()=>{i(l,s,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})})}}function Qm(t,e,n,r=!1,i=!1){return P(this,null,function*(){const s=new Yj(t);let o;if(i)o=Rp;else try{o=yield s.verify(n)}catch(u){o=yield s.verify(n,!0)}const l=Y({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l})}function Cl(t,e,n,r,i){return P(this,null,function*(){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=yield Qm(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(l=>P(null,null,function*(){if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=yield Qm(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(l)}));else if(i==="PHONE_PROVIDER")if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("PHONE_PROVIDER")){const l=yield Qm(t,e,n);return r(t,l).catch(u=>P(null,null,function*(){var d;if(((d=t._getRecaptchaConfig())==null?void 0:d.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const f=yield Qm(t,e,n,!1,!0);return r(t,f)}return Promise.reject(u)}))}else{const l=yield Qm(t,e,n,!1,!0);return r(t,l)}else return Promise.reject(i+" provider is not supported.")})}function jQ(t){return P(this,null,function*(){const e=xn(t),n=yield Lj(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Vj(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new Yj(e).verify()})}function BQ(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Di);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function qQ(t,e,n){const r=xn(t);Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=Jj(e),{host:o,port:l}=zQ(e),u=l===null?"":`:${l}`,d={url:`${s}//${o}${u}/`},f=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(Dl(d,r.config.emulator)&&Dl(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,mh(o)?(cj(`${s}//${o}${u}`),dj("Auth",!0)):i||$Q()}function Jj(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function zQ(t){const e=Jj(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Ak(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Ak(o)}}}function Ak(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function $Q(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console!="undefined"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window!="undefined"&&typeof document!="undefined"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return so("not implemented")}_getIdTokenResponse(e){return so("not implemented")}_linkToIdToken(e,n){return so("not implemented")}_getReauthenticationResolver(e){return so("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qj(t,e){return P(this,null,function*(){return An(t,"POST","/v1/accounts:resetPassword",Sn(t,e))})}function GQ(t,e){return P(this,null,function*(){return An(t,"POST","/v1/accounts:update",e)})}function HQ(t,e){return P(this,null,function*(){return An(t,"POST","/v1/accounts:signUp",e)})}function KQ(t,e){return P(this,null,function*(){return An(t,"POST","/v1/accounts:update",Sn(t,e))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WQ(t,e){return P(this,null,function*(){return ya(t,"POST","/v1/accounts:signInWithPassword",Sn(t,e))})}function ub(t,e){return P(this,null,function*(){return An(t,"POST","/v1/accounts:sendOobCode",Sn(t,e))})}function YQ(t,e){return P(this,null,function*(){return ub(t,e)})}function JQ(t,e){return P(this,null,function*(){return ub(t,e)})}function QQ(t,e){return P(this,null,function*(){return ub(t,e)})}function XQ(t,e){return P(this,null,function*(){return ub(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZQ(t,e){return P(this,null,function*(){return ya(t,"POST","/v1/accounts:signInWithEmailLink",Sn(t,e))})}function eX(t,e){return P(this,null,function*(){return ya(t,"POST","/v1/accounts:signInWithEmailLink",Sn(t,e))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg extends yh{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new rg(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new rg(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return P(this,null,function*(){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cl(e,n,"signInWithPassword",WQ,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return ZQ(e,{email:this._email,oobCode:this._password});default:Pr(e,"internal-error")}})}_linkToIdToken(e,n){return P(this,null,function*(){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cl(e,r,"signUpPassword",HQ,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return eX(e,{idToken:n,email:this._email,oobCode:this._password});default:Pr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(t,e){return P(this,null,function*(){return ya(t,"POST","/v1/accounts:signInWithIdp",Sn(t,e))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tX="http://localhost";class xo extends yh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new xo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Pr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const l=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=l,s=kr(l,["providerId","signInMethod"]);if(!r||!i)return null;const o=new xo(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ia(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ia(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ia(e,n)}buildRequest(){const e={requestUri:tX,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ph(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(t,e){return P(this,null,function*(){return An(t,"POST","/v1/accounts:sendVerificationCode",Sn(t,e))})}function nX(t,e){return P(this,null,function*(){return ya(t,"POST","/v1/accounts:signInWithPhoneNumber",Sn(t,e))})}function rX(t,e){return P(this,null,function*(){const n=yield ya(t,"POST","/v1/accounts:signInWithPhoneNumber",Sn(t,e));if(n.temporaryProof)throw yp(t,"account-exists-with-different-credential",n);return n})}const iX={USER_NOT_FOUND:"user-not-found"};function sX(t,e){return P(this,null,function*(){const n=xe(Y({},e),{operation:"REAUTH"});return ya(t,"POST","/v1/accounts:signInWithPhoneNumber",Sn(t,n),iX)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends yh{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new pc({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new pc({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return nX(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return rX(e,Y({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return sX(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new pc({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oX(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aX(t){const e=of(gp(t)).link,n=e?of(gp(e)).deep_link_id:null,r=of(gp(t)).deep_link_id;return(r?of(gp(r)).link:null)||r||n||e||t}class cb{constructor(e){var o,l,u,d,f,m;const n=of(gp(e)),r=(o=n.apiKey)!=null?o:null,i=(l=n.oobCode)!=null?l:null,s=oX((u=n.mode)!=null?u:null);Te(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=(d=n.continueUrl)!=null?d:null,this.languageCode=(f=n.lang)!=null?f:null,this.tenantId=(m=n.tenantId)!=null?m:null}static parseLink(e){const n=aX(e);try{return new cb(n)}catch(r){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(){this.providerId=Jl.PROVIDER_ID}static credential(e,n){return rg._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=cb.parseLink(n);return Te(r,"argument-error"),rg._fromEmailAndCode(e,r.code,r.tenantId)}}Jl.PROVIDER_ID="password";Jl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh extends va{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class _f extends vh{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return Te("providerId"in n&&"signInMethod"in n,"argument-error"),xo._fromParams(n)}credential(e){return this._credential(xe(Y({},e),{nonce:e.rawNonce}))}_credential(e){return Te(e.idToken||e.accessToken,"argument-error"),xo._fromParams(xe(Y({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return _f.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return _f.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:l}=e;if(!r&&!i&&!n&&!s||!l)return null;try{return new _f(l)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch(u){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends vh{constructor(){super("facebook.com")}static credential(e){return xo._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return to.credential(e.oauthAccessToken)}catch(n){return null}}}to.FACEBOOK_SIGN_IN_METHOD="facebook.com";to.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends vh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return xo._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return no.credential(n,r)}catch(i){return null}}}no.GOOGLE_SIGN_IN_METHOD="google.com";no.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends vh{constructor(){super("github.com")}static credential(e){return xo._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ro.credential(e.oauthAccessToken)}catch(n){return null}}}ro.GITHUB_SIGN_IN_METHOD="github.com";ro.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lX="http://localhost";class Uf extends yh{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return ia(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ia(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ia(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new Uf(r,s)}static _create(e,n){return new Uf(e,n)}buildRequest(){return{requestUri:lX,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uX="saml.";class J0 extends va{constructor(e){Te(e.startsWith(uX),"argument-error"),super(e)}static credentialFromResult(e){return J0.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return J0.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=Uf.fromJSON(e);return Te(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return Uf._create(r,n)}catch(i){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io extends vh{constructor(){super("twitter.com")}static credential(e,n){return xo._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return io.credential(n,r)}catch(i){return null}}}io.TWITTER_SIGN_IN_METHOD="twitter.com";io.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xj(t,e){return P(this,null,function*(){return ya(t,"POST","/v1/accounts:signUp",Sn(t,e))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return P(this,null,function*(){const s=yield Is._fromIdTokenResponse(e,r,i),o=Ik(r);return new fs({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return P(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);const i=Ik(r);return new fs({user:e,providerId:i,_tokenResponse:r,operationType:n})})}}function Ik(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cX(t){return P(this,null,function*(){var i;if(ln(t.app))return Promise.reject(mr(t));const e=xn(t);if(yield e._initializationPromise,(i=e.currentUser)!=null&&i.isAnonymous)return new fs({user:e.currentUser,providerId:null,operationType:"signIn"});const n=yield Xj(e,{returnSecureToken:!0}),r=yield fs._fromIdTokenResponse(e,"signIn",n,!0);return yield e._updateCurrentUser(r.user),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0 extends Zr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Q0.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!=null?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Q0(e,n,r,i)}}function Zj(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Q0._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eB(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dX(t,e){return P(this,null,function*(){const n=Qe(t);yield db(!0,n,e);const{providerUserInfo:r}=yield fQ(n.auth,{idToken:yield n.getIdToken(),deleteProvider:[e]}),i=eB(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),yield n.auth._persistUserIfCurrent(n),n})}function jC(t,e,n=!1){return P(this,null,function*(){const r=yield la(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return fs._forOperation(t,"link",r)})}function db(t,e,n){return P(this,null,function*(){yield ng(e);const r=eB(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";Te(r.has(n)===t,e.auth,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tB(t,e,n=!1){return P(this,null,function*(){const{auth:r}=t;if(ln(r.app))return Promise.reject(mr(r));const i="reauthenticate";try{const s=yield la(t,Zj(r,i,e,t),n);Te(s.idToken,r,"internal-error");const o=lb(s.idToken);Te(o,r,"internal-error");const{sub:l}=o;return Te(t.uid===l,r,"user-mismatch"),fs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Pr(r,"user-mismatch"),s}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nB(t,e,n=!1){return P(this,null,function*(){if(ln(t.app))return Promise.reject(mr(t));const r="signIn",i=yield Zj(t,r,e),s=yield fs._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function fb(t,e){return P(this,null,function*(){return nB(xn(t),e)})}function rB(t,e){return P(this,null,function*(){const n=Qe(t);return yield db(!1,n,e.providerId),jC(n,e)})}function iB(t,e){return P(this,null,function*(){return tB(Qe(t),e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fX(t,e){return P(this,null,function*(){return ya(t,"POST","/v1/accounts:signInWithCustomToken",Sn(t,e))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hX(t,e){return P(this,null,function*(){if(ln(t.app))return Promise.reject(mr(t));const n=xn(t),r=yield fX(n,{token:e,returnSecureToken:!0}),i=yield fs._fromIdTokenResponse(n,"signIn",r);return yield n._updateCurrentUser(i.user),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?BC._fromServerResponse(e,n):"totpInfo"in n?qC._fromServerResponse(e,n):Pr(e,"internal-error")}}class BC extends qg{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new BC(n)}}class qC extends qg{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new qC(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(t,e,n){var r;Te(((r=n.url)==null?void 0:r.length)>0,t,"invalid-continue-uri"),Te(typeof n.dynamicLinkDomain=="undefined"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),Te(typeof n.linkDomain=="undefined"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Te(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Te(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(t){return P(this,null,function*(){const e=xn(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function mX(t,e,n){return P(this,null,function*(){const r=xn(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&hb(r,i,n),yield Cl(r,i,"getOobCode",JQ,"EMAIL_PASSWORD_PROVIDER")})}function pX(t,e,n){return P(this,null,function*(){yield Qj(Qe(t),{oobCode:e,newPassword:n}).catch(r=>P(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&zC(t),r}))})}function gX(t,e){return P(this,null,function*(){yield KQ(Qe(t),{oobCode:e})})}function sB(t,e){return P(this,null,function*(){const n=Qe(t),r=yield Qj(n,{oobCode:e}),i=r.requestType;switch(Te(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Te(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Te(r.mfaInfo,n,"internal-error");default:Te(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=qg._fromServerResponse(xn(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}})}function yX(t,e){return P(this,null,function*(){const{data:n}=yield sB(Qe(t),e);return n.email})}function vX(t,e,n){return P(this,null,function*(){if(ln(t.app))return Promise.reject(mr(t));const r=xn(t),o=yield Cl(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Xj,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&zC(t),u}),l=yield fs._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(l.user),l})}function xX(t,e,n){return ln(t.app)?Promise.reject(mr(t)):fb(Qe(t),Jl.credential(e,n)).catch(r=>P(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&zC(t),r}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bX(t,e,n){return P(this,null,function*(){const r=xn(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,l){Te(l.handleCodeInApp,r,"argument-error"),l&&hb(r,o,l)}s(i,n),yield Cl(r,i,"getOobCode",QQ,"EMAIL_PASSWORD_PROVIDER")})}function wX(t,e){const n=cb.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}function _X(t,e,n){return P(this,null,function*(){if(ln(t.app))return Promise.reject(mr(t));const r=Qe(t),i=Jl.credentialWithLink(e,n||tg());return Te(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),fb(r,i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TX(t,e){return P(this,null,function*(){return An(t,"POST","/v1/accounts:createAuthUri",Sn(t,e))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EX(t,e){return P(this,null,function*(){const n=LC()?tg():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=yield TX(Qe(t),r);return i||[]})}function SX(t,e){return P(this,null,function*(){const n=Qe(t),i={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};e&&hb(n.auth,i,e);const{email:s}=yield YQ(n.auth,i);s!==t.email&&(yield t.reload())})}function AX(t,e,n){return P(this,null,function*(){const r=Qe(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield t.getIdToken(),newEmail:e};n&&hb(r.auth,s,n);const{email:o}=yield XQ(r.auth,s);o!==t.email&&(yield t.reload())})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CX(t,e){return P(this,null,function*(){return An(t,"POST","/v1/accounts:update",e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IX(r,i){return P(this,arguments,function*(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=Qe(t),l={idToken:yield s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=yield la(s,CX(s.auth,l));s.displayName=u.displayName||null,s.photoURL=u.photoUrl||null;const d=s.providerData.find(({providerId:f})=>f==="password");d&&(d.displayName=s.displayName,d.photoURL=s.photoURL),yield s._updateTokensIfNecessary(u)})}function RX(t,e){const n=Qe(t);return ln(n.auth.app)?Promise.reject(mr(n.auth)):oB(n,e,null)}function PX(t,e){return oB(Qe(t),null,e)}function oB(t,e,n){return P(this,null,function*(){const{auth:r}=t,s={idToken:yield t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=yield la(t,GQ(r,s));yield t._updateTokensIfNecessary(o,!0)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NX(t){var i,s;if(!t)return null;const{providerId:e}=t,n=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},r=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&(t!=null&&t.idToken)){const o=(s=(i=lb(t.idToken))==null?void 0:i.firebase)==null?void 0:s.sign_in_provider;if(o){const l=o!=="anonymous"&&o!=="custom"?o:null;return new Tf(r,l)}}if(!e)return null;switch(e){case"facebook.com":return new MX(r,n);case"github.com":return new DX(r,n);case"google.com":return new kX(r,n);case"twitter.com":return new OX(r,n,t.screenName||null);case"custom":case"anonymous":return new Tf(r,null);default:return new Tf(r,e,n)}}class Tf{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class aB extends Tf{constructor(e,n,r,i){super(e,n,r),this.username=i}}class MX extends Tf{constructor(e,n){super(e,"facebook.com",n)}}class DX extends aB{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class kX extends Tf{constructor(e,n){super(e,"google.com",n)}}class OX extends aB{constructor(e,n,r){super(e,"twitter.com",n,r)}}function VX(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:NX(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new rc("enroll",e,n)}static _fromMfaPendingCredential(e){return new rc("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if((n=e.multiFactorSession)!=null&&n.pendingCredential)return rc._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if((r=e.multiFactorSession)!=null&&r.idToken)return rc._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=xn(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(l=>qg._fromServerResponse(r,l));Te(i.mfaPendingCredential,r,"internal-error");const o=rc._fromMfaPendingCredential(i.mfaPendingCredential);return new $C(o,s,l=>P(null,null,function*(){const u=yield l._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const d=xe(Y({},i),{idToken:u.idToken,refreshToken:u.refreshToken});switch(n.operationType){case"signIn":const f=yield fs._fromIdTokenResponse(r,n.operationType,d);return yield r._updateCurrentUser(f.user),f;case"reauthenticate":return Te(n.user,r,"internal-error"),fs._forOperation(n.user,n.operationType,d);default:Pr(r,"internal-error")}}))}resolveSignIn(e){return P(this,null,function*(){const n=e;return this.signInResolver(n)})}}function LX(t,e){var i;const n=Qe(t),r=e;return Te(e.customData.operationType,n,"argument-error"),Te((i=r.customData._serverResponse)==null?void 0:i.mfaPendingCredential,n,"argument-error"),$C._fromError(n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(t,e){return An(t,"POST","/v2/accounts/mfaEnrollment:start",Sn(t,e))}function UX(t,e){return An(t,"POST","/v2/accounts/mfaEnrollment:finalize",Sn(t,e))}function FX(t,e){return An(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Sn(t,e))}class GC{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>qg._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new GC(e)}getSession(){return P(this,null,function*(){return rc._fromIdtoken(yield this.user.getIdToken(),this.user)})}enroll(e,n){return P(this,null,function*(){const r=e,i=yield this.getSession(),s=yield la(this.user,r._process(this.user.auth,i,n));return yield this.user._updateTokensIfNecessary(s),this.user.reload()})}unenroll(e){return P(this,null,function*(){const n=typeof e=="string"?e:e.uid,r=yield this.user.getIdToken();try{const i=yield la(this.user,FX(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),yield this.user._updateTokensIfNecessary(i),yield this.user.reload()}catch(i){throw i}})}}const jT=new WeakMap;function jX(t){const e=Qe(t);return jT.has(e)||jT.set(e,GC._fromUser(e)),jT.get(e)}const X0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(X0,"1"),this.storage.removeItem(X0),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BX=1e3,qX=10;class Ef extends lB{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Hj(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);_Q()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,qX):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},BX)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(e,n){return P(this,null,function*(){yield Jo(Ef.prototype,this,"_set").call(this,e,n),this.localCache[e]=JSON.stringify(n)})}_get(e){return P(this,null,function*(){const n=yield Jo(Ef.prototype,this,"_get").call(this,e);return this.localCache[e]=JSON.stringify(n),n})}_remove(e){return P(this,null,function*(){yield Jo(Ef.prototype,this,"_remove").call(this,e),delete this.localCache[e]})}}Ef.type="LOCAL";const HC=Ef;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB extends lB{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}uB.type="SESSION";const Sc=uB;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zX(t){return Promise.all(t.map(e=>P(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new mb(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}handleEvent(e){return P(this,null,function*(){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(d=>P(this,null,function*(){return d(n.origin,s)})),u=yield zX(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mb.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $X{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return P(this,null,function*(){const i=typeof MessageChannel!="undefined"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,u)=>{const d=zg("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const v=m;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(v.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(){return window}function GX(t){jn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(){return typeof jn().WorkerGlobalScope!="undefined"&&typeof jn().importScripts=="function"}function HX(){return P(this,null,function*(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(t){return null}})}function KX(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function WX(){return KC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cB="firebaseLocalStorageDb",YX=1,Z0="firebaseLocalStorage",dB="fbase_key";class $g{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pb(t,e){return t.transaction([Z0],e?"readwrite":"readonly").objectStore(Z0)}function JX(){const t=indexedDB.deleteDatabase(cB);return new $g(t).toPromise()}function cA(){const t=indexedDB.open(cB,YX);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Z0,{keyPath:dB})}catch(i){n(i)}}),t.addEventListener("success",()=>P(null,null,function*(){const r=t.result;r.objectStoreNames.contains(Z0)?e(r):(r.close(),yield JX(),e(yield cA()))}))})}function Pk(t,e,n){return P(this,null,function*(){const r=pb(t,!0).put({[dB]:e,value:n});return new $g(r).toPromise()})}function QX(t,e){return P(this,null,function*(){const n=pb(t,!1).get(e),r=yield new $g(n).toPromise();return r===void 0?null:r.value})}function Nk(t,e){const n=pb(t,!0).delete(e);return new $g(n).toPromise()}const XX=800,ZX=3;class fB{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return P(this,null,function*(){return this.db?this.db:(this.db=yield cA(),this.db)})}_withRetries(e){return P(this,null,function*(){let n=0;for(;;)try{const r=yield this._openDb();return yield e(r)}catch(r){if(n++>ZX)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return P(this,null,function*(){return KC()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return P(this,null,function*(){this.receiver=mb._getInstance(WX()),this.receiver._subscribe("keyChanged",(e,n)=>P(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(n.key)}})),this.receiver._subscribe("ping",(e,n)=>P(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return P(this,null,function*(){var n,r;if(this.activeServiceWorker=yield HX(),!this.activeServiceWorker)return;this.sender=new $X(this.activeServiceWorker);const e=yield this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(e){return P(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||KX()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(n){}})}_isAvailable(){return P(this,null,function*(){try{if(!indexedDB)return!1;const e=yield cA();return yield Pk(e,X0,"1"),yield Nk(e,X0),!0}catch(e){}return!1})}_withPendingWrite(e){return P(this,null,function*(){this.pendingWrites++;try{yield e()}finally{this.pendingWrites--}})}_set(e,n){return P(this,null,function*(){return this._withPendingWrite(()=>P(this,null,function*(){return yield this._withRetries(r=>Pk(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)}))})}_get(e){return P(this,null,function*(){const n=yield this._withRetries(r=>QX(r,e));return this.localCache[e]=n,n})}_remove(e){return P(this,null,function*(){return this._withPendingWrite(()=>P(this,null,function*(){return yield this._withRetries(n=>Nk(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)}))})}_poll(){return P(this,null,function*(){const e=yield this._withRetries(i=>{const s=pb(i,!1).getAll();return new $g(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n})}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>P(this,null,function*(){return this._poll()}),XX)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fB.type="LOCAL";const ig=fB;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(t,e){return An(t,"POST","/v2/accounts/mfaSignIn:start",Sn(t,e))}function eZ(t,e){return An(t,"POST","/v2/accounts/mfaSignIn:finalize",Sn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT=Wj("rcb"),tZ=new Ug(3e4,6e4);class nZ{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!((e=jn().grecaptcha)!=null&&e.render)}load(e,n=""){return Te(rZ(n),e,"argument-error"),this.shouldResolveImmediately(n)&&bk(jn().grecaptcha)?Promise.resolve(jn().grecaptcha):new Promise((r,i)=>{const s=jn().setTimeout(()=>{i(Zn(e,"network-request-failed"))},tZ.get());jn()[BT]=()=>{jn().clearTimeout(s),delete jn()[BT];const l=jn().grecaptcha;if(!l||!bk(l)){i(Zn(e,"internal-error"));return}const u=l.render;l.render=(d,f)=>{const m=u(d,f);return this.counter++,m},this.hostLanguage=n,r(l)};const o=`${RQ()}?${ph({onload:BT,render:"explicit",hl:n})}`;FC(o).catch(()=>{clearTimeout(s),i(Zn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!((n=jn().grecaptcha)!=null&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function rZ(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class iZ{load(e){return P(this,null,function*(){return new kQ(e)})}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="recaptcha",sZ={theme:"light",type:"image"};let oZ=class{constructor(e,n,r=Y({},sZ)){this.parameters=r,this.type=Pp,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=xn(e),this.isInvisible=this.parameters.size==="invisible",Te(typeof document!="undefined",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;Te(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new iZ:new nZ,this.validateStartingState()}verify(){return P(this,null,function*(){this.assertNotDestroyed();const e=yield this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Te(!this.parameters.sitekey,this.auth,"argument-error"),Te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Te(typeof document!="undefined",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=jn()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){Te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){return P(this,null,function*(){if(yield this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId})}init(){return P(this,null,function*(){Te(LC()&&!KC(),this.auth,"internal-error"),yield aZ(),this.recaptcha=yield this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=yield cQ(this.auth);Te(e,this.auth,"internal-error"),this.parameters.sitekey=e})}getAssertedRecaptcha(){return Te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function aZ(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=pc._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}function lZ(t,e,n){return P(this,null,function*(){if(ln(t.app))return Promise.reject(mr(t));const r=xn(t),i=yield gb(r,e,Qe(n));return new WC(i,s=>fb(r,s))})}function uZ(t,e,n){return P(this,null,function*(){const r=Qe(t);yield db(!1,r,"phone");const i=yield gb(r.auth,e,Qe(n));return new WC(i,s=>rB(r,s))})}function cZ(t,e,n){return P(this,null,function*(){const r=Qe(t);if(ln(r.auth.app))return Promise.reject(mr(r.auth));const i=yield gb(r.auth,e,Qe(n));return new WC(i,s=>iB(r,s))})}function gb(t,e,n){return P(this,null,function*(){var r;if(!t._getRecaptchaConfig())try{yield jQ(t)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const s=i.session;if("phoneNumber"in i){Te(s.type==="enroll",t,"internal-error");const o={idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(yield Cl(t,o,"mfaSmsEnrollment",(f,m)=>P(null,null,function*(){if(m.phoneEnrollmentInfo.captchaResponse===Rp){Te((n==null?void 0:n.type)===Pp,f,"argument-error");const v=yield qT(f,m,n);return Rk(f,v)}return Rk(f,m)}),"PHONE_PROVIDER").catch(f=>Promise.reject(f))).phoneSessionInfo.sessionInfo}else{Te(s.type==="signin",t,"internal-error");const o=((r=i.multiFactorHint)==null?void 0:r.uid)||i.multiFactorUid;Te(o,t,"missing-multi-factor-info");const l={mfaPendingCredential:s.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(yield Cl(t,l,"mfaSmsSignIn",(m,v)=>P(null,null,function*(){if(v.phoneSignInInfo.captchaResponse===Rp){Te((n==null?void 0:n.type)===Pp,m,"argument-error");const b=yield qT(m,v,n);return Mk(m,b)}return Mk(m,v)}),"PHONE_PROVIDER").catch(m=>Promise.reject(m))).phoneResponseInfo.sessionInfo}}else{const s={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(yield Cl(t,s,"sendVerificationCode",(d,f)=>P(null,null,function*(){if(f.captchaResponse===Rp){Te((n==null?void 0:n.type)===Pp,d,"argument-error");const m=yield qT(d,f,n);return Ck(d,m)}return Ck(d,f)}),"PHONE_PROVIDER").catch(d=>Promise.reject(d))).sessionInfo}}finally{n==null||n._reset()}})}function dZ(t,e){return P(this,null,function*(){const n=Qe(t);if(ln(n.auth.app))return Promise.reject(mr(n.auth));yield jC(n,e)})}function qT(t,e,n){return P(this,null,function*(){Te(n.type===Pp,t,"argument-error");const r=yield n.verify();Te(typeof r=="string",t,"argument-error");const i=Y({},e);if("phoneEnrollmentInfo"in i){const s=i.phoneEnrollmentInfo.phoneNumber,o=i.phoneEnrollmentInfo.captchaResponse,l=i.phoneEnrollmentInfo.clientType,u=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:r,captchaResponse:o,clientType:l,recaptchaVersion:u}}),i}else if("phoneSignInInfo"in i){const s=i.phoneSignInInfo.captchaResponse,o=i.phoneSignInInfo.clientType,l=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:s,clientType:o,recaptchaVersion:l}}),i}else return Object.assign(i,{recaptchaToken:r}),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ac=class _0{constructor(e){this.providerId=_0.PROVIDER_ID,this.auth=xn(e)}verifyPhoneNumber(e,n){return gb(this.auth,e,Qe(n))}static credential(e,n){return pc._fromVerification(e,n)}static credentialFromResult(e){const n=e;return _0.credentialFromTaggedObject(n)}static credentialFromError(e){return _0.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?pc._fromTokenResponse(n,r):null}};Ac.PROVIDER_ID="phone";Ac.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(t,e){return e?Di(e):(Te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC extends yh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ia(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ia(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ia(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function fZ(t){return nB(t.auth,new YC(t),t.bypassAuthState)}function hZ(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),tB(n,new YC(t),t.bypassAuthState)}function mZ(t){return P(this,null,function*(){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),jC(n,new YC(t),t.bypassAuthState)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>P(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return P(this,null,function*(){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(l)(u))}catch(d){this.reject(d)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fZ;case"linkViaPopup":case"linkViaRedirect":return mZ;case"reauthViaPopup":case"reauthViaRedirect":return hZ;default:Pr(this.auth,"internal-error")}}resolve(e){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pZ=new Ug(2e3,1e4);function gZ(t,e,n){return P(this,null,function*(){if(ln(t.app))return Promise.reject(Zn(t,"operation-not-supported-in-this-environment"));const r=xn(t);gh(t,e,va);const i=$c(r,n);return new ea(r,"signInViaPopup",e,i).executeNotNull()})}function yZ(t,e,n){return P(this,null,function*(){const r=Qe(t);if(ln(r.auth.app))return Promise.reject(Zn(r.auth,"operation-not-supported-in-this-environment"));gh(r.auth,e,va);const i=$c(r.auth,n);return new ea(r.auth,"reauthViaPopup",e,i,r).executeNotNull()})}function vZ(t,e,n){return P(this,null,function*(){const r=Qe(t);gh(r.auth,e,va);const i=$c(r.auth,n);return new ea(r.auth,"linkViaPopup",e,i,r).executeNotNull()})}class ea extends hB{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ea.currentPopupAction&&ea.currentPopupAction.cancel(),ea.currentPopupAction=this}executeNotNull(){return P(this,null,function*(){const e=yield this.execute();return Te(e,this.auth,"internal-error"),e})}onExecution(){return P(this,null,function*(){Ds(this.filter.length===1,"Popup operations only handle one event");const e=zg();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pZ.get())};e()}}ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xZ="pendingRedirect",Np=new Map;class Mp extends hB{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return P(this,null,function*(){let e=Np.get(this.auth._key());if(!e){try{const r=(yield bZ(this.resolver,this.auth))?yield Jo(Mp.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Np.set(this.auth._key(),e)}return this.bypassAuthState||Np.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return P(this,null,function*(){if(e.type==="signInViaRedirect")return Jo(Mp.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Jo(Mp.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return P(this,null,function*(){})}cleanUp(){}}function bZ(t,e){return P(this,null,function*(){const n=pB(e),r=mB(t);if(!(yield r._isAvailable()))return!1;const i=(yield r._get(n))==="true";return yield r._remove(n),i})}function JC(t,e){return P(this,null,function*(){return mB(t)._set(pB(e),"true")})}function wZ(){Np.clear()}function QC(t,e){Np.set(t._key(),e)}function mB(t){return Di(t._redirectPersistence)}function pB(t){return mc(xZ,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Z(t,e,n){return TZ(t,e,n)}function TZ(t,e,n){return P(this,null,function*(){if(ln(t.app))return Promise.reject(mr(t));const r=xn(t);gh(t,e,va),yield r._initializationPromise;const i=$c(r,n);return yield JC(i,r),i._openRedirect(r,e,"signInViaRedirect")})}function EZ(t,e,n){return SZ(t,e,n)}function SZ(t,e,n){return P(this,null,function*(){const r=Qe(t);if(gh(r.auth,e,va),ln(r.auth.app))return Promise.reject(mr(r.auth));yield r.auth._initializationPromise;const i=$c(r.auth,n);yield JC(i,r.auth);const s=yield gB(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)})}function AZ(t,e,n){return CZ(t,e,n)}function CZ(t,e,n){return P(this,null,function*(){const r=Qe(t);gh(r.auth,e,va),yield r.auth._initializationPromise;const i=$c(r.auth,n);yield db(!1,r,e.providerId),yield JC(i,r.auth);const s=yield gB(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)})}function IZ(t,e){return P(this,null,function*(){return yield xn(t)._initializationPromise,yb(t,e,!1)})}function yb(t,e,n=!1){return P(this,null,function*(){if(ln(t.app))return Promise.reject(mr(t));const r=xn(t),i=$c(r,e),o=yield new Mp(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}function gB(t){return P(this,null,function*(){const e=zg(`${t.uid}:::`);return t._redirectEventId=e,yield t.auth._setRedirectUser(t),yield t.auth._persistUserIfCurrent(t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RZ=600*1e3;class yB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PZ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!vB(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Zn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RZ&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dk(e))}saveEventToCache(e){this.cachedEventUids.add(Dk(e)),this.lastProcessedEventTime=Date.now()}}function Dk(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vB({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function PZ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vB(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xB(n){return P(this,arguments,function*(t,e={}){return An(t,"GET","/v1/projects",e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NZ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MZ=/^https?/;function DZ(t){return P(this,null,function*(){if(t.config.emulator)return;const{authorizedDomains:e}=yield xB(t);for(const n of e)try{if(kZ(n))return}catch(r){}Pr(t,"unauthorized-domain")})}function kZ(t){const e=tg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!MZ.test(n))return!1;if(NZ.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OZ=new Ug(3e4,6e4);function kk(){const t=jn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function VZ(t){return new Promise((e,n)=>{var i,s,o;function r(){kk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kk(),n(Zn(t,"network-request-failed"))},timeout:OZ.get()})}if((s=(i=jn().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=jn().gapi)!=null&&o.load)r();else{const l=Wj("iframefcb");return jn()[l]=()=>{gapi.load?r():n(Zn(t,"network-request-failed"))},FC(`${NQ()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw T0=null,e})}let T0=null;function LZ(t){return T0=T0||VZ(t),T0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UZ=new Ug(5e3,15e3),FZ="__/auth/iframe",jZ="emulator/auth/iframe",BZ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qZ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zZ(t){const e=t.config;Te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?UC(e,jZ):`https://${t.config.authDomain}/${FZ}`,r={apiKey:e.apiKey,appName:t.name,v:Yl},i=qZ.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ph(r).slice(1)}`}function $Z(t){return P(this,null,function*(){const e=yield LZ(t),n=jn().gapi;return Te(n,t,"internal-error"),e.open({where:document.body,url:zZ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BZ,dontclear:!0},r=>new Promise((i,s)=>P(null,null,function*(){yield r.restyle({setHideOnLeave:!1});const o=Zn(t,"network-request-failed"),l=jn().setTimeout(()=>{s(o)},UZ.get());function u(){jn().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GZ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HZ=500,KZ=600,WZ="_blank",YZ="http://localhost";class Ok{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function JZ(t,e,n,r=HZ,i=KZ){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=xe(Y({},GZ),{width:r.toString(),height:i.toString(),top:s,left:o}),d=vn().toLowerCase();n&&(l=qj(d)?WZ:n),jj(d)&&(e=e||YZ,u.scrollbars="yes");const f=Object.entries(u).reduce((v,[b,T])=>`${v}${b}=${T},`,"");if(wQ(d)&&l!=="_self")return QZ(e||"",l),new Ok(null);const m=window.open(e||"",l,f);Te(m,t,"popup-blocked");try{m.focus()}catch(v){}return new Ok(m)}function QZ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XZ="__/auth/handler",ZZ="emulator/auth/handler",eee=encodeURIComponent("fac");function dA(t,e,n,r,i,s){return P(this,null,function*(){Te(t.config.authDomain,t,"auth-domain-config-required"),Te(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Yl,eventId:i};if(e instanceof va){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",IY(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries(s||{}))o[f]=m}if(e instanceof vh){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=yield t._getAppCheckToken(),d=u?`#${eee}=${encodeURIComponent(u)}`:"";return`${tee(t)}?${ph(l).slice(1)}${d}`})}function tee({config:t}){return t.emulator?UC(t,ZZ):`https://${t.authDomain}/${XZ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="webStorageSupport";class nee{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sc,this._completeRedirectFn=yb,this._overrideRedirectResult=QC}_openPopup(e,n,r,i){return P(this,null,function*(){var o;Ds((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=yield dA(e,n,r,tg(),i);return JZ(e,s,zg())})}_openRedirect(e,n,r,i){return P(this,null,function*(){yield this._originValidation(e);const s=yield dA(e,n,r,tg(),i);return GX(s),new Promise(()=>{})})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ds(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return P(this,null,function*(){const n=yield $Z(e),r=new yB(e);return n.register("authEvent",i=>(Te(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(zT,{type:zT},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[zT];s!==void 0&&n(!!s),Pr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=DZ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Hj()||Bj()||jg()}}const ree=nee;class iee{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return so("unexpected MultiFactorSessionType")}}}class XC extends iee{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new XC(e)}_finalizeEnroll(e,n,r){return UX(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return eZ(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class bB{constructor(){}static assertion(e){return XC._fromCredential(e)}}bB.FACTOR_ID="phone";var Vk="@firebase/auth",Lk="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class see{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}getToken(e){return P(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oee(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aee(t){Vl(new vo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;Te(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Kj(t)},d=new CQ(r,i,s,u);return BQ(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Vl(new vo("auth-internal",e=>{const n=xn(e.getProvider("auth").getImmediate());return(r=>new see(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ps(Vk,Lk,oee(t)),Ps(Vk,Lk,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lee=300;gY("authIdTokenMaxAge");function uee(){var t,e;return(e=(t=document.getElementsByTagName("head"))==null?void 0:t[0])!=null?e:document}IQ({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Zn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",uee().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aee("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cee=2e3;function dee(t,e,n){return P(this,null,function*(){var o;const{BuildInfo:r}=Cc();Ds(e.sessionId,"AuthEvent did not contain a session ID");const i=yield gee(e.sessionId),s={};return jg()?s.ibi=r.packageName:Fg()?s.apn=r.packageName:Pr(t,"operation-not-supported-in-this-environment"),r.displayName&&(s.appDisplayName=r.displayName),s.sessionId=i,dA(t,n,e.type,void 0,(o=e.eventId)!=null?o:void 0,s)})}function fee(t){return P(this,null,function*(){const{BuildInfo:e}=Cc(),n={};jg()?n.iosBundleId=e.packageName:Fg()?n.androidPackageName=e.packageName:Pr(t,"operation-not-supported-in-this-environment"),yield xB(t,n)})}function hee(t){const{cordova:e}=Cc();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,bQ()?"_blank":"_system","location=yes"),n(i)})})}function mee(t,e,n){return P(this,null,function*(){const{cordova:r}=Cc();let i=()=>{};try{yield new Promise((s,o)=>{let l=null;function u(){var v;s();const m=(v=r.plugins.browsertab)==null?void 0:v.close;typeof m=="function"&&m(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function d(){l||(l=window.setTimeout(()=>{o(Zn(t,"redirect-cancelled-by-user"))},cee))}function f(){(document==null?void 0:document.visibilityState)==="visible"&&d()}e.addPassiveListener(u),document.addEventListener("resume",d,!1),Fg()&&document.addEventListener("visibilitychange",f,!1),i=()=>{e.removePassiveListener(u),document.removeEventListener("resume",d,!1),document.removeEventListener("visibilitychange",f,!1),l&&window.clearTimeout(l)}})}finally{i()}})}function pee(t){var n,r,i,s,o,l,u,d,f,m;const e=Cc();Te(typeof((n=e==null?void 0:e.universalLinks)==null?void 0:n.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Te(typeof((r=e==null?void 0:e.BuildInfo)==null?void 0:r.packageName)!="undefined",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Te(typeof((o=(s=(i=e==null?void 0:e.cordova)==null?void 0:i.plugins)==null?void 0:s.browsertab)==null?void 0:o.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Te(typeof((d=(u=(l=e==null?void 0:e.cordova)==null?void 0:l.plugins)==null?void 0:u.browsertab)==null?void 0:d.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Te(typeof((m=(f=e==null?void 0:e.cordova)==null?void 0:f.InAppBrowser)==null?void 0:m.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function gee(t){return P(this,null,function*(){const e=yee(t),n=yield crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")})}function yee(t){if(Ds(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder!="undefined")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vee=20;class xee extends yB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}initialized(){return P(this,null,function*(){yield this.initPromise})}}function bee(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:Tee(),postBody:null,tenantId:t.tenantId,error:Zn(t,"no-auth-event")}}function wee(t,e){return fA()._set(hA(t),e)}function Uk(t){return P(this,null,function*(){const e=yield fA()._get(hA(t));return e&&(yield fA()._remove(hA(t))),e})}function _ee(t,e){var r,i;const n=See(e);if(n.includes("/__/auth/callback")){const s=E0(n),o=s.firebaseError?Eee(decodeURIComponent(s.firebaseError)):null,l=(i=(r=o==null?void 0:o.code)==null?void 0:r.split("auth/"))==null?void 0:i[1],u=l?Zn(l):null;return u?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:n,postBody:null}}return null}function Tee(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<vee;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function fA(){return Di(HC)}function hA(t){return mc("authEvent",t.config.apiKey,t.name)}function Eee(t){try{return JSON.parse(t)}catch(e){return null}}function See(t){const e=E0(t),n=e.link?decodeURIComponent(e.link):void 0,r=E0(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return E0(i).link||i||r||n||t}function E0(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return of(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aee=500;class Cee{constructor(){this._redirectPersistence=Sc,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=yb,this._overrideRedirectResult=QC}_initialize(e){return P(this,null,function*(){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new xee(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r})}_openPopup(e){Pr(e,"operation-not-supported-in-this-environment")}_openRedirect(e,n,r,i){return P(this,null,function*(){pee(e);const s=yield this._initialize(e);yield s.initialized(),s.resetRedirect(),wZ(),yield this._originValidation(e);const o=bee(e,r,i);yield wee(e,o);const l=yield dee(e,o,n),u=yield hee(l);return mee(e,s,u)})}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=fee(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=Cc(),o=setTimeout(()=>P(null,null,function*(){yield Uk(e),n.onEvent(Fk())}),Aee),l=f=>P(null,null,function*(){clearTimeout(o);const m=yield Uk(e);let v=null;m&&(f!=null&&f.url)&&(v=_ee(m,f.url)),n.onEvent(v||Fk())});typeof r!="undefined"&&typeof r.subscribe=="function"&&r.subscribe(null,l);const u=i,d=`${s.packageName.toLowerCase()}://`;Cc().handleOpenURL=f=>P(null,null,function*(){if(f.toLowerCase().startsWith(d)&&l({url:f}),typeof u=="function")try{u(f)}catch(m){console.error(m)}})}}const Iee=Cee;function Fk(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Zn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ree(t,e){xn(t)._logFramework(e)}var Pee="@firebase/auth-compat",Nee="0.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mee=1e3;function Dp(){var t;return((t=self==null?void 0:self.location)==null?void 0:t.protocol)||null}function Dee(){return Dp()==="http:"||Dp()==="https:"}function wB(t=vn()){return!!((Dp()==="file:"||Dp()==="ionic:"||Dp()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function kee(){return RC()||ob()}function Oee(){return mj()&&(document==null?void 0:document.documentMode)===11}function Vee(t=vn()){return/Edge\/\d+/.test(t)}function Lee(t=vn()){return Oee()||Vee(t)}function _B(){try{const t=self.localStorage,e=zg();if(t)return t.setItem(e,"1"),t.removeItem(e),Lee()?Xp():!0}catch(t){return ZC()&&Xp()}return!1}function ZC(){return typeof global!="undefined"&&"WorkerGlobalScope"in global&&"importScripts"in global}function $T(){return(Dee()||hj()||wB())&&!kee()&&_B()&&!ZC()}function TB(){return wB()&&typeof document!="undefined"}function Uee(){return P(this,null,function*(){return TB()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},Mee);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1})}function Fee(){return typeof window!="undefined"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri={LOCAL:"local",NONE:"none",SESSION:"session"},Xm=Te,EB="persistence";function jee(t,e){if(Xm(Object.values(Ri).includes(e),t,"invalid-persistence-type"),RC()){Xm(e!==Ri.SESSION,t,"unsupported-persistence-type");return}if(ob()){Xm(e===Ri.NONE,t,"unsupported-persistence-type");return}if(ZC()){Xm(e===Ri.NONE||e===Ri.LOCAL&&Xp(),t,"unsupported-persistence-type");return}Xm(e===Ri.NONE||_B(),t,"unsupported-persistence-type")}function mA(t){return P(this,null,function*(){yield t._initializationPromise;const e=SB(),n=mc(EB,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistenceType())})}function Bee(t,e){const n=SB();if(!n)return[];const r=mc(EB,t,e);switch(n.getItem(r)){case Ri.NONE:return[Lf];case Ri.LOCAL:return[ig,Sc];case Ri.SESSION:return[Sc];default:return[]}}function SB(){var t;try{return((t=Fee())==null?void 0:t.sessionStorage)||null}catch(e){return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qee=Te;class Tl{constructor(){this.browserResolver=Di(ree),this.cordovaResolver=Di(Iee),this.underlyingResolver=null,this._redirectPersistence=Sc,this._completeRedirectFn=yb,this._overrideRedirectResult=QC}_initialize(e){return P(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)})}_openPopup(e,n,r,i){return P(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)})}_openRedirect(e,n,r,i){return P(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)})}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return TB()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return qee(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){return P(this,null,function*(){if(this.underlyingResolver)return;const e=yield Uee();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AB(t){return t.unwrap()}function zee(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ee(t){return CB(t)}function Gee(t,e){var r;const n=(r=e.customData)==null?void 0:r._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new Hee(t,LX(t,e))}else if(n){const i=CB(e),s=e;i&&(s.credential=i,s.tenantId=n.tenantId||void 0,s.email=n.email||void 0,s.phoneNumber=n.phoneNumber||void 0)}}function CB(t){const{_tokenResponse:e}=t instanceof Zr?t.customData:t;if(!e)return null;if(!(t instanceof Zr)&&"temporaryProof"in e&&"phoneNumber"in e)return Ac.credentialFromResult(t);const n=e.providerId;if(!n||n===Jm.PASSWORD)return null;let r;switch(n){case Jm.GOOGLE:r=no;break;case Jm.FACEBOOK:r=to;break;case Jm.GITHUB:r=ro;break;case Jm.TWITTER:r=io;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:l,nonce:u}=e;return!s&&!o&&!i&&!l?null:l?n.startsWith("saml.")?Uf._create(n,l):xo._fromParams({providerId:n,signInMethod:n,pendingToken:l,idToken:i,accessToken:s}):new _f(n).credential({idToken:i,accessToken:s,rawNonce:u})}return t instanceof Zr?r.credentialFromError(t):r.credentialFromResult(t)}function li(t,e){return e.catch(n=>{throw n instanceof Zr&&Gee(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:$ee(n),additionalUserInfo:VX(n),user:vb.getOrCreate(i)}})}function pA(t,e){return P(this,null,function*(){const n=yield e;return{verificationId:n.verificationId,confirm:r=>li(t,n.confirm(r))}})}class Hee{constructor(e,n){this.resolver=n,this.auth=zee(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return li(AB(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vb=class vp{constructor(e){this._delegate=e,this.multiFactor=jX(e)}static getOrCreate(e){return vp.USER_MAP.has(e)||vp.USER_MAP.set(e,new vp(e)),vp.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){return P(this,null,function*(){return li(this.auth,rB(this._delegate,e))})}linkWithPhoneNumber(e,n){return P(this,null,function*(){return pA(this.auth,uZ(this._delegate,e,n))})}linkWithPopup(e){return P(this,null,function*(){return li(this.auth,vZ(this._delegate,e,Tl))})}linkWithRedirect(e){return P(this,null,function*(){return yield mA(xn(this.auth)),AZ(this._delegate,e,Tl)})}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){return P(this,null,function*(){return li(this.auth,iB(this._delegate,e))})}reauthenticateWithPhoneNumber(e,n){return pA(this.auth,cZ(this._delegate,e,n))}reauthenticateWithPopup(e){return li(this.auth,yZ(this._delegate,e,Tl))}reauthenticateWithRedirect(e){return P(this,null,function*(){return yield mA(xn(this.auth)),EZ(this._delegate,e,Tl)})}sendEmailVerification(e){return SX(this._delegate,e)}unlink(e){return P(this,null,function*(){return yield dX(this._delegate,e),this})}updateEmail(e){return RX(this._delegate,e)}updatePassword(e){return PX(this._delegate,e)}updatePhoneNumber(e){return dZ(this._delegate,e)}updateProfile(e){return IX(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return AX(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};vb.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm=Te;class gA{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Zm(r,"invalid-api-key",{appName:e.name}),Zm(r,"invalid-api-key",{appName:e.name});const i=typeof window!="undefined"?Tl:void 0;this._delegate=n.initialize({options:{persistence:Kee(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(eQ),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?vb.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){qQ(this._delegate,e,n)}applyActionCode(e){return gX(this._delegate,e)}checkActionCode(e){return sB(this._delegate,e)}confirmPasswordReset(e,n){return pX(this._delegate,e,n)}createUserWithEmailAndPassword(e,n){return P(this,null,function*(){return li(this._delegate,vX(this._delegate,e,n))})}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return EX(this._delegate,e)}isSignInWithEmailLink(e){return wX(this._delegate,e)}getRedirectResult(){return P(this,null,function*(){Zm($T(),this._delegate,"operation-not-supported-in-this-environment");const e=yield IZ(this._delegate,Tl);return e?li(this._delegate,Promise.resolve(e)):{credential:null,user:null}})}addFrameworkForLogging(e){Ree(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=jk(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=jk(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return bX(this._delegate,e,n)}sendPasswordResetEmail(e,n){return mX(this._delegate,e,n||void 0)}setPersistence(e){return P(this,null,function*(){jee(this._delegate,e);let n;switch(e){case Ri.SESSION:n=Sc;break;case Ri.LOCAL:n=(yield Di(ig)._isAvailable())?ig:HC;break;case Ri.NONE:n=Lf;break;default:return Pr("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)})}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return li(this._delegate,cX(this._delegate))}signInWithCredential(e){return li(this._delegate,fb(this._delegate,e))}signInWithCustomToken(e){return li(this._delegate,hX(this._delegate,e))}signInWithEmailAndPassword(e,n){return li(this._delegate,xX(this._delegate,e,n))}signInWithEmailLink(e,n){return li(this._delegate,_X(this._delegate,e,n))}signInWithPhoneNumber(e,n){return pA(this._delegate,lZ(this._delegate,e,n))}signInWithPopup(e){return P(this,null,function*(){return Zm($T(),this._delegate,"operation-not-supported-in-this-environment"),li(this._delegate,gZ(this._delegate,e,Tl))})}signInWithRedirect(e){return P(this,null,function*(){return Zm($T(),this._delegate,"operation-not-supported-in-this-environment"),yield mA(this._delegate),_Z(this._delegate,e,Tl)})}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return yX(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}gA.Persistence=Ri;function jk(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&vb.getOrCreate(o)),error:e,complete:n}}function Kee(t,e){const n=Bee(t,e);if(typeof self!="undefined"&&!n.includes(ig)&&n.push(ig),typeof window!="undefined")for(const r of[HC,Sc])n.includes(r)||n.push(r);return n.includes(Lf)||n.push(Lf),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{static credential(e,n){return Ac.credential(e,n)}constructor(){this.providerId="phone",this._delegate=new Ac(AB(At.auth()))}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}eI.PHONE_SIGN_IN_METHOD=Ac.PHONE_SIGN_IN_METHOD;eI.PROVIDER_ID=Ac.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wee=Te;class Yee{constructor(e,n,r=At.app()){var i;Wee((i=r.options)==null?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new oZ(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jee="auth-compat";function Qee(t){t.INTERNAL.registerComponent(new vo(Jee,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new gA(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Gd.EMAIL_SIGNIN,PASSWORD_RESET:Gd.PASSWORD_RESET,RECOVER_EMAIL:Gd.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Gd.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Gd.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Gd.VERIFY_EMAIL}},EmailAuthProvider:Jl,FacebookAuthProvider:to,GithubAuthProvider:ro,GoogleAuthProvider:no,OAuthProvider:_f,SAMLAuthProvider:J0,PhoneAuthProvider:eI,PhoneMultiFactorGenerator:bB,RecaptchaVerifier:Yee,TwitterAuthProvider:io,Auth:gA,AuthCredential:yh,Error:Zr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(Pee,Nee)}Qee(At);function Xee(){return P(this,null,function*(){try{const t=new At.auth.GoogleAuthProvider,e=yield At.auth().signInWithPopup(t);if(e.user){const n=yield e.user.getIdToken();return{user:e.user,idToken:n}}else throw new Error("No user returned from Google sign-in")}catch(t){throw console.error("[nativeGoogleLogin.web] signIn error:",t),t}})}var yt=(t=>(t.Founder="Founder",t.Developer="Developer",t.Investor="Investor",t))(yt||{}),Ie=(t=>(t.LANDING="LANDING",t.AUTH="AUTH",t.ONBOARDING="ONBOARDING",t.DASHBOARD="DASHBOARD",t.ANALYTICS="ANALYTICS",t.MESSAGES="MESSAGES",t.PEOPLE="PEOPLE",t.IDEAS="IDEAS",t.REQUESTS="REQUESTS",t.NEGOTIATIONS="NEGOTIATIONS",t))(Ie||{});function kp(t){let e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function yA(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Zee(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function Bk(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function qk(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function ete(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function tte(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function GT(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function nte(t,e){let n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)}function rte(t,e){let n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function zk(t){let e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function ite(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function ste(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function vA(t,e){let n=e[0],r=e[1],i=e[2],s=n*n+r*r+i*i;return s>0&&(s=1/Math.sqrt(s)),t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t}function IB(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function $k(t,e,n){let r=e[0],i=e[1],s=e[2],o=n[0],l=n[1],u=n[2];return t[0]=i*u-s*l,t[1]=s*o-r*u,t[2]=r*l-i*o,t}function ote(t,e,n,r){let i=e[0],s=e[1],o=e[2];return t[0]=i+r*(n[0]-i),t[1]=s+r*(n[1]-s),t[2]=o+r*(n[2]-o),t}function ate(t,e,n,r,i){const s=Math.exp(-r*i);let o=e[0],l=e[1],u=e[2];return t[0]=n[0]+(o-n[0])*s,t[1]=n[1]+(l-n[1])*s,t[2]=n[2]+(u-n[2])*s,t}function lte(t,e,n){let r=e[0],i=e[1],s=e[2],o=n[3]*r+n[7]*i+n[11]*s+n[15];return o=o||1,t[0]=(n[0]*r+n[4]*i+n[8]*s+n[12])/o,t[1]=(n[1]*r+n[5]*i+n[9]*s+n[13])/o,t[2]=(n[2]*r+n[6]*i+n[10]*s+n[14])/o,t}function ute(t,e,n){let r=e[0],i=e[1],s=e[2],o=n[3]*r+n[7]*i+n[11]*s+n[15];return o=o||1,t[0]=(n[0]*r+n[4]*i+n[8]*s)/o,t[1]=(n[1]*r+n[5]*i+n[9]*s)/o,t[2]=(n[2]*r+n[6]*i+n[10]*s)/o,t}function cte(t,e,n){let r=e[0],i=e[1],s=e[2];return t[0]=r*n[0]+i*n[3]+s*n[6],t[1]=r*n[1]+i*n[4]+s*n[7],t[2]=r*n[2]+i*n[5]+s*n[8],t}function dte(t,e,n){let r=e[0],i=e[1],s=e[2],o=n[0],l=n[1],u=n[2],d=n[3],f=l*s-u*i,m=u*r-o*s,v=o*i-l*r,b=l*v-u*m,T=u*f-o*v,S=o*m-l*f,A=d*2;return f*=A,m*=A,v*=A,b*=2,T*=2,S*=2,t[0]=r+f+b,t[1]=i+m+T,t[2]=s+v+S,t}const fte=(function(){const t=[0,0,0],e=[0,0,0];return function(n,r){yA(t,n),yA(e,r),vA(t,t),vA(e,e);let i=IB(t,e);return i>1?0:i<-1?Math.PI:Math.acos(i)}})();function hte(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}class Rs extends Array{constructor(e=0,n=e,r=e){return super(e,n,r),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this[0]=e}set y(e){this[1]=e}set z(e){this[2]=e}set(e,n=e,r=e){return e.length?this.copy(e):(Zee(this,e,n,r),this)}copy(e){return yA(this,e),this}add(e,n){return n?Bk(this,e,n):Bk(this,this,e),this}sub(e,n){return n?qk(this,e,n):qk(this,this,e),this}multiply(e){return e.length?ete(this,this,e):GT(this,this,e),this}divide(e){return e.length?tte(this,this,e):GT(this,this,1/e),this}inverse(e=this){return ste(this,e),this}len(){return kp(this)}distance(e){return e?nte(this,e):kp(this)}squaredLen(){return zk(this)}squaredDistance(e){return e?rte(this,e):zk(this)}negate(e=this){return ite(this,e),this}cross(e,n){return n?$k(this,e,n):$k(this,this,e),this}scale(e){return GT(this,this,e),this}normalize(){return vA(this,this),this}dot(e){return IB(this,e)}equals(e){return hte(this,e)}applyMatrix3(e){return cte(this,this,e),this}applyMatrix4(e){return lte(this,this,e),this}scaleRotateMatrix4(e){return ute(this,this,e),this}applyQuaternion(e){return dte(this,this,e),this}angle(e){return fte(this,e)}lerp(e,n){return ote(this,this,e,n),this}smoothLerp(e,n,r){return ate(this,this,e,n,r),this}clone(){return new Rs(this[0],this[1],this[2])}fromArray(e,n=0){return this[0]=e[n],this[1]=e[n+1],this[2]=e[n+2],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e}transformDirection(e){const n=this[0],r=this[1],i=this[2];return this[0]=e[0]*n+e[4]*r+e[8]*i,this[1]=e[1]*n+e[5]*r+e[9]*i,this[2]=e[2]*n+e[6]*r+e[10]*i,this.normalize()}}const Gk=new Rs;let mte=1,pte=1,Hk=!1;class gte{constructor(e,n={}){e.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=e,this.attributes=n,this.id=mte++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let r in n)this.addAttribute(r,n[r])}addAttribute(e,n){if(this.attributes[e]=n,n.id=pte++,n.size=n.size||1,n.type=n.type||(n.data.constructor===Float32Array?this.gl.FLOAT:n.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),n.target=e==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,n.normalized=n.normalized||!1,n.stride=n.stride||0,n.offset=n.offset||0,n.count=n.count||(n.stride?n.data.byteLength/n.stride:n.data.length/n.size),n.divisor=n.instanced||0,n.needsUpdate=!1,n.usage=n.usage||this.gl.STATIC_DRAW,n.buffer||this.updateAttribute(n),n.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==n.count*n.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,n.count*n.divisor);this.instancedCount=n.count*n.divisor}else e==="index"?this.drawRange.count=n.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,n.count))}updateAttribute(e){const n=!e.buffer;n&&(e.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==e.buffer&&(this.gl.bindBuffer(e.target,e.buffer),this.glState.boundBuffer=e.buffer),n?this.gl.bufferData(e.target,e.data,e.usage):this.gl.bufferSubData(e.target,0,e.data),e.needsUpdate=!1}setIndex(e){this.addAttribute("index",e)}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}setInstancedCount(e){this.instancedCount=e}createVAO(e){this.VAOs[e.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.bindAttributes(e)}bindAttributes(e){e.attributeLocations.forEach((n,{name:r,type:i})=>{if(!this.attributes[r]){console.warn(`active attribute ${r} not being supplied`);return}const s=this.attributes[r];this.gl.bindBuffer(s.target,s.buffer),this.glState.boundBuffer=s.buffer;let o=1;i===35674&&(o=2),i===35675&&(o=3),i===35676&&(o=4);const l=s.size/o,u=o===1?0:o*o*4,d=o===1?0:o*4;for(let f=0;f<o;f++)this.gl.vertexAttribPointer(n+f,l,s.type,s.normalized,s.stride+u,s.offset+f*d),this.gl.enableVertexAttribArray(n+f),this.gl.renderer.vertexAttribDivisor(n+f,s.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:e,mode:n=this.gl.TRIANGLES}){var i;this.gl.renderer.currentGeometry!==`${this.id}_${e.attributeOrder}`&&(this.VAOs[e.attributeOrder]||this.createVAO(e),this.gl.renderer.bindVertexArray(this.VAOs[e.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${e.attributeOrder}`),e.attributeLocations.forEach((s,{name:o})=>{const l=this.attributes[o];l.needsUpdate&&this.updateAttribute(l)});let r=2;((i=this.attributes.index)==null?void 0:i.type)===this.gl.UNSIGNED_INT&&(r=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(n,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*r,this.instancedCount):this.gl.renderer.drawArraysInstanced(n,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(n,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*r):this.gl.drawArrays(n,this.drawRange.start,this.drawRange.count)}getPosition(){const e=this.attributes.position;if(e.data)return e;if(!Hk)return console.warn("No position buffer data found to compute bounds"),Hk=!0}computeBoundingBox(e){e||(e=this.getPosition());const n=e.data,r=e.size;this.bounds||(this.bounds={min:new Rs,max:new Rs,center:new Rs,scale:new Rs,radius:1/0});const i=this.bounds.min,s=this.bounds.max,o=this.bounds.center,l=this.bounds.scale;i.set(1/0),s.set(-1/0);for(let u=0,d=n.length;u<d;u+=r){const f=n[u],m=n[u+1],v=n[u+2];i.x=Math.min(f,i.x),i.y=Math.min(m,i.y),i.z=Math.min(v,i.z),s.x=Math.max(f,s.x),s.y=Math.max(m,s.y),s.z=Math.max(v,s.z)}l.sub(s,i),o.add(i,s).divide(2)}computeBoundingSphere(e){e||(e=this.getPosition());const n=e.data,r=e.size;this.bounds||this.computeBoundingBox(e);let i=0;for(let s=0,o=n.length;s<o;s+=r)Gk.fromArray(n,s),i=Math.max(i,this.bounds.center.squaredDistance(Gk));this.bounds.radius=Math.sqrt(i)}remove(){for(let e in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[e]),delete this.VAOs[e];for(let e in this.attributes)this.gl.deleteBuffer(this.attributes[e].buffer),delete this.attributes[e]}}let yte=1;const Kk={};class vte{constructor(e,{vertex:n,fragment:r,uniforms:i={},transparent:s=!1,cullFace:o=e.BACK,frontFace:l=e.CCW,depthTest:u=!0,depthWrite:d=!0,depthFunc:f=e.LEQUAL}={}){e.canvas||console.error("gl not passed as first argument to Program"),this.gl=e,this.uniforms=i,this.id=yte++,n||console.warn("vertex shader not supplied"),r||console.warn("fragment shader not supplied"),this.transparent=s,this.cullFace=o,this.frontFace=l,this.depthTest=u,this.depthWrite=d,this.depthFunc=f,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=e.createShader(e.VERTEX_SHADER),this.fragmentShader=e.createShader(e.FRAGMENT_SHADER),this.program=e.createProgram(),e.attachShader(this.program,this.vertexShader),e.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:n,fragment:r})}setShaders({vertex:e,fragment:n}){if(e&&(this.gl.shaderSource(this.vertexShader,e),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${Wk(e)}`)),n&&(this.gl.shaderSource(this.fragmentShader,n),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${Wk(n)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let r=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let o=0;o<r;o++){let l=this.gl.getActiveUniform(this.program,o);this.uniformLocations.set(l,this.gl.getUniformLocation(this.program,l.name));const u=l.name.match(/(\w+)/g);l.uniformName=u[0],l.nameComponents=u.slice(1)}this.attributeLocations=new Map;const i=[],s=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let o=0;o<s;o++){const l=this.gl.getActiveAttrib(this.program,o),u=this.gl.getAttribLocation(this.program,l.name);u!==-1&&(i[u]=l.name,this.attributeLocations.set(l,u))}this.attributeOrder=i.join("")}setBlendFunc(e,n,r,i){this.blendFunc.src=e,this.blendFunc.dst=n,this.blendFunc.srcAlpha=r,this.blendFunc.dstAlpha=i,e&&(this.transparent=!0)}setBlendEquation(e,n){this.blendEquation.modeRGB=e,this.blendEquation.modeAlpha=n}setStencilFunc(e,n,r){this.stencilRef=n,this.stencilFunc.func=e,this.stencilFunc.ref=n,this.stencilFunc.mask=r}setStencilOp(e,n,r){this.stencilOp.stencilFail=e,this.stencilOp.depthFail=n,this.stencilOp.depthPass=r}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:e=!1}={}){let n=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((i,s)=>{let o=this.uniforms[s.uniformName];for(const l of s.nameComponents){if(!o)break;if(l in o)o=o[l];else{if(Array.isArray(o.value))break;o=void 0;break}}if(!o)return Yk(`Active uniform ${s.name} has not been supplied`);if(o&&o.value===void 0)return Yk(`${s.name} uniform is missing a value parameter`);if(o.value.texture)return n=n+1,o.value.update(n),HT(this.gl,s.type,i,n);if(o.value.length&&o.value[0].texture){const l=[];return o.value.forEach(u=>{n=n+1,u.update(n),l.push(n)}),HT(this.gl,s.type,i,l)}HT(this.gl,s.type,i,o.value)}),this.applyState(),e&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function HT(t,e,n,r){r=r.length?xte(r):r;const i=t.renderer.state.uniformLocations.get(n);if(r.length)if(i===void 0||i.length!==r.length)t.renderer.state.uniformLocations.set(n,r.slice(0));else{if(bte(i,r))return;i.set?i.set(r):wte(i,r),t.renderer.state.uniformLocations.set(n,i)}else{if(i===r)return;t.renderer.state.uniformLocations.set(n,r)}switch(e){case 5126:return r.length?t.uniform1fv(n,r):t.uniform1f(n,r);case 35664:return t.uniform2fv(n,r);case 35665:return t.uniform3fv(n,r);case 35666:return t.uniform4fv(n,r);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return r.length?t.uniform1iv(n,r):t.uniform1i(n,r);case 35671:case 35667:return t.uniform2iv(n,r);case 35672:case 35668:return t.uniform3iv(n,r);case 35673:case 35669:return t.uniform4iv(n,r);case 35674:return t.uniformMatrix2fv(n,!1,r);case 35675:return t.uniformMatrix3fv(n,!1,r);case 35676:return t.uniformMatrix4fv(n,!1,r)}}function Wk(t){let e=t.split(`
`);for(let n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join(`
`)}function xte(t){const e=t.length,n=t[0].length;if(n===void 0)return t;const r=e*n;let i=Kk[r];i||(Kk[r]=i=new Float32Array(r));for(let s=0;s<e;s++)i.set(t[s],s*n);return i}function bte(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function wte(t,e){for(let n=0,r=t.length;n<r;n++)t[n]=e[n]}let KT=0;function Yk(t){KT>100||(console.warn(t),KT++,KT>100&&console.warn("More than 100 program warnings - stopping logs."))}const WT=new Rs;let _te=1;class Tte{constructor({canvas:e=document.createElement("canvas"),width:n=300,height:r=150,dpr:i=1,alpha:s=!1,depth:o=!0,stencil:l=!1,antialias:u=!1,premultipliedAlpha:d=!1,preserveDrawingBuffer:f=!1,powerPreference:m="default",autoClear:v=!0,webgl:b=2}={}){const T={alpha:s,depth:o,stencil:l,antialias:u,premultipliedAlpha:d,preserveDrawingBuffer:f,powerPreference:m};this.dpr=i,this.alpha=s,this.color=!0,this.depth=o,this.stencil=l,this.premultipliedAlpha=d,this.autoClear=v,this.id=_te++,b===2&&(this.gl=e.getContext("webgl2",T)),this.isWebgl2=!!this.gl,this.gl||(this.gl=e.getContext("webgl",T)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(n,r),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(e,n){this.width=e,this.height=n,this.gl.canvas.width=e*this.dpr,this.gl.canvas.height=n*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:e+"px",height:n+"px"})}setViewport(e,n,r=0,i=0){this.state.viewport.width===e&&this.state.viewport.height===n||(this.state.viewport.width=e,this.state.viewport.height=n,this.state.viewport.x=r,this.state.viewport.y=i,this.gl.viewport(r,i,e,n))}setScissor(e,n,r=0,i=0){this.gl.scissor(r,i,e,n)}enable(e){this.state[e]!==!0&&(this.gl.enable(e),this.state[e]=!0)}disable(e){this.state[e]!==!1&&(this.gl.disable(e),this.state[e]=!1)}setBlendFunc(e,n,r,i){this.state.blendFunc.src===e&&this.state.blendFunc.dst===n&&this.state.blendFunc.srcAlpha===r&&this.state.blendFunc.dstAlpha===i||(this.state.blendFunc.src=e,this.state.blendFunc.dst=n,this.state.blendFunc.srcAlpha=r,this.state.blendFunc.dstAlpha=i,r!==void 0?this.gl.blendFuncSeparate(e,n,r,i):this.gl.blendFunc(e,n))}setBlendEquation(e,n){e=e||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===e&&this.state.blendEquation.modeAlpha===n)&&(this.state.blendEquation.modeRGB=e,this.state.blendEquation.modeAlpha=n,n!==void 0?this.gl.blendEquationSeparate(e,n):this.gl.blendEquation(e))}setCullFace(e){this.state.cullFace!==e&&(this.state.cullFace=e,this.gl.cullFace(e))}setFrontFace(e){this.state.frontFace!==e&&(this.state.frontFace=e,this.gl.frontFace(e))}setDepthMask(e){this.state.depthMask!==e&&(this.state.depthMask=e,this.gl.depthMask(e))}setDepthFunc(e){this.state.depthFunc!==e&&(this.state.depthFunc=e,this.gl.depthFunc(e))}setStencilMask(e){this.state.stencilMask!==e&&(this.state.stencilMask=e,this.gl.stencilMask(e))}setStencilFunc(e,n,r){this.state.stencilFunc===e&&this.state.stencilRef===n&&this.state.stencilFuncMask===r||(this.state.stencilFunc=e||this.gl.ALWAYS,this.state.stencilRef=n||0,this.state.stencilFuncMask=r||0,this.gl.stencilFunc(e||this.gl.ALWAYS,n||0,r||0))}setStencilOp(e,n,r){this.state.stencilFail===e&&this.state.stencilDepthFail===n&&this.state.stencilDepthPass===r||(this.state.stencilFail=e,this.state.stencilDepthFail=n,this.state.stencilDepthPass=r,this.gl.stencilOp(e,n,r))}activeTexture(e){this.state.activeTextureUnit!==e&&(this.state.activeTextureUnit=e,this.gl.activeTexture(this.gl.TEXTURE0+e))}bindFramebuffer({target:e=this.gl.FRAMEBUFFER,buffer:n=null}={}){this.state.framebuffer!==n&&(this.state.framebuffer=n,this.gl.bindFramebuffer(e,n))}getExtension(e,n,r){return n&&this.gl[n]?this.gl[n].bind(this.gl):(this.extensions[e]||(this.extensions[e]=this.gl.getExtension(e)),n?this.extensions[e]?this.extensions[e][r].bind(this.extensions[e]):null:this.extensions[e])}sortOpaque(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.program.id!==n.program.id?e.program.id-n.program.id:e.zDepth!==n.zDepth?e.zDepth-n.zDepth:n.id-e.id}sortTransparent(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.zDepth!==n.zDepth?n.zDepth-e.zDepth:n.id-e.id}sortUI(e,n){return e.renderOrder!==n.renderOrder?e.renderOrder-n.renderOrder:e.program.id!==n.program.id?e.program.id-n.program.id:n.id-e.id}getRenderList({scene:e,camera:n,frustumCull:r,sort:i}){let s=[];if(n&&r&&n.updateFrustum(),e.traverse(o=>{if(!o.visible)return!0;o.draw&&(r&&o.frustumCulled&&n&&!n.frustumIntersectsMesh(o)||s.push(o))}),i){const o=[],l=[],u=[];s.forEach(d=>{d.program.transparent?d.program.depthTest?l.push(d):u.push(d):o.push(d),d.zDepth=0,!(d.renderOrder!==0||!d.program.depthTest||!n)&&(d.worldMatrix.getTranslation(WT),WT.applyMatrix4(n.projectionViewMatrix),d.zDepth=WT.z)}),o.sort(this.sortOpaque),l.sort(this.sortTransparent),u.sort(this.sortUI),s=o.concat(l,u)}return s}render({scene:e,camera:n,target:r=null,update:i=!0,sort:s=!0,frustumCull:o=!0,clear:l}){r===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(r),this.setViewport(r.width,r.height)),(l||this.autoClear&&l!==!1)&&(this.depth&&(!r||r.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!r||r.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),i&&e.updateMatrixWorld(),n&&n.updateMatrixWorld(),this.getRenderList({scene:e,camera:n,frustumCull:o,sort:s}).forEach(d=>{d.draw({camera:n})})}}function Ete(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Ste(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function Ate(t,e){let n=e[0],r=e[1],i=e[2],s=e[3],o=n*n+r*r+i*i+s*s;return o>0&&(o=1/Math.sqrt(o)),t[0]=n*o,t[1]=r*o,t[2]=i*o,t[3]=s*o,t}function Cte(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Ite(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Rte(t,e,n){n=n*.5;let r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function Jk(t,e,n){let r=e[0],i=e[1],s=e[2],o=e[3],l=n[0],u=n[1],d=n[2],f=n[3];return t[0]=r*f+o*l+i*d-s*u,t[1]=i*f+o*u+s*l-r*d,t[2]=s*f+o*d+r*u-i*l,t[3]=o*f-r*l-i*u-s*d,t}function Pte(t,e,n){n*=.5;let r=e[0],i=e[1],s=e[2],o=e[3],l=Math.sin(n),u=Math.cos(n);return t[0]=r*u+o*l,t[1]=i*u+s*l,t[2]=s*u-i*l,t[3]=o*u-r*l,t}function Nte(t,e,n){n*=.5;let r=e[0],i=e[1],s=e[2],o=e[3],l=Math.sin(n),u=Math.cos(n);return t[0]=r*u-s*l,t[1]=i*u+o*l,t[2]=s*u+r*l,t[3]=o*u-i*l,t}function Mte(t,e,n){n*=.5;let r=e[0],i=e[1],s=e[2],o=e[3],l=Math.sin(n),u=Math.cos(n);return t[0]=r*u+i*l,t[1]=i*u-r*l,t[2]=s*u+o*l,t[3]=o*u-s*l,t}function Dte(t,e,n,r){let i=e[0],s=e[1],o=e[2],l=e[3],u=n[0],d=n[1],f=n[2],m=n[3],v,b,T,S,A;return b=i*u+s*d+o*f+l*m,b<0&&(b=-b,u=-u,d=-d,f=-f,m=-m),1-b>1e-6?(v=Math.acos(b),T=Math.sin(v),S=Math.sin((1-r)*v)/T,A=Math.sin(r*v)/T):(S=1-r,A=r),t[0]=S*i+A*u,t[1]=S*s+A*d,t[2]=S*o+A*f,t[3]=S*l+A*m,t}function kte(t,e){let n=e[0],r=e[1],i=e[2],s=e[3],o=n*n+r*r+i*i+s*s,l=o?1/o:0;return t[0]=-n*l,t[1]=-r*l,t[2]=-i*l,t[3]=s*l,t}function Ote(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function Vte(t,e){let n=e[0]+e[4]+e[8],r;if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{let i=0;e[4]>e[0]&&(i=1),e[8]>e[i*3+i]&&(i=2);let s=(i+1)%3,o=(i+2)%3;r=Math.sqrt(e[i*3+i]-e[s*3+s]-e[o*3+o]+1),t[i]=.5*r,r=.5/r,t[3]=(e[s*3+o]-e[o*3+s])*r,t[s]=(e[s*3+i]+e[i*3+s])*r,t[o]=(e[o*3+i]+e[i*3+o])*r}return t}function Lte(t,e,n="YXZ"){let r=Math.sin(e[0]*.5),i=Math.cos(e[0]*.5),s=Math.sin(e[1]*.5),o=Math.cos(e[1]*.5),l=Math.sin(e[2]*.5),u=Math.cos(e[2]*.5);return n==="XYZ"?(t[0]=r*o*u+i*s*l,t[1]=i*s*u-r*o*l,t[2]=i*o*l+r*s*u,t[3]=i*o*u-r*s*l):n==="YXZ"?(t[0]=r*o*u+i*s*l,t[1]=i*s*u-r*o*l,t[2]=i*o*l-r*s*u,t[3]=i*o*u+r*s*l):n==="ZXY"?(t[0]=r*o*u-i*s*l,t[1]=i*s*u+r*o*l,t[2]=i*o*l+r*s*u,t[3]=i*o*u-r*s*l):n==="ZYX"?(t[0]=r*o*u-i*s*l,t[1]=i*s*u+r*o*l,t[2]=i*o*l-r*s*u,t[3]=i*o*u+r*s*l):n==="YZX"?(t[0]=r*o*u+i*s*l,t[1]=i*s*u+r*o*l,t[2]=i*o*l-r*s*u,t[3]=i*o*u-r*s*l):n==="XZY"&&(t[0]=r*o*u-i*s*l,t[1]=i*s*u-r*o*l,t[2]=i*o*l+r*s*u,t[3]=i*o*u+r*s*l),t}const Ute=Ete,Fte=Ste,jte=Cte,Bte=Ate;class qte extends Array{constructor(e=0,n=0,r=0,i=1){super(e,n,r,i),this.onChange=()=>{},this._target=this;const s=["0","1","2","3"];return new Proxy(this,{set(o,l){const u=Reflect.set(...arguments);return u&&s.includes(l)&&o.onChange(),u}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set w(e){this._target[3]=e,this.onChange()}identity(){return Ite(this._target),this.onChange(),this}set(e,n,r,i){return e.length?this.copy(e):(Fte(this._target,e,n,r,i),this.onChange(),this)}rotateX(e){return Pte(this._target,this._target,e),this.onChange(),this}rotateY(e){return Nte(this._target,this._target,e),this.onChange(),this}rotateZ(e){return Mte(this._target,this._target,e),this.onChange(),this}inverse(e=this._target){return kte(this._target,e),this.onChange(),this}conjugate(e=this._target){return Ote(this._target,e),this.onChange(),this}copy(e){return Ute(this._target,e),this.onChange(),this}normalize(e=this._target){return Bte(this._target,e),this.onChange(),this}multiply(e,n){return n?Jk(this._target,e,n):Jk(this._target,this._target,e),this.onChange(),this}dot(e){return jte(this._target,e)}fromMatrix3(e){return Vte(this._target,e),this.onChange(),this}fromEuler(e,n){return Lte(this._target,e,e.order),n||this.onChange(),this}fromAxisAngle(e,n){return Rte(this._target,e,n),this.onChange(),this}slerp(e,n){return Dte(this._target,this._target,e,n),this.onChange(),this}fromArray(e,n=0){return this._target[0]=e[n],this._target[1]=e[n+1],this._target[2]=e[n+2],this._target[3]=e[n+3],this.onChange(),this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e[n+3]=this[3],e}}const zte=1e-6;function $te(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Gte(t,e,n,r,i,s,o,l,u,d,f,m,v,b,T,S,A){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t[6]=l,t[7]=u,t[8]=d,t[9]=f,t[10]=m,t[11]=v,t[12]=b,t[13]=T,t[14]=S,t[15]=A,t}function Hte(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Kte(t,e){let n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],l=e[5],u=e[6],d=e[7],f=e[8],m=e[9],v=e[10],b=e[11],T=e[12],S=e[13],A=e[14],C=e[15],D=n*l-r*o,N=n*u-i*o,F=n*d-s*o,V=r*u-i*l,B=r*d-s*l,k=i*d-s*u,R=f*S-m*T,O=f*A-v*T,j=f*C-b*T,q=m*A-v*S,H=m*C-b*S,G=v*C-b*A,he=D*G-N*H+F*q+V*j-B*O+k*R;return he?(he=1/he,t[0]=(l*G-u*H+d*q)*he,t[1]=(i*H-r*G-s*q)*he,t[2]=(S*k-A*B+C*V)*he,t[3]=(v*B-m*k-b*V)*he,t[4]=(u*j-o*G-d*O)*he,t[5]=(n*G-i*j+s*O)*he,t[6]=(A*F-T*k-C*N)*he,t[7]=(f*k-v*F+b*N)*he,t[8]=(o*H-l*j+d*R)*he,t[9]=(r*j-n*H-s*R)*he,t[10]=(T*B-S*F+C*D)*he,t[11]=(m*F-f*B-b*D)*he,t[12]=(l*O-o*q-u*R)*he,t[13]=(n*q-r*O+i*R)*he,t[14]=(S*N-T*V-A*D)*he,t[15]=(f*V-m*N+v*D)*he,t):null}function RB(t){let e=t[0],n=t[1],r=t[2],i=t[3],s=t[4],o=t[5],l=t[6],u=t[7],d=t[8],f=t[9],m=t[10],v=t[11],b=t[12],T=t[13],S=t[14],A=t[15],C=e*o-n*s,D=e*l-r*s,N=e*u-i*s,F=n*l-r*o,V=n*u-i*o,B=r*u-i*l,k=d*T-f*b,R=d*S-m*b,O=d*A-v*b,j=f*S-m*T,q=f*A-v*T,H=m*A-v*S;return C*H-D*q+N*j+F*O-V*R+B*k}function Qk(t,e,n){let r=e[0],i=e[1],s=e[2],o=e[3],l=e[4],u=e[5],d=e[6],f=e[7],m=e[8],v=e[9],b=e[10],T=e[11],S=e[12],A=e[13],C=e[14],D=e[15],N=n[0],F=n[1],V=n[2],B=n[3];return t[0]=N*r+F*l+V*m+B*S,t[1]=N*i+F*u+V*v+B*A,t[2]=N*s+F*d+V*b+B*C,t[3]=N*o+F*f+V*T+B*D,N=n[4],F=n[5],V=n[6],B=n[7],t[4]=N*r+F*l+V*m+B*S,t[5]=N*i+F*u+V*v+B*A,t[6]=N*s+F*d+V*b+B*C,t[7]=N*o+F*f+V*T+B*D,N=n[8],F=n[9],V=n[10],B=n[11],t[8]=N*r+F*l+V*m+B*S,t[9]=N*i+F*u+V*v+B*A,t[10]=N*s+F*d+V*b+B*C,t[11]=N*o+F*f+V*T+B*D,N=n[12],F=n[13],V=n[14],B=n[15],t[12]=N*r+F*l+V*m+B*S,t[13]=N*i+F*u+V*v+B*A,t[14]=N*s+F*d+V*b+B*C,t[15]=N*o+F*f+V*T+B*D,t}function Wte(t,e,n){let r=n[0],i=n[1],s=n[2],o,l,u,d,f,m,v,b,T,S,A,C;return e===t?(t[12]=e[0]*r+e[4]*i+e[8]*s+e[12],t[13]=e[1]*r+e[5]*i+e[9]*s+e[13],t[14]=e[2]*r+e[6]*i+e[10]*s+e[14],t[15]=e[3]*r+e[7]*i+e[11]*s+e[15]):(o=e[0],l=e[1],u=e[2],d=e[3],f=e[4],m=e[5],v=e[6],b=e[7],T=e[8],S=e[9],A=e[10],C=e[11],t[0]=o,t[1]=l,t[2]=u,t[3]=d,t[4]=f,t[5]=m,t[6]=v,t[7]=b,t[8]=T,t[9]=S,t[10]=A,t[11]=C,t[12]=o*r+f*i+T*s+e[12],t[13]=l*r+m*i+S*s+e[13],t[14]=u*r+v*i+A*s+e[14],t[15]=d*r+b*i+C*s+e[15]),t}function Yte(t,e,n){let r=n[0],i=n[1],s=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Jte(t,e,n,r){let i=r[0],s=r[1],o=r[2],l=Math.hypot(i,s,o),u,d,f,m,v,b,T,S,A,C,D,N,F,V,B,k,R,O,j,q,H,G,he,we;return Math.abs(l)<zte?null:(l=1/l,i*=l,s*=l,o*=l,u=Math.sin(n),d=Math.cos(n),f=1-d,m=e[0],v=e[1],b=e[2],T=e[3],S=e[4],A=e[5],C=e[6],D=e[7],N=e[8],F=e[9],V=e[10],B=e[11],k=i*i*f+d,R=s*i*f+o*u,O=o*i*f-s*u,j=i*s*f-o*u,q=s*s*f+d,H=o*s*f+i*u,G=i*o*f+s*u,he=s*o*f-i*u,we=o*o*f+d,t[0]=m*k+S*R+N*O,t[1]=v*k+A*R+F*O,t[2]=b*k+C*R+V*O,t[3]=T*k+D*R+B*O,t[4]=m*j+S*q+N*H,t[5]=v*j+A*q+F*H,t[6]=b*j+C*q+V*H,t[7]=T*j+D*q+B*H,t[8]=m*G+S*he+N*we,t[9]=v*G+A*he+F*we,t[10]=b*G+C*he+V*we,t[11]=T*G+D*he+B*we,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function Qte(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function PB(t,e){let n=e[0],r=e[1],i=e[2],s=e[4],o=e[5],l=e[6],u=e[8],d=e[9],f=e[10];return t[0]=Math.hypot(n,r,i),t[1]=Math.hypot(s,o,l),t[2]=Math.hypot(u,d,f),t}function Xte(t){let e=t[0],n=t[1],r=t[2],i=t[4],s=t[5],o=t[6],l=t[8],u=t[9],d=t[10];const f=e*e+n*n+r*r,m=i*i+s*s+o*o,v=l*l+u*u+d*d;return Math.sqrt(Math.max(f,m,v))}const NB=(function(){const t=[1,1,1];return function(e,n){let r=t;PB(r,n);let i=1/r[0],s=1/r[1],o=1/r[2],l=n[0]*i,u=n[1]*s,d=n[2]*o,f=n[4]*i,m=n[5]*s,v=n[6]*o,b=n[8]*i,T=n[9]*s,S=n[10]*o,A=l+m+S,C=0;return A>0?(C=Math.sqrt(A+1)*2,e[3]=.25*C,e[0]=(v-T)/C,e[1]=(b-d)/C,e[2]=(u-f)/C):l>m&&l>S?(C=Math.sqrt(1+l-m-S)*2,e[3]=(v-T)/C,e[0]=.25*C,e[1]=(u+f)/C,e[2]=(b+d)/C):m>S?(C=Math.sqrt(1+m-l-S)*2,e[3]=(b-d)/C,e[0]=(u+f)/C,e[1]=.25*C,e[2]=(v+T)/C):(C=Math.sqrt(1+S-l-m)*2,e[3]=(u-f)/C,e[0]=(b+d)/C,e[1]=(v+T)/C,e[2]=.25*C),e}})();function Zte(t,e,n,r){let i=kp([t[0],t[1],t[2]]);const s=kp([t[4],t[5],t[6]]),o=kp([t[8],t[9],t[10]]);RB(t)<0&&(i=-i),n[0]=t[12],n[1]=t[13],n[2]=t[14];const u=t.slice(),d=1/i,f=1/s,m=1/o;u[0]*=d,u[1]*=d,u[2]*=d,u[4]*=f,u[5]*=f,u[6]*=f,u[8]*=m,u[9]*=m,u[10]*=m,NB(e,u),r[0]=i,r[1]=s,r[2]=o}function ene(t,e,n,r){const i=t,s=e[0],o=e[1],l=e[2],u=e[3],d=s+s,f=o+o,m=l+l,v=s*d,b=s*f,T=s*m,S=o*f,A=o*m,C=l*m,D=u*d,N=u*f,F=u*m,V=r[0],B=r[1],k=r[2];return i[0]=(1-(S+C))*V,i[1]=(b+F)*V,i[2]=(T-N)*V,i[3]=0,i[4]=(b-F)*B,i[5]=(1-(v+C))*B,i[6]=(A+D)*B,i[7]=0,i[8]=(T+N)*k,i[9]=(A-D)*k,i[10]=(1-(v+S))*k,i[11]=0,i[12]=n[0],i[13]=n[1],i[14]=n[2],i[15]=1,i}function tne(t,e){let n=e[0],r=e[1],i=e[2],s=e[3],o=n+n,l=r+r,u=i+i,d=n*o,f=r*o,m=r*l,v=i*o,b=i*l,T=i*u,S=s*o,A=s*l,C=s*u;return t[0]=1-m-T,t[1]=f+C,t[2]=v-A,t[3]=0,t[4]=f-C,t[5]=1-d-T,t[6]=b+S,t[7]=0,t[8]=v+A,t[9]=b-S,t[10]=1-d-m,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function nne(t,e,n,r,i){let s=1/Math.tan(e/2),o=1/(r-i);return t[0]=s/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*o,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*o,t[15]=0,t}function rne(t,e,n,r,i,s,o){let l=1/(e-n),u=1/(r-i),d=1/(s-o);return t[0]=-2*l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*d,t[11]=0,t[12]=(e+n)*l,t[13]=(i+r)*u,t[14]=(o+s)*d,t[15]=1,t}function ine(t,e,n,r){let i=e[0],s=e[1],o=e[2],l=r[0],u=r[1],d=r[2],f=i-n[0],m=s-n[1],v=o-n[2],b=f*f+m*m+v*v;b===0?v=1:(b=1/Math.sqrt(b),f*=b,m*=b,v*=b);let T=u*v-d*m,S=d*f-l*v,A=l*m-u*f;return b=T*T+S*S+A*A,b===0&&(d?l+=1e-6:u?d+=1e-6:u+=1e-6,T=u*v-d*m,S=d*f-l*v,A=l*m-u*f,b=T*T+S*S+A*A),b=1/Math.sqrt(b),T*=b,S*=b,A*=b,t[0]=T,t[1]=S,t[2]=A,t[3]=0,t[4]=m*A-v*S,t[5]=v*T-f*A,t[6]=f*S-m*T,t[7]=0,t[8]=f,t[9]=m,t[10]=v,t[11]=0,t[12]=i,t[13]=s,t[14]=o,t[15]=1,t}function Xk(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function Zk(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function sne(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}class ex extends Array{constructor(e=1,n=0,r=0,i=0,s=0,o=1,l=0,u=0,d=0,f=0,m=1,v=0,b=0,T=0,S=0,A=1){return super(e,n,r,i,s,o,l,u,d,f,m,v,b,T,S,A),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(e){this[12]=e}set y(e){this[13]=e}set z(e){this[14]=e}set w(e){this[15]=e}set(e,n,r,i,s,o,l,u,d,f,m,v,b,T,S,A){return e.length?this.copy(e):(Gte(this,e,n,r,i,s,o,l,u,d,f,m,v,b,T,S,A),this)}translate(e,n=this){return Wte(this,n,e),this}rotate(e,n,r=this){return Jte(this,r,e,n),this}scale(e,n=this){return Yte(this,n,typeof e=="number"?[e,e,e]:e),this}add(e,n){return n?Xk(this,e,n):Xk(this,this,e),this}sub(e,n){return n?Zk(this,e,n):Zk(this,this,e),this}multiply(e,n){return e.length?n?Qk(this,e,n):Qk(this,this,e):sne(this,this,e),this}identity(){return Hte(this),this}copy(e){return $te(this,e),this}fromPerspective({fov:e,aspect:n,near:r,far:i}={}){return nne(this,e,n,r,i),this}fromOrthogonal({left:e,right:n,bottom:r,top:i,near:s,far:o}){return rne(this,e,n,r,i,s,o),this}fromQuaternion(e){return tne(this,e),this}setPosition(e){return this.x=e[0],this.y=e[1],this.z=e[2],this}inverse(e=this){return Kte(this,e),this}compose(e,n,r){return ene(this,e,n,r),this}decompose(e,n,r){return Zte(this,e,n,r),this}getRotation(e){return NB(e,this),this}getTranslation(e){return Qte(e,this),this}getScaling(e){return PB(e,this),this}getMaxScaleOnAxis(){return Xte(this)}lookAt(e,n,r){return ine(this,e,n,r),this}determinant(){return RB(this)}fromArray(e,n=0){return this[0]=e[n],this[1]=e[n+1],this[2]=e[n+2],this[3]=e[n+3],this[4]=e[n+4],this[5]=e[n+5],this[6]=e[n+6],this[7]=e[n+7],this[8]=e[n+8],this[9]=e[n+9],this[10]=e[n+10],this[11]=e[n+11],this[12]=e[n+12],this[13]=e[n+13],this[14]=e[n+14],this[15]=e[n+15],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e[n+3]=this[3],e[n+4]=this[4],e[n+5]=this[5],e[n+6]=this[6],e[n+7]=this[7],e[n+8]=this[8],e[n+9]=this[9],e[n+10]=this[10],e[n+11]=this[11],e[n+12]=this[12],e[n+13]=this[13],e[n+14]=this[14],e[n+15]=this[15],e}}function one(t,e,n="YXZ"){return n==="XYZ"?(t[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),Math.abs(e[8])<.99999?(t[0]=Math.atan2(-e[9],e[10]),t[2]=Math.atan2(-e[4],e[0])):(t[0]=Math.atan2(e[6],e[5]),t[2]=0)):n==="YXZ"?(t[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),Math.abs(e[9])<.99999?(t[1]=Math.atan2(e[8],e[10]),t[2]=Math.atan2(e[1],e[5])):(t[1]=Math.atan2(-e[2],e[0]),t[2]=0)):n==="ZXY"?(t[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),Math.abs(e[6])<.99999?(t[1]=Math.atan2(-e[2],e[10]),t[2]=Math.atan2(-e[4],e[5])):(t[1]=0,t[2]=Math.atan2(e[1],e[0]))):n==="ZYX"?(t[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),Math.abs(e[2])<.99999?(t[0]=Math.atan2(e[6],e[10]),t[2]=Math.atan2(e[1],e[0])):(t[0]=0,t[2]=Math.atan2(-e[4],e[5]))):n==="YZX"?(t[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),Math.abs(e[1])<.99999?(t[0]=Math.atan2(-e[9],e[5]),t[1]=Math.atan2(-e[2],e[0])):(t[0]=0,t[1]=Math.atan2(e[8],e[10]))):n==="XZY"&&(t[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),Math.abs(e[4])<.99999?(t[0]=Math.atan2(e[6],e[5]),t[1]=Math.atan2(e[8],e[0])):(t[0]=Math.atan2(-e[9],e[10]),t[1]=0)),t}const eO=new ex;class ane extends Array{constructor(e=0,n=e,r=e,i="YXZ"){super(e,n,r),this.order=i,this.onChange=()=>{},this._target=this;const s=["0","1","2"];return new Proxy(this,{set(o,l){const u=Reflect.set(...arguments);return u&&s.includes(l)&&o.onChange(),u}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(e){this._target[0]=e,this.onChange()}set y(e){this._target[1]=e,this.onChange()}set z(e){this._target[2]=e,this.onChange()}set(e,n=e,r=e){return e.length?this.copy(e):(this._target[0]=e,this._target[1]=n,this._target[2]=r,this.onChange(),this)}copy(e){return this._target[0]=e[0],this._target[1]=e[1],this._target[2]=e[2],this.onChange(),this}reorder(e){return this._target.order=e,this.onChange(),this}fromRotationMatrix(e,n=this.order){return one(this._target,e,n),this.onChange(),this}fromQuaternion(e,n=this.order,r){return eO.fromQuaternion(e),this._target.fromRotationMatrix(eO,n),r||this.onChange(),this}fromArray(e,n=0){return this._target[0]=e[n],this._target[1]=e[n+1],this._target[2]=e[n+2],this}toArray(e=[],n=0){return e[n]=this[0],e[n+1]=this[1],e[n+2]=this[2],e}}class lne{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new ex,this.worldMatrix=new ex,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new Rs,this.quaternion=new qte,this.scale=new Rs(1),this.rotation=new ane,this.up=new Rs(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(e,n=!0){this.parent&&e!==this.parent&&this.parent.removeChild(this,!1),this.parent=e,n&&e&&e.addChild(this,!1)}addChild(e,n=!0){~this.children.indexOf(e)||this.children.push(e),n&&e.setParent(this,!1)}removeChild(e,n=!0){~this.children.indexOf(e)&&this.children.splice(this.children.indexOf(e),1),n&&e.setParent(null,!1)}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||e)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,e=!0);for(let n=0,r=this.children.length;n<r;n++)this.children[n].updateMatrixWorld(e)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(e){if(!e(this))for(let n=0,r=this.children.length;n<r;n++)this.children[n].traverse(e)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(e,n=!1){n?this.matrix.lookAt(this.position,e,this.up):this.matrix.lookAt(e,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}function une(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function cne(t,e){let n=e[0],r=e[1],i=e[2],s=e[3],o=n+n,l=r+r,u=i+i,d=n*o,f=r*o,m=r*l,v=i*o,b=i*l,T=i*u,S=s*o,A=s*l,C=s*u;return t[0]=1-m-T,t[3]=f-C,t[6]=v+A,t[1]=f+C,t[4]=1-d-T,t[7]=b-S,t[2]=v-A,t[5]=b+S,t[8]=1-d-m,t}function dne(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function fne(t,e,n,r,i,s,o,l,u,d){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t[6]=l,t[7]=u,t[8]=d,t}function hne(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function mne(t,e){let n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],l=e[5],u=e[6],d=e[7],f=e[8],m=f*o-l*d,v=-f*s+l*u,b=d*s-o*u,T=n*m+r*v+i*b;return T?(T=1/T,t[0]=m*T,t[1]=(-f*r+i*d)*T,t[2]=(l*r-i*o)*T,t[3]=v*T,t[4]=(f*n-i*u)*T,t[5]=(-l*n+i*s)*T,t[6]=b*T,t[7]=(-d*n+r*u)*T,t[8]=(o*n-r*s)*T,t):null}function tO(t,e,n){let r=e[0],i=e[1],s=e[2],o=e[3],l=e[4],u=e[5],d=e[6],f=e[7],m=e[8],v=n[0],b=n[1],T=n[2],S=n[3],A=n[4],C=n[5],D=n[6],N=n[7],F=n[8];return t[0]=v*r+b*o+T*d,t[1]=v*i+b*l+T*f,t[2]=v*s+b*u+T*m,t[3]=S*r+A*o+C*d,t[4]=S*i+A*l+C*f,t[5]=S*s+A*u+C*m,t[6]=D*r+N*o+F*d,t[7]=D*i+N*l+F*f,t[8]=D*s+N*u+F*m,t}function pne(t,e,n){let r=e[0],i=e[1],s=e[2],o=e[3],l=e[4],u=e[5],d=e[6],f=e[7],m=e[8],v=n[0],b=n[1];return t[0]=r,t[1]=i,t[2]=s,t[3]=o,t[4]=l,t[5]=u,t[6]=v*r+b*o+d,t[7]=v*i+b*l+f,t[8]=v*s+b*u+m,t}function gne(t,e,n){let r=e[0],i=e[1],s=e[2],o=e[3],l=e[4],u=e[5],d=e[6],f=e[7],m=e[8],v=Math.sin(n),b=Math.cos(n);return t[0]=b*r+v*o,t[1]=b*i+v*l,t[2]=b*s+v*u,t[3]=b*o-v*r,t[4]=b*l-v*i,t[5]=b*u-v*s,t[6]=d,t[7]=f,t[8]=m,t}function yne(t,e,n){let r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function vne(t,e){let n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],l=e[5],u=e[6],d=e[7],f=e[8],m=e[9],v=e[10],b=e[11],T=e[12],S=e[13],A=e[14],C=e[15],D=n*l-r*o,N=n*u-i*o,F=n*d-s*o,V=r*u-i*l,B=r*d-s*l,k=i*d-s*u,R=f*S-m*T,O=f*A-v*T,j=f*C-b*T,q=m*A-v*S,H=m*C-b*S,G=v*C-b*A,he=D*G-N*H+F*q+V*j-B*O+k*R;return he?(he=1/he,t[0]=(l*G-u*H+d*q)*he,t[1]=(u*j-o*G-d*O)*he,t[2]=(o*H-l*j+d*R)*he,t[3]=(i*H-r*G-s*q)*he,t[4]=(n*G-i*j+s*O)*he,t[5]=(r*j-n*H-s*R)*he,t[6]=(S*k-A*B+C*V)*he,t[7]=(A*F-T*k-C*N)*he,t[8]=(T*B-S*F+C*D)*he,t):null}class xne extends Array{constructor(e=1,n=0,r=0,i=0,s=1,o=0,l=0,u=0,d=1){return super(e,n,r,i,s,o,l,u,d),this}set(e,n,r,i,s,o,l,u,d){return e.length?this.copy(e):(fne(this,e,n,r,i,s,o,l,u,d),this)}translate(e,n=this){return pne(this,n,e),this}rotate(e,n=this){return gne(this,n,e),this}scale(e,n=this){return yne(this,n,e),this}multiply(e,n){return n?tO(this,e,n):tO(this,this,e),this}identity(){return hne(this),this}copy(e){return dne(this,e),this}fromMatrix4(e){return une(this,e),this}fromQuaternion(e){return cne(this,e),this}fromBasis(e,n,r){return this.set(e[0],e[1],e[2],n[0],n[1],n[2],r[0],r[1],r[2]),this}inverse(e=this){return mne(this,e),this}getNormalMatrix(e){return vne(this,e),this}}let bne=0;class wne extends lne{constructor(e,{geometry:n,program:r,mode:i=e.TRIANGLES,frustumCulled:s=!0,renderOrder:o=0}={}){super(),e.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=e,this.id=bne++,this.geometry=n,this.program=r,this.mode=i,this.frustumCulled=s,this.renderOrder=o,this.modelViewMatrix=new ex,this.normalMatrix=new xne,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(e){return this.beforeRenderCallbacks.push(e),this}onAfterRender(e){return this.afterRenderCallbacks.push(e),this}draw({camera:e}={}){e&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=e.projectionMatrix,this.program.uniforms.cameraPosition.value=e.worldPosition,this.program.uniforms.viewMatrix.value=e.viewMatrix,this.modelViewMatrix.multiply(e.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(r=>r&&r({mesh:this,camera:e}));let n=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:n}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(r=>r&&r({mesh:this,camera:e}))}}class _ne extends gte{constructor(e,{attributes:n={}}={}){Object.assign(n,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(e,n)}}const Tne="#ffffff",nO=t=>{const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?[parseInt(e[1],16)/255,parseInt(e[2],16)/255,parseInt(e[3],16)/255]:[1,1,1]},rO=(t,e,n)=>{switch(t){case"top-left":return{anchor:[0,-.2*n],dir:[0,1]};case"top-right":return{anchor:[e,-.2*n],dir:[0,1]};case"left":return{anchor:[-.2*e,.5*n],dir:[1,0]};case"right":return{anchor:[(1+.2)*e,.5*n],dir:[-1,0]};case"bottom-left":return{anchor:[0,(1+.2)*n],dir:[0,-1]};case"bottom-center":return{anchor:[.5*e,(1+.2)*n],dir:[0,-1]};case"bottom-right":return{anchor:[e,(1+.2)*n],dir:[0,-1]};default:return{anchor:[.5*e,-.2*n],dir:[0,1]}}},Ene=({raysOrigin:t="top-center",raysColor:e=Tne,raysSpeed:n=1,lightSpread:r=1,rayLength:i=2,pulsating:s=!1,fadeDistance:o=1,saturation:l=1,followMouse:u=!0,mouseInfluence:d=.1,noiseAmount:f=0,distortion:m=0,className:v=""})=>{const b=M.useRef(null),T=M.useRef(null),S=M.useRef(null),A=M.useRef({x:.5,y:.5}),C=M.useRef({x:.5,y:.5}),D=M.useRef(null),N=M.useRef(null),F=M.useRef(null),[V,B]=M.useState(!1),k=M.useRef(null);return M.useEffect(()=>{if(b.current)return k.current=new IntersectionObserver(R=>{const O=R[0];B(O.isIntersecting)},{threshold:.1}),k.current.observe(b.current),()=>{k.current&&(k.current.disconnect(),k.current=null)}},[]),M.useEffect(()=>!V||!b.current?void 0:(F.current&&(F.current(),F.current=null),P(null,null,function*(){if(!b.current||(yield new Promise(Ee=>setTimeout(Ee,10)),!b.current))return;const O=new Tte({dpr:Math.min(window.devicePixelRatio,2),alpha:!0});S.current=O;const j=O.gl;for(j.canvas.style.width="100%",j.canvas.style.height="100%";b.current.firstChild;)b.current.removeChild(b.current.firstChild);b.current.appendChild(j.canvas);const q=`
attribute vec2 position;
varying vec2 vUv;
void main() {
  vUv = position * 0.5 + 0.5;
  gl_Position = vec4(position, 0.0, 1.0);
}`,H=`precision highp float;

uniform float iTime;
uniform vec2  iResolution;

uniform vec2  rayPos;
uniform vec2  rayDir;
uniform vec3  raysColor;
uniform float raysSpeed;
uniform float lightSpread;
uniform float rayLength;
uniform float pulsating;
uniform float fadeDistance;
uniform float saturation;
uniform vec2  mousePos;
uniform float mouseInfluence;
uniform float noiseAmount;
uniform float distortion;

varying vec2 vUv;

float noise(vec2 st) {
  return fract(sin(dot(st.xy, vec2(12.9898,78.233))) * 43758.5453123);
}

float rayStrength(vec2 raySource, vec2 rayRefDirection, vec2 coord,
                  float seedA, float seedB, float speed) {
  vec2 sourceToCoord = coord - raySource;
  vec2 dirNorm = normalize(sourceToCoord);
  float cosAngle = dot(dirNorm, rayRefDirection);

  float distortedAngle = cosAngle + distortion * sin(iTime * 2.0 + length(sourceToCoord) * 0.01) * 0.2;
  
  float spreadFactor = pow(max(distortedAngle, 0.0), 1.0 / max(lightSpread, 0.001));

  float distance = length(sourceToCoord);
  float maxDistance = iResolution.x * rayLength;
  float lengthFalloff = clamp((maxDistance - distance) / maxDistance, 0.0, 1.0);
  
  float fadeFalloff = clamp((iResolution.x * fadeDistance - distance) / (iResolution.x * fadeDistance), 0.5, 1.0);
  float pulse = pulsating > 0.5 ? (0.8 + 0.2 * sin(iTime * speed * 3.0)) : 1.0;

  float baseStrength = clamp(
    (0.45 + 0.15 * sin(distortedAngle * seedA + iTime * speed)) +
    (0.3 + 0.2 * cos(-distortedAngle * seedB + iTime * speed)),
    0.0, 1.0
  );

  return baseStrength * lengthFalloff * fadeFalloff * spreadFactor * pulse;
}

void mainImage(out vec4 fragColor, in vec2 fragCoord) {
  vec2 coord = vec2(fragCoord.x, iResolution.y - fragCoord.y);
  
  vec2 finalRayDir = rayDir;
  if (mouseInfluence > 0.0) {
    vec2 mouseScreenPos = mousePos * iResolution.xy;
    vec2 mouseDirection = normalize(mouseScreenPos - rayPos);
    finalRayDir = normalize(mix(rayDir, mouseDirection, mouseInfluence));
  }

  vec4 rays1 = vec4(1.0) *
               rayStrength(rayPos, finalRayDir, coord, 36.2214, 21.11349,
                           1.5 * raysSpeed);
  vec4 rays2 = vec4(1.0) *
               rayStrength(rayPos, finalRayDir, coord, 22.3991, 18.0234,
                           1.1 * raysSpeed);

  fragColor = rays1 * 0.5 + rays2 * 0.4;

  if (noiseAmount > 0.0) {
    float n = noise(coord * 0.01 + iTime * 0.1);
    fragColor.rgb *= (1.0 - noiseAmount + noiseAmount * n);
  }

  float brightness = 1.0 - (coord.y / iResolution.y);
  fragColor.x *= 0.1 + brightness * 0.8;
  fragColor.y *= 0.3 + brightness * 0.6;
  fragColor.z *= 0.5 + brightness * 0.5;

  if (saturation != 1.0) {
    float gray = dot(fragColor.rgb, vec3(0.299, 0.587, 0.114));
    fragColor.rgb = mix(vec3(gray), fragColor.rgb, saturation);
  }

  fragColor.rgb *= raysColor;
}

void main() {
  vec4 color;
  mainImage(color, gl_FragCoord.xy);
  gl_FragColor  = color;
}`,G={iTime:{value:0},iResolution:{value:[1,1]},rayPos:{value:[0,0]},rayDir:{value:[0,1]},raysColor:{value:nO(e)},raysSpeed:{value:n},lightSpread:{value:r},rayLength:{value:i},pulsating:{value:s?1:0},fadeDistance:{value:o},saturation:{value:l},mousePos:{value:[.5,.5]},mouseInfluence:{value:d},noiseAmount:{value:f},distortion:{value:m}};T.current=G;const he=new _ne(j),we=new vte(j,{vertex:q,fragment:H,uniforms:G}),Q=new wne(j,{geometry:he,program:we});N.current=Q;const ae=()=>{if(!b.current||!O)return;O.dpr=Math.min(window.devicePixelRatio,2);const{clientWidth:Ee,clientHeight:K}=b.current;O.setSize(Ee,K);const ue=O.dpr,ce=Ee*ue,fe=K*ue;G.iResolution.value=[ce,fe];const{anchor:Ce,dir:Ve}=rO(t,ce,fe);G.rayPos.value=Ce,G.rayDir.value=Ve},Z=Ee=>{if(!(!S.current||!T.current||!N.current)){G.iTime.value=Ee*.001,u&&d>0&&(C.current.x=C.current.x*.92+A.current.x*(1-.92),C.current.y=C.current.y*.92+A.current.y*(1-.92),G.mousePos.value=[C.current.x,C.current.y]);try{O.render({scene:Q}),D.current=requestAnimationFrame(Z)}catch(K){console.warn("WebGL rendering error:",K);return}}};window.addEventListener("resize",ae),ae(),D.current=requestAnimationFrame(Z),F.current=()=>{if(D.current&&(cancelAnimationFrame(D.current),D.current=null),window.removeEventListener("resize",ae),O)try{const Ee=O.gl.canvas,K=O.gl.getExtension("WEBGL_lose_context");K&&K.loseContext(),Ee&&Ee.parentNode&&Ee.parentNode.removeChild(Ee)}catch(Ee){console.warn("Error during WebGL cleanup:",Ee)}S.current=null,T.current=null,N.current=null}}),()=>{F.current&&(F.current(),F.current=null)}),[V,t,e,n,r,i,s,o,l,u,d,f,m]),M.useEffect(()=>{if(!T.current||!b.current||!S.current)return;const R=T.current,O=S.current;R.raysColor.value=nO(e),R.raysSpeed.value=n,R.lightSpread.value=r,R.rayLength.value=i,R.pulsating.value=s?1:0,R.fadeDistance.value=o,R.saturation.value=l,R.mouseInfluence.value=d,R.noiseAmount.value=f,R.distortion.value=m;const{clientWidth:j,clientHeight:q}=b.current,H=O.dpr,{anchor:G,dir:he}=rO(t,j*H,q*H);R.rayPos.value=G,R.rayDir.value=he},[e,n,r,t,i,s,o,l,d,f,m]),M.useEffect(()=>{const R=O=>{if(!b.current||!S.current)return;const j=b.current.getBoundingClientRect(),q=(O.clientX-j.left)/j.width,H=(O.clientY-j.top)/j.height;A.current={x:q,y:H}};if(u)return window.addEventListener("mousemove",R),()=>window.removeEventListener("mousemove",R)},[u]),x.jsx("div",{ref:b,className:`w-full h-full pointer-events-none z-[3] overflow-hidden relative ${v}`.trim()})},Sne=t=>x.jsxs("svg",xe(Y({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t),{children:[x.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),x.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),x.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})),af=t=>x.jsxs("svg",xe(Y({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},t),{children:[x.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5-10-5-10 5z",opacity:"0.6"}),x.jsx("path",{d:"M2 12l10 5 10-5-10-5-10 5z"})]})),MB=t=>x.jsx("svg",xe(Y({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t),{children:x.jsx("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})})),S0=t=>x.jsxs("svg",xe(Y({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t),{children:[x.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),x.jsx("circle",{cx:"12",cy:"7",r:"4"})]})),DB=t=>x.jsxs("svg",xe(Y({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t),{children:[x.jsx("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"}),x.jsx("path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"})]})),Ar=t=>x.jsx("svg",xe(Y({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t),{children:x.jsx("path",{d:"M9 18h6M10 22h4M12 2a7 7 0 0 0-7 7c0 3.03 1.09 5.25 3 7h8c1.91-1.75 3-3.97 3-7a7 7 0 0 0-7-7z"})})),tI=t=>x.jsxs("svg",xe(Y({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t),{children:[x.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),x.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})),Ane=t=>x.jsxs("svg",xe(Y({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t),{children:[x.jsx("path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.3.05-3.1S5.21 15.66 4.5 16.5z"}),x.jsx("path",{d:"M7.5 12.5c0-1.5-1.14-2.5-2.5-3S3.5 6.5 3.5 5c0-1.5 1.14-2.5 2.5-3S8.5 3.5 8.5 5c0 1.5-1.14 2.5-2.5 3S3.5 9.5 3.5 11"}),x.jsx("path",{d:"M14.5 6.5c1.5-1.26 2-5 2-5s-3.74.5-5 2c-.71.84-.7 2.3-.05 3.1s1.34 1.25 2.05 1.4z"}),x.jsx("path",{d:"M16.5 11.5c0 1.5 1.14 2.5 2.5 3s1.5 2.5 1.5 4c0 1.5-1.14 2.5-2.5 3s-2.5-1.5-2.5-3c0-1.5 1.14-2.5 2.5-3s1.5-2.5 1.5-4"}),x.jsx("path",{d:"M13 10.29V5a2 2 0 0 1 2-2h4"}),x.jsx("path",{d:"m5 19 4-4"})]})),xa=t=>x.jsxs("svg",xe(Y({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t),{children:[x.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),x.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})),Cne=t=>x.jsxs("svg",xe(Y({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t),{children:[x.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),x.jsx("circle",{cx:"12",cy:"10",r:"3"})]})),Ine=t=>x.jsx("svg",xe(Y({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t),{children:x.jsx("path",{d:"M12 2a2.5 2.5 0 0 0-2.5 2.5v.7a1 1 0 0 1-1.2.9L7.2 6.3a2.5 2.5 0 1 0-2.9 4.4l1.3 1.6a1 1 0 0 1 0 1.4l-1.3 1.6a2.5 2.5 0 1 0 2.9 4.4l1.1-.8a1 1 0 0 1 1.2.9v.7a2.5 2.5 0 1 0 5 0v-.7a1 1 0 0 1 1.2-.9l1.1.8a2.5 2.5 0 1 0 2.9-4.4l-1.3-1.6a1 1 0 0 1 0-1.4l1.3-1.6a2.5 2.5 0 1 0-2.9-4.4l-1.1.8a1 1 0 0 1-1.2-.9v-.7A2.5 2.5 0 0 0 12 2zM4.5 12.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2zM19.5 12.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2zM12 21.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2zM12 4.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"})})),nI=t=>x.jsxs("svg",xe(Y({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t),{children:[x.jsx("polyline",{points:"16 18 22 12 16 6"}),x.jsx("polyline",{points:"8 6 2 12 8 18"})]})),Rne=t=>x.jsxs("svg",xe(Y({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t),{children:[x.jsx("circle",{cx:"12",cy:"12",r:"10"}),x.jsx("circle",{cx:"12",cy:"12",r:"6"}),x.jsx("circle",{cx:"12",cy:"12",r:"2"})]})),lf=t=>x.jsxs("svg",xe(Y({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t),{children:[x.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),x.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]})),xA=t=>x.jsx("svg",xe(Y({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t),{children:x.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})),Sf=t=>x.jsx("svg",xe(Y({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t),{children:x.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})),uo=t=>x.jsxs("svg",xe(Y({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t),{children:[x.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),x.jsx("circle",{cx:"9",cy:"7",r:"4"}),x.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),x.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})),uf=t=>x.jsxs("svg",xe(Y({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t),{children:[x.jsx("path",{d:"M18 6 7 17l-5-5"}),x.jsx("path",{d:"m22 10-7.5 7.5L13 16"})]})),Pne=t=>x.jsxs("svg",xe(Y({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t),{children:[x.jsx("path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}),x.jsx("polyline",{points:"10 17 15 12 10 7"}),x.jsx("line",{x1:"15",y1:"12",x2:"3",y2:"12"})]})),YT=t=>x.jsxs("svg",xe(Y({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t),{children:[x.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),x.jsx("polyline",{points:"16 17 21 12 16 7"}),x.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})),tx=t=>x.jsxs("svg",xe(Y({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t),{children:[x.jsx("circle",{cx:"11",cy:"11",r:"8"}),x.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})),kB=t=>x.jsxs("svg",xe(Y({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t),{children:[x.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),x.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})),rI=t=>x.jsx("svg",xe(Y({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t),{children:x.jsx("polyline",{points:"20 6 9 17 4 12"})})),Nne=t=>x.jsxs("svg",xe(Y({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t),{children:[x.jsx("circle",{cx:"12",cy:"12",r:"10"}),x.jsx("polyline",{points:"12 6 12 12 16 14"})]})),Il=t=>x.jsxs("svg",xe(Y({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t),{children:[x.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),x.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),x.jsx("line",{x1:"20",y1:"8",x2:"20",y2:"14"}),x.jsx("line",{x1:"17",y1:"11",x2:"23",y2:"11"})]})),iO=t=>x.jsxs("svg",xe(Y({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t),{children:[x.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.72"}),x.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.72-1.72"})]})),OB=t=>x.jsxs("svg",xe(Y({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t),{children:[x.jsx("polyline",{points:"3 6 5 6 21 6"}),x.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})),VB=t=>x.jsxs("svg",xe(Y({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t),{children:[x.jsx("circle",{cx:"12",cy:"12",r:"10"}),x.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),x.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]})),Mne=t=>x.jsxs("svg",xe(Y({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t),{children:[x.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),x.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),x.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})),cf=t=>x.jsx("svg",xe(Y({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t),{children:x.jsx("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})})),df=t=>x.jsx("svg",xe(Y({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t),{children:x.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})),Dne=t=>x.jsx("svg",xe(Y({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t),{children:x.jsx("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})})),JT=t=>x.jsxs("svg",xe(Y({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t),{children:[x.jsx("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),x.jsx("polyline",{points:"17 6 23 6 23 12"})]})),kne=t=>x.jsxs("svg",xe(Y({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t),{children:[x.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),x.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]})),LB=t=>x.jsxs("svg",xe(Y({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t),{children:[x.jsx("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),x.jsx("polyline",{points:"12 19 5 12 12 5"})]})),One=()=>{const t=()=>{window.location.href="/Grow-With-Me-AI/auth"};return x.jsxs("div",{className:"min-h-screen w-full font-sans text-white flex flex-col overflow-hidden",children:[x.jsx("div",{className:"fixed top-0 left-0 w-screen h-screen",children:x.jsx(Ene,{raysOrigin:"top-center",raysColor:"#f6f8f8ff",raysSpeed:1.5,lightSpread:.8,rayLength:3,followMouse:!0,mouseInfluence:.3,noiseAmount:.1,distortion:.05,className:"w-full h-full"})}),x.jsxs("div",{className:"relative z-10 flex flex-col items-center w-full flex-grow",children:[x.jsxs("header",{className:"w-full flex items-center justify-between px-2 md:px-12 mb-8",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(af,{className:"w-8 h-8 text-indigo-500"}),x.jsx("span",{className:"text-md md:text-xl font-semibold text-white tracking-tight",children:"Grow With Me"})]}),x.jsx("button",{className:"bg-white text-[#18141c] rounded-2xl px-6 py-2 font-medium text-base shadow hover:bg-gray-200 transition",onClick:t,children:"Get Started"})]}),x.jsxs("main",{className:"flex flex-col items-stretch justify-start text-center max-w-3xl mx-auto w-full overflow-y-auto",children:[x.jsxs("h1",{className:"text-4xl md:text-7xl font-bold mb-6 leading-tight",children:["Find Your Perfect",x.jsx("br",{}),x.jsx("span",{className:"text-indigo-500",children:"Co-Founder"})]}),x.jsx("p",{className:"text-base md:text-lg text-gray-300 mb-8 font-light",children:"Empowering founders, innovators, and investors to connect, collaborate, and launch world-changing startups. Move your mouse to see the interactive light rays background!"}),x.jsxs("section",{className:"w-full mb-8 text-left bg-white/5 rounded-xl p-6 shadow-lg",children:[x.jsx("h2",{className:"text-2xl font-bold text-indigo-400 mb-3",children:"About Grow With Me"}),x.jsx("p",{className:"text-gray-200 text-base mb-4",children:"Grow With Me is a next-generation platform designed to break down barriers and make entrepreneurship accessible to everyone, everywhere."}),x.jsxs("ul",{className:"list-disc pl-5 text-gray-300 text-sm space-y-2",children:[x.jsx("li",{children:"AI-driven matchmaking for co-founders and teams"}),x.jsx("li",{children:"Secure, global networking and messaging"}),x.jsx("li",{children:"Real-time feedback and mentorship"}),x.jsx("li",{children:"Investor pitch and negotiation tools"})]})]}),x.jsxs("section",{className:"w-full mb-8",children:[x.jsx("h2",{className:"text-xl font-semibold text-indigo-400 mb-4 text-left",children:"Key Features"}),x.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[x.jsxs("div",{className:"bg-white/10 rounded-lg p-5 text-left",children:[x.jsx("h3",{className:"text-white font-semibold mb-2",children:"Smart Matchmaking"}),x.jsx("p",{className:"text-gray-300 text-sm",children:"Advanced algorithms analyze compatibility across skills, goals, and vision to connect you with the perfect co-founder."})]}),x.jsxs("div",{className:"bg-white/10 rounded-lg p-5 text-left",children:[x.jsx("h3",{className:"text-white font-semibold mb-2",children:"Global Community"}),x.jsx("p",{className:"text-gray-300 text-sm",children:"Connect with thousands of entrepreneurs, investors, and innovators from around the world."})]}),x.jsxs("div",{className:"bg-white/10 rounded-lg p-5 text-left",children:[x.jsx("h3",{className:"text-white font-semibold mb-2",children:"Secure Collaboration"}),x.jsx("p",{className:"text-gray-300 text-sm",children:"Bank-level encryption and privacy controls ensure your ideas and conversations remain confidential."})]}),x.jsxs("div",{className:"bg-white/10 rounded-lg p-5 text-left",children:[x.jsx("h3",{className:"text-white font-semibold mb-2",children:"Launch & Grow"}),x.jsx("p",{className:"text-gray-300 text-sm",children:"From ideation to execution, our platform provides the tools and connections to bring your vision to life."})]})]})]}),x.jsxs("section",{className:"w-full mb-8",children:[x.jsx("h2",{className:"text-xl font-semibold text-indigo-400 mb-4 text-left",children:"How It Works"}),x.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx("div",{className:"bg-indigo-500 rounded-full w-10 h-10 flex items-center justify-center text-white font-bold mb-2",children:"1"}),x.jsx("span",{className:"text-gray-200 text-sm",children:"Sign Up & Create Profile"})]}),x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx("div",{className:"bg-indigo-500 rounded-full w-10 h-10 flex items-center justify-center text-white font-bold mb-2",children:"2"}),x.jsx("span",{className:"text-gray-200 text-sm",children:"Share Ideas & Connect"})]}),x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx("div",{className:"bg-indigo-500 rounded-full w-10 h-10 flex items-center justify-center text-white font-bold mb-2",children:"3"}),x.jsx("span",{className:"text-gray-200 text-sm",children:"Build Teams & Pitch"})]}),x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx("div",{className:"bg-indigo-500 rounded-full w-10 h-10 flex items-center justify-center text-white font-bold mb-2",children:"4"}),x.jsx("span",{className:"text-gray-200 text-sm",children:"Launch & Grow"})]})]})]}),x.jsxs("section",{className:"w-full mb-8",children:[x.jsx("h2",{className:"text-xl font-semibold text-indigo-400 mb-4 text-left",children:"Meet the Team"}),x.jsxs("div",{className:"flex flex-wrap gap-10 justify-center",children:[x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx("img",{src:"/team1.png",alt:"Namith KP",className:"w-16 h-16 rounded-full mb-2 border-2 border-indigo-500",onError:e=>{e.currentTarget.src="https://ui-avatars.com/api/?name=Namith+KP&background=4f46e5&color=fff"}}),x.jsx("span",{className:"text-white font-medium",children:"Namith"}),x.jsx("span",{className:"text-gray-400 text-xs",children:"Founder & Lead Developer"})]}),x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx("img",{src:"/team2.png",alt:"Co-Founder",className:"w-16 h-16 rounded-full mb-2 border-2 border-indigo-500",onError:e=>{e.currentTarget.src="https://ui-avatars.com/api/?name=Akash+Kumar&background=4f46e5&color=fff"}}),x.jsx("span",{className:"text-white font-medium",children:"Akash Kumar"}),x.jsx("span",{className:"text-gray-400 text-xs",children:"Co-Founder & Product"})]}),x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx("img",{src:"/team3.png",alt:"Marketing Specialist",className:"w-16 h-16 rounded-full mb-2 border-2 border-indigo-500",onError:e=>{e.currentTarget.src="https://ui-avatars.com/api/?name=Gagan&background=4f46e5&color=fff"}}),x.jsx("span",{className:"text-white font-medium",children:"Gagan"}),x.jsx("span",{className:"text-gray-400 text-xs",children:"Marketing Specialist"})]}),x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx("img",{src:"/team3.png",alt:"Product Analyst",className:"w-16 h-16 rounded-full mb-2 border-2 border-indigo-500",onError:e=>{e.currentTarget.src="https://ui-avatars.com/api/?name=Ujwal+Raj&background=4f46e5&color=fff"}}),x.jsx("span",{className:"text-white font-medium",children:"Ujwal Raj"}),x.jsx("span",{className:"text-gray-400 text-xs",children:"Product Analyst"})]})]})]})]})]})]})},Vne=t=>x.jsxs("svg",xe(Y({viewBox:"0 0 48 48"},t),{children:[x.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12s5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24s8.955,20,20,20s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),x.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),x.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),x.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571l6.19,5.238C42.02,35.625,44,30.036,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]})),Lne=()=>typeof navigator!="undefined"&&(/wv/.test(navigator.userAgent)||/Android/.test(navigator.userAgent)&&/Version\//.test(navigator.userAgent)),Une=({onGoogleLogin:t,onGuestLogin:e,error:n,authUser:r})=>{const i=()=>{Lne()&&typeof window!="undefined"&&window.AndroidBridge?window.AndroidBridge.triggerGoogleSignIn():t()};return x.jsxs("div",{className:"relative min-h-screen w-full overflow-hidden bg-black",children:[x.jsxs("div",{className:"fixed inset-0 z-0",children:[x.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-950 via-black to-slate-950"}),x.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-emerald-500/10 rounded-full blur-3xl animate-pulse-slow"}),x.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-80 h-80 bg-purple-500/10 rounded-full blur-3xl animate-pulse-slow",style:{animationDelay:"2s"}}),x.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.02)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.02)_1px,transparent_1px)] bg-[size:100px_100px]"})]}),x.jsxs("div",{className:"flex flex-col items-center z-30 pt-10 mb-5 relative",children:[x.jsxs("div",{className:"relative flex items-center justify-center mb-2",children:[x.jsx("div",{className:"absolute -inset-2 sm:-inset-3 rounded-full bg-gradient-to-br from-purple-500/40 via-fuchsia-400/30 to-blue-400/30 blur-xl animate-pulse-slow"}),x.jsx(af,{className:"w-20 h-20 sm:w-28 sm:h-28 text-emerald-400 drop-shadow-2xl z-10"})]}),x.jsxs("span",{className:"text-3xl md:text-4xl font-light mb-4",children:["Sign in to",x.jsx("span",{className:"text-emerald-400 font-light",children:" Grow With Me"})]})]}),x.jsxs("div",{className:"relative max-w-md w-full mx-auto bg-gradient-to-br from-neutral-900/90 via-neutral-900/80 to-neutral-800/90 border border-emerald-400/20 rounded-2xl p-8 space-y-6 shadow-2xl shadow-emerald-900/20 z-30 backdrop-blur-xl",children:[x.jsx("h2",{className:"text-3xl font-light text-white mb-2",children:"Join the Network"}),x.jsx("p",{className:"text-neutral-300 text-lg font-light",children:"Sign in to save your profile and connect with others, or continue as a guest to explore the platform."}),x.jsxs("div",{className:"flex flex-col space-y-4 pt-4",children:[n&&x.jsx("div",{className:"text-red-400 bg-red-900/50 p-3 rounded-lg text-sm mb-4 text-left",children:n}),!r&&x.jsxs("button",{onClick:i,className:"flex items-center justify-center gap-3 bg-gradient-to-r from-emerald-500 via-emerald-400 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white font-bold py-3 px-6 rounded-lg transition-all duration-300 shadow-lg shadow-emerald-600/20 text-lg tracking-wide border-2 border-white/10 focus:outline-none focus:ring-4 focus:ring-emerald-400/30",children:[x.jsx(Vne,{className:"w-6 h-6"}),"Sign In with Google"]}),x.jsx("button",{onClick:e,className:"flex items-center justify-center gap-3 bg-neutral-800 hover:bg-neutral-700 text-white font-bold py-3 px-6 rounded-lg transition-colors duration-300 w-full border border-neutral-700/40 text-lg",children:"Continue as Guest"})]})]})]})},Fne=({onOnboardingComplete:t,userProfile:e,loading:n=!1,error:r=null})=>{const[i,s]=M.useState(1),[o,l]=M.useState({name:"",role:yt.Founder,location:"",interests:"",skills:"",experience:"",lookingFor:"",interestedDomains:"",investmentExperience:"",minBudget:"",maxBudget:"",minEquity:"",maxEquity:""});M.useEffect(()=>{var b,T,S,A,C,D;e&&l({name:e.name,role:e.role,location:e.location,interests:e.interests.join(", "),skills:e.skills.join(", "),experience:e.experience||"",lookingFor:e.lookingFor,interestedDomains:((b=e.investorProfile)==null?void 0:b.interestedDomains.join(", "))||"",investmentExperience:((T=e.investorProfile)==null?void 0:T.investmentExperience)||"",minBudget:((S=e.investorProfile)==null?void 0:S.budget.min.toString())||"",maxBudget:((A=e.investorProfile)==null?void 0:A.budget.max.toString())||"",minEquity:((C=e.investorProfile)==null?void 0:C.expectedEquity.min.toString())||"",maxEquity:((D=e.investorProfile)==null?void 0:D.expectedEquity.max.toString())||""})},[e]);const u=b=>{const{name:T,value:S}=b.target;l(A=>xe(Y({},A),{[T]:S}))},d=()=>s(b=>b+1),f=()=>s(b=>b-1),m=()=>{const b={name:o.name,role:o.role,location:o.location,interests:o.interests.split(",").map(S=>S.trim()).filter(S=>S),skills:o.skills.split(",").map(S=>S.trim()).filter(S=>S),lookingFor:o.lookingFor};let T;o.role===yt.Investor?T=xe(Y({},b),{investorProfile:{interestedDomains:o.interestedDomains.split(",").map(S=>S.trim()).filter(S=>S),investmentExperience:o.investmentExperience,budget:{min:parseInt(o.minBudget,10)||0,max:parseInt(o.maxBudget,10)||0},expectedEquity:{min:parseInt(o.minEquity,10)||0,max:parseInt(o.maxEquity,10)||0}}}):T=xe(Y({},b),{experience:o.experience}),t(T)},v=[{title:"Your Role",icon:x.jsx(S0,{className:"w-6 h-6"})},{title:"About You",icon:x.jsx(DB,{className:"w-6 h-6"})},{title:"Your Vision",icon:x.jsx(Ar,{className:"w-6 h-6"})},{title:"Confirmation",icon:x.jsx(tI,{className:"w-6 h-6"})}];return x.jsxs("div",{className:"max-w-3xl mx-auto p-4 sm:p-8 bg-neutral-900 rounded-2xl shadow-2xl shadow-purple-900/10 border border-neutral-800",children:[x.jsx("div",{className:"mb-8",children:x.jsx("ol",{className:"flex items-center w-full",children:v.map((b,T)=>x.jsx("li",{className:`flex w-full items-center ${T+1<v.length?"after:content-[''] after:w-full after:h-1 after:border-b after:border-neutral-700 after:inline-block":""} ${T<i?"text-purple-500":"text-neutral-500"}`,children:x.jsx("span",{className:`flex items-center justify-center w-10 h-10 rounded-full lg:h-12 lg:w-12 shrink-0 ${T<i?"bg-purple-900/50":"bg-neutral-800"}`,children:b.icon})},T))})}),x.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:v[i-1].title}),x.jsx("p",{className:"text-neutral-400 mb-8",children:"Let's build your profile to find the best matches."}),x.jsxs("div",{className:"space-y-6",children:[i===1&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-neutral-300 mb-2",children:"Full Name"}),x.jsx("input",{type:"text",name:"name",id:"name",value:o.name,onChange:u,className:"w-full bg-neutral-800 border border-neutral-700 rounded-lg p-3 text-white focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"e.g., Ada Lovelace",required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-neutral-300 mb-2",children:"What is your primary role?"}),x.jsx("select",{name:"role",id:"role",value:o.role,onChange:u,className:"w-full bg-neutral-800 border border-neutral-700 rounded-lg p-3 text-white focus:ring-2 focus:ring-purple-500 focus:border-purple-500",required:!0,children:Object.values(yt).map(b=>x.jsx("option",{value:b,children:b},b))})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-neutral-300 mb-2",children:"Location"}),x.jsx("input",{type:"text",name:"location",id:"location",value:o.location,onChange:u,className:"w-full bg-neutral-800 border border-neutral-700 rounded-lg p-3 text-white focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"e.g., London, UK",required:!0})]})]}),i===2&&o.role===yt.Investor&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"interestedDomains",className:"block text-sm font-medium text-neutral-300 mb-2",children:"Domains of Interest (comma-separated)"}),x.jsx("input",{type:"text",name:"interestedDomains",id:"interestedDomains",value:o.interestedDomains,onChange:u,className:"w-full bg-neutral-800 border border-neutral-700 rounded-lg p-3 text-white",placeholder:"e.g., SaaS, Deep Tech, HealthTech",required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"investmentExperience",className:"block text-sm font-medium text-neutral-300 mb-2",children:"Investment Experience"}),x.jsx("textarea",{name:"investmentExperience",id:"investmentExperience",rows:4,value:o.investmentExperience,onChange:u,className:"w-full bg-neutral-800 border border-neutral-700 rounded-lg p-3 text-white",placeholder:"Describe your past investments and what you look for in a startup.",required:!0})]})]}),i===3&&o.role===yt.Investor&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"minBudget",className:"block text-sm font-medium text-neutral-300 mb-2",children:"Investment Budget (Min)"}),x.jsx("input",{type:"number",name:"minBudget",id:"minBudget",value:o.minBudget,onChange:u,className:"w-full bg-neutral-800 border border-neutral-700 rounded-lg p-3 text-white",placeholder:"e.g., 25000",required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"maxBudget",className:"block text-sm font-medium text-neutral-300 mb-2",children:"Investment Budget (Max)"}),x.jsx("input",{type:"number",name:"maxBudget",id:"maxBudget",value:o.maxBudget,onChange:u,className:"w-full bg-neutral-800 border border-neutral-700 rounded-lg p-3 text-white",placeholder:"e.g., 100000",required:!0})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"minEquity",className:"block text-sm font-medium text-neutral-300 mb-2",children:"Expected Equity (Min %)"}),x.jsx("input",{type:"number",name:"minEquity",id:"minEquity",value:o.minEquity,onChange:u,className:"w-full bg-neutral-800 border border-neutral-700 rounded-lg p-3 text-white",placeholder:"e.g., 5",required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"maxEquity",className:"block text-sm font-medium text-neutral-300 mb-2",children:"Expected Equity (Max %)"}),x.jsx("input",{type:"number",name:"maxEquity",id:"maxEquity",value:o.maxEquity,onChange:u,className:"w-full bg-neutral-800 border border-neutral-700 rounded-lg p-3 text-white",placeholder:"e.g., 15",required:!0})]})]})]}),i===2&&o.role!==yt.Investor&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"skills",className:"block text-sm font-medium text-neutral-300 mb-2",children:"Your Top Skills (comma-separated)"}),x.jsx("input",{type:"text",name:"skills",id:"skills",value:o.skills,onChange:u,className:"w-full bg-neutral-800 border border-neutral-700 rounded-lg p-3 text-white focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"e.g., React, Node.js, Product Management",required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"experience",className:"block text-sm font-medium text-neutral-300 mb-2",children:"Your Experience"}),x.jsx("textarea",{name:"experience",id:"experience",rows:4,value:o.experience,onChange:u,className:"w-full bg-neutral-800 border border-neutral-700 rounded-lg p-3 text-white focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Describe your professional background and key achievements.",required:!0})]})]}),i===3&&o.role!==yt.Investor&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"interests",className:"block text-sm font-medium text-neutral-300 mb-2",children:"Your Interests (comma-separated)"}),x.jsx("input",{type:"text",name:"interests",id:"interests",value:o.interests,onChange:u,className:"w-full bg-neutral-800 border border-neutral-700 rounded-lg p-3 text-white focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"e.g., AI, FinTech, Sustainable Tech",required:!0})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"lookingFor",className:"block text-sm font-medium text-neutral-300 mb-2",children:"What are you looking for in a co-founder?"}),x.jsx("textarea",{name:"lookingFor",id:"lookingFor",rows:4,value:o.lookingFor,onChange:u,className:"w-full bg-neutral-800 border border-neutral-700 rounded-lg p-3 text-white focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Describe your ideal partner's skills, role, and mindset.",required:!0})]})]}),i===4&&x.jsxs("div",{className:"bg-neutral-800/50 p-6 rounded-lg border border-neutral-700",children:[x.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Review Your Profile"}),x.jsxs("p",{children:[x.jsx("strong",{children:"Name:"})," ",o.name]}),x.jsxs("p",{children:[x.jsx("strong",{children:"Role:"})," ",o.role]}),x.jsxs("p",{children:[x.jsx("strong",{children:"Location:"})," ",o.location]}),o.role===yt.Investor?x.jsxs(x.Fragment,{children:[x.jsxs("p",{children:[x.jsx("strong",{children:"Domains:"})," ",o.interestedDomains]}),x.jsxs("p",{children:[x.jsx("strong",{children:"Budget:"})," $",o.minBudget," - $",o.maxBudget]}),x.jsxs("p",{children:[x.jsx("strong",{children:"Equity:"})," ",o.minEquity,"% - ",o.maxEquity,"%"]})]}):x.jsxs(x.Fragment,{children:[x.jsxs("p",{children:[x.jsx("strong",{children:"Skills:"})," ",o.skills]}),x.jsxs("p",{children:[x.jsx("strong",{children:"Interests:"})," ",o.interests]})]}),x.jsx("p",{className:"mt-4",children:"Ready to find your match?"})]})]}),x.jsxs("div",{className:"mt-8 flex justify-between",children:[x.jsx("button",{onClick:f,disabled:i===1,className:"bg-neutral-700 hover:bg-neutral-600 text-white font-bold py-2 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Back"}),i<4?x.jsx("button",{onClick:d,className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:"Next"}):x.jsxs("button",{onClick:m,disabled:n,className:`bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition-colors flex items-center gap-2 ${n?"opacity-50 cursor-not-allowed":""}`,children:[n?x.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[x.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),x.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}):x.jsx(Ane,{className:"w-5 h-5"}),"Finish & Find Matches"]})]}),r&&x.jsx("div",{className:"mt-4 text-red-500 font-semibold text-center",children:r})]})};function UB(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=UB(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Gt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=UB(t))&&(r&&(r+=" "),r+=e);return r}var QT={},XT={},sO;function jne(){return sO||(sO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(XT)),XT}var ZT={},oO;function FB(){return oO||(oO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(ZT)),ZT}var eE={},aO;function jB(){return aO||(aO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(eE)),eE}var tE={},lO;function iI(){return lO||(lO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let s=0,o="",l="",u=!1;for(n.charCodeAt(0)===46&&(r.push(""),s++);s<i;){const d=n[s];l?d==="\\"&&s+1<i?(s++,o+=n[s]):d===l?l="":o+=d:u?d==='"'||d==="'"?l=d:d==="]"?(u=!1,r.push(o),o=""):o+=d:d==="["?(u=!0,o&&(r.push(o),o="")):d==="."?o&&(r.push(o),o=""):o+=d,s++}return o&&r.push(o),r}t.toPath=e})(tE)),tE}var uO;function sI(){return uO||(uO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jne(),n=FB(),r=jB(),i=iI();function s(l,u,d){if(l==null)return d;switch(typeof u){case"string":{if(e.isUnsafeProperty(u))return d;const f=l[u];return f===void 0?n.isDeepKey(u)?s(l,i.toPath(u),d):d:f}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const f=l[u];return f===void 0?d:f}default:{if(Array.isArray(u))return o(l,u,d);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),e.isUnsafeProperty(u))return d;const f=l[u];return f===void 0?d:f}}}function o(l,u,d){if(u.length===0)return d;let f=l;for(let m=0;m<u.length;m++){if(f==null||e.isUnsafeProperty(u[m]))return d;f=f[u[m]]}return f===void 0?d:f}t.get=s})(QT)),QT}var nE,cO;function Bne(){return cO||(cO=1,nE=sI().get),nE}var qne=Bne();const Ic=Eo(qne);var rE={exports:{}},kt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dO;function zne(){if(dO)return kt;dO=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,u=t?Symbol.for("react.async_mode"):60111,d=t?Symbol.for("react.concurrent_mode"):60111,f=t?Symbol.for("react.forward_ref"):60112,m=t?Symbol.for("react.suspense"):60113,v=t?Symbol.for("react.suspense_list"):60120,b=t?Symbol.for("react.memo"):60115,T=t?Symbol.for("react.lazy"):60116,S=t?Symbol.for("react.block"):60121,A=t?Symbol.for("react.fundamental"):60117,C=t?Symbol.for("react.responder"):60118,D=t?Symbol.for("react.scope"):60119;function N(V){if(typeof V=="object"&&V!==null){var B=V.$$typeof;switch(B){case e:switch(V=V.type,V){case u:case d:case r:case s:case i:case m:return V;default:switch(V=V&&V.$$typeof,V){case l:case f:case T:case b:case o:return V;default:return B}}case n:return B}}}function F(V){return N(V)===d}return kt.AsyncMode=u,kt.ConcurrentMode=d,kt.ContextConsumer=l,kt.ContextProvider=o,kt.Element=e,kt.ForwardRef=f,kt.Fragment=r,kt.Lazy=T,kt.Memo=b,kt.Portal=n,kt.Profiler=s,kt.StrictMode=i,kt.Suspense=m,kt.isAsyncMode=function(V){return F(V)||N(V)===u},kt.isConcurrentMode=F,kt.isContextConsumer=function(V){return N(V)===l},kt.isContextProvider=function(V){return N(V)===o},kt.isElement=function(V){return typeof V=="object"&&V!==null&&V.$$typeof===e},kt.isForwardRef=function(V){return N(V)===f},kt.isFragment=function(V){return N(V)===r},kt.isLazy=function(V){return N(V)===T},kt.isMemo=function(V){return N(V)===b},kt.isPortal=function(V){return N(V)===n},kt.isProfiler=function(V){return N(V)===s},kt.isStrictMode=function(V){return N(V)===i},kt.isSuspense=function(V){return N(V)===m},kt.isValidElementType=function(V){return typeof V=="string"||typeof V=="function"||V===r||V===d||V===s||V===i||V===m||V===v||typeof V=="object"&&V!==null&&(V.$$typeof===T||V.$$typeof===b||V.$$typeof===o||V.$$typeof===l||V.$$typeof===f||V.$$typeof===A||V.$$typeof===C||V.$$typeof===D||V.$$typeof===S)},kt.typeOf=N,kt}var fO;function $ne(){return fO||(fO=1,rE.exports=zne()),rE.exports}var Gne=$ne(),os=t=>t===0?0:t>0?1:-1,hs=t=>typeof t=="number"&&t!=+t,ic=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,He=t=>(typeof t=="number"||t instanceof Number)&&!hs(t),bo=t=>He(t)||typeof t=="string",Hne=0,sg=t=>{var e=++Hne;return"".concat(t||"").concat(e)},Ll=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!He(e)&&typeof e!="string")return r;var s;if(ic(e)){if(n==null)return r;var o=e.indexOf("%");s=n*parseFloat(e.slice(0,o))/100}else s=+e;return hs(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},BB=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function ep(t,e,n){return He(t)&&He(e)?t+n*(e-t):e}function qB(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Ic(r,e))===n)}var qn=t=>t===null||typeof t=="undefined",Gg=t=>qn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),Kne=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function oI(t){if(typeof t!="string")return!1;var e=Kne;return e.includes(t)}var Wne=["viewBox","children"],hO=["points","pathLength"],iE={svg:Wne,polygon:hO,polyline:hO},aI=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(M.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{oI(i)&&(r[i]=(s=>n[i](n,s)))}),r},Yne=(t,e,n)=>r=>(t(e,n,r),null),zB=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];oI(i)&&typeof s=="function"&&(r||(r={}),r[i]=Yne(s,e,n))}),r},Jne=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function $B(t){if(typeof t!="string")return!1;var e=Jne;return e.includes(t)}function xh(t){var e=Object.entries(t).filter(n=>{var[r]=n;return $B(r)});return Object.fromEntries(e)}var mO=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",pO=null,sE=null,GB=t=>{if(t===pO&&Array.isArray(sE))return sE;var e=[];return M.Children.forEach(t,n=>{qn(n)||(Gne.isFragment(n)?e=e.concat(GB(n.props.children)):e.push(n))}),sE=e,pO=t,e};function HB(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>mO(i)):r=[mO(e)],GB(t).forEach(i=>{var s=Ic(i,"type.displayName")||Ic(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}var KB=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,Qne=(t,e,n,r)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var s=(i=r&&(iE==null?void 0:iE[r]))!==null&&i!==void 0?i:[],o=e.startsWith("data-"),l=typeof t!="function"&&(!!r&&s.includes(e)||$B(e)),u=!!n&&oI(e);return o||l||u},Xn=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(M.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(s=>{var o;Qne((o=r)===null||o===void 0?void 0:o[s],s,e,n)&&(i[s]=r[s])}),i},Xne=["children","width","height","viewBox","className","style","title","desc"];function bA(){return bA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bA.apply(null,arguments)}function Zne(t,e){if(t==null)return{};var n,r,i=ere(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ere(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var lI=M.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:o,style:l,title:u,desc:d}=t,f=Zne(t,Xne),m=s||{width:r,height:i,x:0,y:0},v=Gt("recharts-surface",o);return M.createElement("svg",bA({},Xn(f,!0,"svg"),{className:v,width:r,height:i,style:l,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:e}),M.createElement("title",null,u),M.createElement("desc",null,d),n)}),tre=["children","className"];function wA(){return wA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wA.apply(null,arguments)}function nre(t,e){if(t==null)return{};var n,r,i=rre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ff=M.forwardRef((t,e)=>{var{children:n,className:r}=t,i=nre(t,tre),s=Gt("recharts-layer",r);return M.createElement("g",wA({className:s},Xn(i,!0),{ref:e}),n)}),WB=aj(),YB=M.createContext(null),ire=()=>M.useContext(YB);function Yt(t){return function(){return t}}const JB=Math.cos,nx=Math.sin,Os=Math.sqrt,rx=Math.PI,xb=2*rx,_A=Math.PI,TA=2*_A,Hu=1e-6,sre=TA-Hu;function QB(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function ore(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return QB;const n=ll(10,e);return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class are{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?QB:ore(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,u=r-e,d=i-n,f=o-e,m=l-n,v=f*f+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>Hu)if(!(Math.abs(m*u-d*f)>Hu)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let b=r-o,T=i-l,S=u*u+d*d,A=b*b+T*T,C=Math.sqrt(S),D=Math.sqrt(v),N=s*Math.tan((_A-Math.acos((S+v-A)/(2*C*D)))/2),F=N/D,V=N/C;Math.abs(F-1)>Hu&&this._append`L${e+F*f},${n+F*m}`,this._append`A${s},${s},0,0,${+(m*b>f*T)},${this._x1=e+V*u},${this._y1=n+V*d}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),u=r*Math.sin(i),d=e+l,f=n+u,m=1^o,v=o?i-s:s-i;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>Hu||Math.abs(this._y1-f)>Hu)&&this._append`L${d},${f}`,r&&(v<0&&(v=v%TA+TA),v>sre?this._append`A${r},${r},0,1,${m},${e-l},${n-u}A${r},${r},0,1,${m},${this._x1=d},${this._y1=f}`:v>Hu&&this._append`A${r},${r},0,${+(v>=_A)},${m},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function uI(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new are(e)}function cI(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function XB(t){this._context=t}XB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function bb(t){return new XB(t)}function ZB(t){return t[0]}function e6(t){return t[1]}function t6(t,e){var n=Yt(!0),r=null,i=bb,s=null,o=uI(l);t=typeof t=="function"?t:t===void 0?ZB:Yt(t),e=typeof e=="function"?e:e===void 0?e6:Yt(e);function l(u){var d,f=(u=cI(u)).length,m,v=!1,b;for(r==null&&(s=i(b=o())),d=0;d<=f;++d)!(d<f&&n(m=u[d],d,u))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+t(m,d,u),+e(m,d,u));if(b)return s=null,b+""||null}return l.x=function(u){return arguments.length?(t=typeof u=="function"?u:Yt(+u),l):t},l.y=function(u){return arguments.length?(e=typeof u=="function"?u:Yt(+u),l):e},l.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Yt(!!u),l):n},l.curve=function(u){return arguments.length?(i=u,r!=null&&(s=i(r)),l):i},l.context=function(u){return arguments.length?(u==null?r=s=null:s=i(r=u),l):r},l}function Kv(t,e,n){var r=null,i=Yt(!0),s=null,o=bb,l=null,u=uI(d);t=typeof t=="function"?t:t===void 0?ZB:Yt(+t),e=typeof e=="function"?e:Yt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?e6:Yt(+n);function d(m){var v,b,T,S=(m=cI(m)).length,A,C=!1,D,N=new Array(S),F=new Array(S);for(s==null&&(l=o(D=u())),v=0;v<=S;++v){if(!(v<S&&i(A=m[v],v,m))===C)if(C=!C)b=v,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),T=v-1;T>=b;--T)l.point(N[T],F[T]);l.lineEnd(),l.areaEnd()}C&&(N[v]=+t(A,v,m),F[v]=+e(A,v,m),l.point(r?+r(A,v,m):N[v],n?+n(A,v,m):F[v]))}if(D)return l=null,D+""||null}function f(){return t6().defined(i).curve(o).context(s)}return d.x=function(m){return arguments.length?(t=typeof m=="function"?m:Yt(+m),r=null,d):t},d.x0=function(m){return arguments.length?(t=typeof m=="function"?m:Yt(+m),d):t},d.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Yt(+m),d):r},d.y=function(m){return arguments.length?(e=typeof m=="function"?m:Yt(+m),n=null,d):e},d.y0=function(m){return arguments.length?(e=typeof m=="function"?m:Yt(+m),d):e},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Yt(+m),d):n},d.lineX0=d.lineY0=function(){return f().x(t).y(e)},d.lineY1=function(){return f().x(t).y(n)},d.lineX1=function(){return f().x(r).y(e)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:Yt(!!m),d):i},d.curve=function(m){return arguments.length?(o=m,s!=null&&(l=o(s)),d):o},d.context=function(m){return arguments.length?(m==null?s=l=null:l=o(s=m),d):s},d}class n6{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function lre(t){return new n6(t,!0)}function ure(t){return new n6(t,!1)}const dI={draw(t,e){const n=Os(e/rx);t.moveTo(n,0),t.arc(0,0,n,0,xb)}},cre={draw(t,e){const n=Os(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},r6=Os(1/3),dre=r6*2,fre={draw(t,e){const n=Os(e/dre),r=n*r6;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},hre={draw(t,e){const n=Os(e),r=-n/2;t.rect(r,r,n,n)}},mre=.8908130915292852,i6=nx(rx/10)/nx(7*rx/10),pre=nx(xb/10)*i6,gre=-JB(xb/10)*i6,yre={draw(t,e){const n=Os(e*mre),r=pre*n,i=gre*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const o=xb*s/5,l=JB(o),u=nx(o);t.lineTo(u*n,-l*n),t.lineTo(l*r-u*i,u*r+l*i)}t.closePath()}},oE=Os(3),vre={draw(t,e){const n=-Os(e/(oE*3));t.moveTo(0,n*2),t.lineTo(-oE*n,-n),t.lineTo(oE*n,-n),t.closePath()}},Zi=-.5,es=Os(3)/2,EA=1/Os(12),xre=(EA/2+1)*3,bre={draw(t,e){const n=Os(e/xre),r=n/2,i=n*EA,s=r,o=n*EA+n,l=-s,u=o;t.moveTo(r,i),t.lineTo(s,o),t.lineTo(l,u),t.lineTo(Zi*r-es*i,es*r+Zi*i),t.lineTo(Zi*s-es*o,es*s+Zi*o),t.lineTo(Zi*l-es*u,es*l+Zi*u),t.lineTo(Zi*r+es*i,Zi*i-es*r),t.lineTo(Zi*s+es*o,Zi*o-es*s),t.lineTo(Zi*l+es*u,Zi*u-es*l),t.closePath()}};function wre(t,e){let n=null,r=uI(i);t=typeof t=="function"?t:Yt(t||dI),e=typeof e=="function"?e:Yt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Yt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Yt(+s),i):e},i.context=function(s){return arguments.length?(n=s==null?null:s,i):n},i}function ix(){}function sx(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function s6(t){this._context=t}s6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:sx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _re(t){return new s6(t)}function o6(t){this._context=t}o6.prototype={areaStart:ix,areaEnd:ix,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:sx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Tre(t){return new o6(t)}function a6(t){this._context=t}a6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:sx(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ere(t){return new a6(t)}function l6(t){this._context=t}l6.prototype={areaStart:ix,areaEnd:ix,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Sre(t){return new l6(t)}function gO(t){return t<0?-1:1}function yO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),l=(s*i+o*r)/(r+i);return(gO(s)+gO(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function vO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function aE(t,e,n){var r=t._x0,i=t._y0,s=t._x1,o=t._y1,l=(s-r)/3;t._context.bezierCurveTo(r+l,i+l*e,s-l,o-l*n,s,o)}function ox(t){this._context=t}ox.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:aE(this,this._t0,vO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,aE(this,vO(this,n=yO(this,t,e)),n);break;default:aE(this,this._t0,n=yO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function u6(t){this._context=new c6(t)}(u6.prototype=Object.create(ox.prototype)).point=function(t,e){ox.prototype.point.call(this,e,t)};function c6(t){this._context=t}c6.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function Are(t){return new ox(t)}function Cre(t){return new u6(t)}function d6(t){this._context=t}d6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=xO(t),i=xO(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function xO(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function Ire(t){return new d6(t)}function wb(t,e){this._context=t,this._t=e}wb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Rre(t){return new wb(t,.5)}function Pre(t){return new wb(t,0)}function Nre(t){return new wb(t,1)}function jf(t,e){if((o=t.length)>1)for(var n=1,r,i,s=t[e[0]],o,l=s.length;n<o;++n)for(i=s,s=t[e[n]],r=0;r<l;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function SA(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Mre(t,e){return t[e]}function Dre(t){const e=[];return e.key=t,e}function kre(){var t=Yt([]),e=SA,n=jf,r=Mre;function i(s){var o=Array.from(t.apply(this,arguments),Dre),l,u=o.length,d=-1,f;for(const m of s)for(l=0,++d;l<u;++l)(o[l][d]=[0,+r(m,o[l].key,d,s)]).data=m;for(l=0,f=cI(e(o));l<u;++l)o[f[l]].index=l;return n(o,f),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Yt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Yt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?SA:typeof s=="function"?s:Yt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s==null?jf:s,i):n},i}function Ore(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,o;i<s;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}jf(t,e)}}function Vre(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var o=0,l=0;o<i;++o)l+=t[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}jf(t,e)}}function Lre(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,o;r<s;++r){for(var l=0,u=0,d=0;l<o;++l){for(var f=t[e[l]],m=f[r][1]||0,v=f[r-1][1]||0,b=(m-v)/2,T=0;T<l;++T){var S=t[e[T]],A=S[r][1]||0,C=S[r-1][1]||0;b+=A-C}u+=m,d+=b*m}i[r-1][1]+=i[r-1][0]=n,u&&(n-=d/u)}i[r-1][1]+=i[r-1][0]=n,jf(t,e)}}var Ure=["type","size","sizeType"];function AA(){return AA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AA.apply(null,arguments)}function bO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bO(Object(n),!0).forEach(function(r){Fre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fre(t,e,n){return(e=jre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jre(t){var e=Bre(t,"string");return typeof e=="symbol"?e:e+""}function Bre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qre(t,e){if(t==null)return{};var n,r,i=zre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var f6={symbolCircle:dI,symbolCross:cre,symbolDiamond:fre,symbolSquare:hre,symbolStar:yre,symbolTriangle:vre,symbolWye:bre},$re=Math.PI/180,Gre=t=>{var e="symbol".concat(Gg(t));return f6[e]||dI},Hre=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*$re;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*ll(Math.tan(r),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Kre=(t,e)=>{f6["symbol".concat(Gg(t))]=e},h6=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=qre(t,Ure),s=wO(wO({},i),{},{type:e,size:n,sizeType:r}),o=()=>{var m=Gre(e),v=wre().type(m).size(Hre(n,r,e));return v()},{className:l,cx:u,cy:d}=s,f=Xn(s,!0);return u===+u&&d===+d&&n===+n?M.createElement("path",AA({},f,{className:Gt("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};h6.registerSymbol=Kre;function CA(){return CA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CA.apply(null,arguments)}function _O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wre(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_O(Object(n),!0).forEach(function(r){fI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fI(t,e,n){return(e=Yre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yre(t){var e=Jre(t,"string");return typeof e=="symbol"?e:e+""}function Jre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ts=32;class hI extends M.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,i=ts/2,s=ts/6,o=ts/3,l=e.inactive?r:e.color,u=n!=null?n:e.type;if(u==="none")return null;if(u==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:ts,y2:i,className:"recharts-legend-icon"});if(u==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(ts,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(u==="rect")return M.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ts/8,"h").concat(ts,"v").concat(ts*3/4,"h").concat(-ts,"z"),className:"recharts-legend-icon"});if(M.isValidElement(e.legendIcon)){var d=Wre({},e);return delete d.legendIcon,M.cloneElement(e.legendIcon,d)}return M.createElement(h6,{fill:l,cx:i,cy:i,size:ts,sizeType:"diameter",type:u})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:s,iconType:o}=this.props,l={x:0,y:0,width:ts,height:ts},u={display:r==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((f,m)=>{var v=f.formatter||i,b=Gt({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:f.inactive});if(f.type==="none")return null;var T=f.inactive?s:f.color,S=v?v(f.value,f,m):f.value;return M.createElement("li",CA({className:b,style:u,key:"legend-item-".concat(m)},zB(this.props,f,m)),M.createElement(lI,{width:n,height:n,viewBox:l,style:d,"aria-label":"".concat(S," legend icon")},this.renderIcon(f,o)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:T}},S))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}fI(hI,"displayName","Legend");fI(hI,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var lE={},uE={},TO;function Qre(){return TO||(TO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const o=n[s],l=r(o);i.has(l)||i.set(l,o)}return Array.from(i.values())}t.uniqBy=e})(uE)),uE}var cE={},EO;function m6(){return EO||(EO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(cE)),cE}var dE={},fE={},hE={},SO;function Xre(){return SO||(SO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(hE)),hE}var AO;function mI(){return AO||(AO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Xre();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(fE)),fE}var mE={},CO;function Zre(){return CO||(CO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(mE)),mE}var IO;function eie(){return IO||(IO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mI(),n=Zre();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(dE)),dE}var pE={},gE={},RO;function tie(){return RO||(RO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sI();function n(r){return function(i){return e.get(i,r)}}t.property=n})(gE)),gE}var yE={},vE={},xE={},bE={},PO;function p6(){return PO||(PO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(bE)),bE}var wE={},NO;function g6(){return NO||(NO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(wE)),wE}var _E={},MO;function pI(){return MO||(MO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(_E)),_E}var DO;function nie(){return DO||(DO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gI(),n=p6(),r=g6(),i=pI();function s(m,v,b){return typeof b!="function"?e.isMatch(m,v):o(m,v,function T(S,A,C,D,N,F){const V=b(S,A,C,D,N,F);return V!==void 0?!!V:o(S,A,T,F)},new Map)}function o(m,v,b,T){if(v===m)return!0;switch(typeof v){case"object":return l(m,v,b,T);case"function":return Object.keys(v).length>0?o(m,Y({},v),b,T):i.eq(m,v);default:return n.isObject(m)?typeof v=="string"?v==="":!0:i.eq(m,v)}}function l(m,v,b,T){if(v==null)return!0;if(Array.isArray(v))return d(m,v,b,T);if(v instanceof Map)return u(m,v,b,T);if(v instanceof Set)return f(m,v,b,T);const S=Object.keys(v);if(m==null)return S.length===0;if(S.length===0)return!0;if(T&&T.has(v))return T.get(v)===m;T&&T.set(v,m);try{for(let A=0;A<S.length;A++){const C=S[A];if(!r.isPrimitive(m)&&!(C in m)||v[C]===void 0&&m[C]!==void 0||v[C]===null&&m[C]!==null||!b(m[C],v[C],C,m,v,T))return!1}return!0}finally{T&&T.delete(v)}}function u(m,v,b,T){if(v.size===0)return!0;if(!(m instanceof Map))return!1;for(const[S,A]of v.entries()){const C=m.get(S);if(b(C,A,S,m,v,T)===!1)return!1}return!0}function d(m,v,b,T){if(v.length===0)return!0;if(!Array.isArray(m))return!1;const S=new Set;for(let A=0;A<v.length;A++){const C=v[A];let D=!1;for(let N=0;N<m.length;N++){if(S.has(N))continue;const F=m[N];let V=!1;if(b(F,C,A,m,v,T)&&(V=!0),V){S.add(N),D=!0;break}}if(!D)return!1}return!0}function f(m,v,b,T){return v.size===0?!0:m instanceof Set?d([...m],[...v],b,T):!1}t.isMatchWith=s,t.isSetMatch=f})(xE)),xE}var kO;function gI(){return kO||(kO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nie();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(vE)),vE}var TE={},EE={},SE={},OO;function y6(){return OO||(OO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(SE)),SE}var AE={},VO;function yI(){return VO||(VO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(AE)),AE}var CE={},LO;function vI(){return LO||(LO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",o="[object Symbol]",l="[object Date]",u="[object Map]",d="[object Set]",f="[object Array]",m="[object Function]",v="[object ArrayBuffer]",b="[object Object]",T="[object Error]",S="[object DataView]",A="[object Uint8Array]",C="[object Uint8ClampedArray]",D="[object Uint16Array]",N="[object Uint32Array]",F="[object BigUint64Array]",V="[object Int8Array]",B="[object Int16Array]",k="[object Int32Array]",R="[object BigInt64Array]",O="[object Float32Array]",j="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=v,t.arrayTag=f,t.bigInt64ArrayTag=R,t.bigUint64ArrayTag=F,t.booleanTag=i,t.dataViewTag=S,t.dateTag=l,t.errorTag=T,t.float32ArrayTag=O,t.float64ArrayTag=j,t.functionTag=m,t.int16ArrayTag=B,t.int32ArrayTag=k,t.int8ArrayTag=V,t.mapTag=u,t.numberTag=r,t.objectTag=b,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=o,t.uint16ArrayTag=D,t.uint32ArrayTag=N,t.uint8ArrayTag=A,t.uint8ClampedArrayTag=C})(CE)),CE}var IE={},UO;function rie(){return UO||(UO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(IE)),IE}var FO;function v6(){return FO||(FO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=y6(),n=yI(),r=vI(),i=g6(),s=rie();function o(f,m){return l(f,void 0,f,new Map,m)}function l(f,m,v,b=new Map,T=void 0){const S=T==null?void 0:T(f,m,v,b);if(S!==void 0)return S;if(i.isPrimitive(f))return f;if(b.has(f))return b.get(f);if(Array.isArray(f)){const A=new Array(f.length);b.set(f,A);for(let C=0;C<f.length;C++)A[C]=l(f[C],C,v,b,T);return Object.hasOwn(f,"index")&&(A.index=f.index),Object.hasOwn(f,"input")&&(A.input=f.input),A}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const A=new RegExp(f.source,f.flags);return A.lastIndex=f.lastIndex,A}if(f instanceof Map){const A=new Map;b.set(f,A);for(const[C,D]of f)A.set(C,l(D,C,v,b,T));return A}if(f instanceof Set){const A=new Set;b.set(f,A);for(const C of f)A.add(l(C,void 0,v,b,T));return A}if(typeof Buffer!="undefined"&&Buffer.isBuffer(f))return f.subarray();if(s.isTypedArray(f)){const A=new(Object.getPrototypeOf(f)).constructor(f.length);b.set(f,A);for(let C=0;C<f.length;C++)A[C]=l(f[C],C,v,b,T);return A}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer!="undefined"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const A=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return b.set(f,A),u(A,f,v,b,T),A}if(typeof File!="undefined"&&f instanceof File){const A=new File([f],f.name,{type:f.type});return b.set(f,A),u(A,f,v,b,T),A}if(f instanceof Blob){const A=new Blob([f],{type:f.type});return b.set(f,A),u(A,f,v,b,T),A}if(f instanceof Error){const A=new f.constructor;return b.set(f,A),A.message=f.message,A.name=f.name,A.stack=f.stack,A.cause=f.cause,u(A,f,v,b,T),A}if(typeof f=="object"&&d(f)){const A=Object.create(Object.getPrototypeOf(f));return b.set(f,A),u(A,f,v,b,T),A}return f}function u(f,m,v=f,b,T){const S=[...Object.keys(m),...e.getSymbols(m)];for(let A=0;A<S.length;A++){const C=S[A],D=Object.getOwnPropertyDescriptor(f,C);(D==null||D.writable)&&(f[C]=l(m[C],C,v,b,T))}}function d(f){switch(n.getTag(f)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=o,t.cloneDeepWithImpl=l,t.copyProperties=u})(EE)),EE}var jO;function iie(){return jO||(jO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=v6();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(TE)),TE}var BO;function sie(){return BO||(BO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gI(),n=iie();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(yE)),yE}var RE={},PE={},NE={},qO;function oie(){return qO||(qO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=v6(),n=vI();function r(i,s){return e.cloneDeepWith(i,(o,l,u,d)=>{const f=s==null?void 0:s(o,l,u,d);if(f!==void 0)return f;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(m,i),m}case n.argumentsTag:{const m={};return e.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}})}t.cloneDeepWith=r})(NE)),NE}var zO;function aie(){return zO||(zO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oie();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(PE)),PE}var ME={},DE={},$O;function x6(){return $O||($O=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(DE)),DE}var kE={},GO;function lie(){return GO||(GO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yI();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(kE)),kE}var HO;function uie(){return HO||(HO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FB(),n=x6(),r=lie(),i=iI();function s(o,l){let u;if(Array.isArray(l)?u=l:typeof l=="string"&&e.isDeepKey(l)&&(o==null?void 0:o[l])==null?u=i.toPath(l):u=[l],u.length===0)return!1;let d=o;for(let f=0;f<u.length;f++){const m=u[f];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}t.has=s})(ME)),ME}var KO;function cie(){return KO||(KO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gI(),n=jB(),r=aie(),i=sI(),s=uie();function o(l,u){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return u=r.cloneDeep(u),function(d){const f=i.get(d,l);return f===void 0?s.has(d,l):u===void 0?f===void 0:e.isMatch(f,u)}}t.matchesProperty=o})(RE)),RE}var WO;function die(){return WO||(WO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=m6(),n=tie(),r=sie(),i=cie();function s(o){if(o==null)return e.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}t.iteratee=s})(pE)),pE}var YO;function fie(){return YO||(YO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Qre(),n=m6(),r=eie(),i=die();function s(o,l=n.identity){return r.isArrayLikeObject(o)?e.uniqBy(Array.from(o),i.iteratee(l)):[]}t.uniqBy=s})(lE)),lE}var OE,JO;function hie(){return JO||(JO=1,OE=fie().uniqBy),OE}var mie=hie();const QO=Eo(mie);function b6(t,e,n){return e===!0?QO(t,n):typeof e=="function"?QO(t,e):t}var VE={exports:{}},LE={},UE={exports:{}},FE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XO;function pie(){if(XO)return FE;XO=1;var t=hh();function e(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function l(m,v){var b=v(),T=r({inst:{value:b,getSnapshot:v}}),S=T[0].inst,A=T[1];return s(function(){S.value=b,S.getSnapshot=v,u(S)&&A({inst:S})},[m,b,v]),i(function(){return u(S)&&A({inst:S}),m(function(){u(S)&&A({inst:S})})},[m]),o(b),b}function u(m){var v=m.getSnapshot;m=m.value;try{var b=v();return!n(m,b)}catch(T){return!0}}function d(m,v){return v()}var f=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?d:l;return FE.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,FE}var ZO;function gie(){return ZO||(ZO=1,UE.exports=pie()),UE.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eV;function yie(){if(eV)return LE;eV=1;var t=hh(),e=gie();function n(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,l=t.useMemo,u=t.useDebugValue;return LE.useSyncExternalStoreWithSelector=function(d,f,m,v,b){var T=s(null);if(T.current===null){var S={hasValue:!1,value:null};T.current=S}else S=T.current;T=l(function(){function C(B){if(!D){if(D=!0,N=B,B=v(B),b!==void 0&&S.hasValue){var k=S.value;if(b(k,B))return F=k}return F=B}if(k=F,r(N,B))return k;var R=v(B);return b!==void 0&&b(k,R)?(N=B,k):(N=B,F=R)}var D=!1,N,F,V=m===void 0?null:m;return[function(){return C(f())},V===null?void 0:function(){return C(V())}]},[f,m,v,b]);var A=i(d,T[0],T[1]);return o(function(){S.hasValue=!0,S.value=A},[A]),u(A),A},LE}var tV;function vie(){return tV||(tV=1,VE.exports=yie()),VE.exports}var xie=vie(),xI=M.createContext(null),bie=t=>t,Nr=()=>{var t=M.useContext(xI);return t?t.store.dispatch:bie},A0=()=>{},wie=()=>A0,_ie=(t,e)=>t===e;function Je(t){var e=M.useContext(xI);return xie.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:wie,e?e.store.getState:A0,e?e.store.getState:A0,e?t:A0,_ie)}function Tie(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Eie(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Sie(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var nV=t=>Array.isArray(t)?t:[t];function Aie(t){const e=Array.isArray(t[0])?t[0]:t;return Sie(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Cie(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var Iie=class{constructor(t){this.value=t}deref(){return this.value}},Rie=typeof WeakRef!="undefined"?WeakRef:Iie,Pie=0,rV=1;function Wv(){return{s:Pie,v:void 0,o:null,p:null}}function w6(t,e={}){let n=Wv();const{resultEqualityCheck:r}=e;let i,s=0;function o(){var m,v;let l=n;const{length:u}=arguments;for(let b=0,T=u;b<T;b++){const S=arguments[b];if(typeof S=="function"||typeof S=="object"&&S!==null){let A=l.o;A===null&&(l.o=A=new WeakMap);const C=A.get(S);C===void 0?(l=Wv(),A.set(S,l)):l=C}else{let A=l.p;A===null&&(l.p=A=new Map);const C=A.get(S);C===void 0?(l=Wv(),A.set(S,l)):l=C}}const d=l;let f;if(l.s===rV)f=l.v;else if(f=t.apply(null,arguments),s++,r){const b=(v=(m=i==null?void 0:i.deref)==null?void 0:m.call(i))!=null?v:i;b!=null&&r(b,f)&&(f=b,s!==0&&s--),i=typeof f=="object"&&f!==null||typeof f=="function"?new Rie(f):f}return d.s=rV,d.v=f,f}return o.clearCache=()=>{n=Wv(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function Nie(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,o=0,l,u={},d=i.pop();typeof d=="object"&&(u=d,d=i.pop()),Tie(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const f=Y(Y({},n),u),{memoize:m,memoizeOptions:v=[],argsMemoize:b=w6,argsMemoizeOptions:T=[]}=f,S=nV(v),A=nV(T),C=Aie(i),D=m(function(){return s++,d.apply(null,arguments)},...S),N=b(function(){o++;const V=Cie(C,arguments);return l=D.apply(null,V),l},...A);return Object.assign(N,{resultFunc:d,memoizedResultFunc:D,dependencies:C,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:m,argsMemoize:b})};return Object.assign(r,{withTypes:()=>r}),r}var me=Nie(w6),Mie=Object.assign((t,e=me)=>{Eie(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((o,l,u)=>(o[n[u]]=l,o),{}))},{withTypes:()=>Mie}),jE={},BE={},qE={},iV;function Die(){return iV||(iV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const o=e(r),l=e(i);if(o===l&&o===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?l-o:o-l}return 0};t.compareValues=n})(qE)),qE}var zE={},$E={},sV;function _6(){return sV||(sV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})($E)),$E}var oV;function kie(){return oV||(oV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_6(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,o){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||o!=null&&Object.hasOwn(o,s)}t.isKey=i})(zE)),zE}var aV;function Oie(){return aV||(aV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Die(),n=kie(),r=iI();function i(s,o,l,u){if(s==null)return[];l=u?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(b=>String(b));const d=(b,T)=>{let S=b;for(let A=0;A<T.length&&S!=null;++A)S=S[T[A]];return S},f=(b,T)=>T==null||b==null?T:typeof b=="object"&&"key"in b?Object.hasOwn(T,b.key)?T[b.key]:d(T,b.path):typeof b=="function"?b(T):Array.isArray(b)?d(T,b):typeof T=="object"?T[b]:T,m=o.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||n.isKey(b)?b:{key:b,path:r.toPath(b)}));return s.map(b=>({original:b,criteria:m.map(T=>f(T,b))})).slice().sort((b,T)=>{for(let S=0;S<m.length;S++){const A=e.compareValues(b.criteria[S],T.criteria[S],l[S]);if(A!==0)return A}return 0}).map(b=>b.original)}t.orderBy=i})(BE)),BE}var GE={},lV;function Vie(){return lV||(lV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),o=(l,u)=>{for(let d=0;d<l.length;d++){const f=l[d];Array.isArray(f)&&u<s?o(f,u+1):i.push(f)}};return o(n,0),i}t.flatten=e})(GE)),GE}var HE={},uV;function T6(){return uV||(uV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=x6(),n=mI(),r=p6(),i=pI();function s(o,l,u){return r.isObject(u)&&(typeof l=="number"&&n.isArrayLike(u)&&e.isIndex(l)&&l<u.length||typeof l=="string"&&l in u)?i.eq(u[l],o):!1}t.isIterateeCall=s})(HE)),HE}var cV;function Lie(){return cV||(cV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Oie(),n=Vie(),r=T6();function i(s,...o){const l=o.length;return l>1&&r.isIterateeCall(s,o[0],o[1])?o=[]:l>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),e.orderBy(s,n.flatten(o),["asc"])}t.sortBy=i})(jE)),jE}var KE,dV;function Uie(){return dV||(dV=1,KE=Lie().sortBy),KE}var Fie=Uie();const _b=Eo(Fie);var E6=t=>t.legend.settings,jie=t=>t.legend.size,Bie=t=>t.legend.payload,qie=me([Bie,E6],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?_b(r,n):r});function zie(){return Je(qie)}var Yv=1;function S6(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=M.useState({height:0,left:0,top:0,width:0}),r=M.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),o={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(o.height-e.height)>Yv||Math.abs(o.left-e.left)>Yv||Math.abs(o.top-e.top)>Yv||Math.abs(o.width-e.width)>Yv)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function _r(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var $ie=typeof Symbol=="function"&&Symbol.observable||"@@observable",fV=$ie,WE=()=>Math.random().toString(36).substring(7).split("").join("."),Gie={INIT:`@@redux/INIT${WE()}`,REPLACE:`@@redux/REPLACE${WE()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${WE()}`},ax=Gie;function bI(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function A6(t,e,n){if(typeof t!="function")throw new Error(_r(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(_r(0));if(typeof e=="function"&&typeof n=="undefined"&&(n=e,e=void 0),typeof n!="undefined"){if(typeof n!="function")throw new Error(_r(1));return n(A6)(t,e)}let r=t,i=e,s=new Map,o=s,l=0,u=!1;function d(){o===s&&(o=new Map,s.forEach((A,C)=>{o.set(C,A)}))}function f(){if(u)throw new Error(_r(3));return i}function m(A){if(typeof A!="function")throw new Error(_r(4));if(u)throw new Error(_r(5));let C=!0;d();const D=l++;return o.set(D,A),function(){if(C){if(u)throw new Error(_r(6));C=!1,d(),o.delete(D),s=null}}}function v(A){if(!bI(A))throw new Error(_r(7));if(typeof A.type=="undefined")throw new Error(_r(8));if(typeof A.type!="string")throw new Error(_r(17));if(u)throw new Error(_r(9));try{u=!0,i=r(i,A)}finally{u=!1}return(s=o).forEach(D=>{D()}),A}function b(A){if(typeof A!="function")throw new Error(_r(10));r=A,v({type:ax.REPLACE})}function T(){const A=m;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(_r(11));function D(){const F=C;F.next&&F.next(f())}return D(),{unsubscribe:A(D)}},[fV](){return this}}}return v({type:ax.INIT}),{dispatch:v,subscribe:m,getState:f,replaceReducer:b,[fV]:T}}function Hie(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:ax.INIT})=="undefined")throw new Error(_r(12));if(typeof n(void 0,{type:ax.PROBE_UNKNOWN_ACTION()})=="undefined")throw new Error(_r(13))})}function C6(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{Hie(n)}catch(s){i=s}return function(o={},l){if(i)throw i;let u=!1;const d={};for(let f=0;f<r.length;f++){const m=r[f],v=n[m],b=o[m],T=v(b,l);if(typeof T=="undefined")throw l&&l.type,new Error(_r(14));d[m]=T,u=u||T!==b}return u=u||r.length!==Object.keys(o).length,u?d:o}}function lx(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Kie(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(_r(15))};const o={getState:i.getState,dispatch:(u,...d)=>s(u,...d)},l=t.map(u=>u(o));return s=lx(...l)(i.dispatch),xe(Y({},i),{dispatch:s})}}function I6(t){return bI(t)&&"type"in t&&typeof t.type=="string"}var R6=Symbol.for("immer-nothing"),hV=Symbol.for("immer-draftable"),Vi=Symbol.for("immer-state");function As(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Bf=Object.getPrototypeOf;function Rc(t){return!!t&&!!t[Vi]}function ua(t){var e;return t?P6(t)||Array.isArray(t)||!!t[hV]||!!((e=t.constructor)!=null&&e[hV])||Eb(t)||Sb(t):!1}var Wie=Object.prototype.constructor.toString();function P6(t){if(!t||typeof t!="object")return!1;const e=Bf(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Wie}function ux(t,e){Tb(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Tb(t){const e=t[Vi];return e?e.type_:Array.isArray(t)?1:Eb(t)?2:Sb(t)?3:0}function IA(t,e){return Tb(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function N6(t,e,n){const r=Tb(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Yie(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Eb(t){return t instanceof Map}function Sb(t){return t instanceof Set}function Ku(t){return t.copy_||t.base_}function RA(t,e){if(Eb(t))return new Map(t);if(Sb(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=P6(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Vi];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],l=r[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[o]})}return Object.create(Bf(t),r)}else{const r=Bf(t);if(r!==null&&n)return Y({},t);const i=Object.create(r);return Object.assign(i,t)}}function wI(t,e=!1){return Ab(t)||Rc(t)||!ua(t)||(Tb(t)>1&&(t.set=t.add=t.clear=t.delete=Jie),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>wI(r,!0))),t}function Jie(){As(2)}function Ab(t){return Object.isFrozen(t)}var Qie={};function Pc(t){const e=Qie[t];return e||As(0,t),e}var og;function M6(){return og}function Xie(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function mV(t,e){e&&(Pc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function PA(t){NA(t),t.drafts_.forEach(Zie),t.drafts_=null}function NA(t){t===og&&(og=t.parent_)}function pV(t){return og=Xie(og,t)}function Zie(t){const e=t[Vi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function gV(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Vi].modified_&&(PA(e),As(4)),ua(t)&&(t=cx(e,t),e.parent_||dx(e,t)),e.patches_&&Pc("Patches").generateReplacementPatches_(n[Vi].base_,t,e.patches_,e.inversePatches_)):t=cx(e,n,[]),PA(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==R6?t:void 0}function cx(t,e,n){if(Ab(e))return e;const r=e[Vi];if(!r)return ux(e,(i,s)=>yV(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return dx(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),ux(s,(l,u)=>yV(t,r,i,l,u,n,o)),dx(t,i,!1),n&&t.patches_&&Pc("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function yV(t,e,n,r,i,s,o){if(Rc(i)){const l=s&&e&&e.type_!==3&&!IA(e.assigned_,r)?s.concat(r):void 0,u=cx(t,i,l);if(N6(n,r,u),Rc(u))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(ua(i)&&!Ab(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;cx(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&dx(t,i)}}function dx(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&wI(e,n)}function ese(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:M6(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=_I;n&&(i=[r],s=ag);const{revoke:o,proxy:l}=Proxy.revocable(i,s);return r.draft_=l,r.revoke_=o,l}var _I={get(t,e){if(e===Vi)return t;const n=Ku(t);if(!IA(n,e))return tse(t,n,e);const r=n[e];return t.finalized_||!ua(r)?r:r===YE(t.base_,e)?(JE(t),t.copy_[e]=DA(r,t)):r},has(t,e){return e in Ku(t)},ownKeys(t){return Reflect.ownKeys(Ku(t))},set(t,e,n){const r=D6(Ku(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=YE(Ku(t),e),s=i==null?void 0:i[Vi];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Yie(n,i)&&(n!==void 0||IA(t.base_,e)))return!0;JE(t),MA(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return YE(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,JE(t),MA(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Ku(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){As(11)},getPrototypeOf(t){return Bf(t.base_)},setPrototypeOf(){As(12)}},ag={};ux(_I,(t,e)=>{ag[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});ag.deleteProperty=function(t,e){return ag.set.call(this,t,e,void 0)};ag.set=function(t,e,n){return _I.set.call(this,t[0],e,n,t[0])};function YE(t,e){const n=t[Vi];return(n?Ku(n):t)[e]}function tse(t,e,n){var i;const r=D6(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function D6(t,e){if(!(e in t))return;let n=Bf(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Bf(n)}}function MA(t){t.modified_||(t.modified_=!0,t.parent_&&MA(t.parent_))}function JE(t){t.copy_||(t.copy_=RA(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var nse=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(u=s,...d){return o.produce(u,f=>n.call(this,f,...d))}}typeof n!="function"&&As(6),r!==void 0&&typeof r!="function"&&As(7);let i;if(ua(e)){const s=pV(this),o=DA(e,void 0);let l=!0;try{i=n(o),l=!1}finally{l?PA(s):NA(s)}return mV(s,r),gV(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===R6&&(i=void 0),this.autoFreeze_&&wI(i,!0),r){const s=[],o=[];Pc("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else As(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...l)=>this.produceWithPatches(o,u=>e(u,...l));let r,i;return[this.produce(e,n,(o,l)=>{r=o,i=l}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){ua(t)||As(8),Rc(t)&&(t=sa(t));const e=pV(this),n=DA(t,void 0);return n[Vi].isManual_=!0,NA(e),n}finishDraft(t,e){const n=t&&t[Vi];(!n||!n.isManual_)&&As(9);const{scope_:r}=n;return mV(r,e),gV(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Pc("Patches").applyPatches_;return Rc(t)?r(t,e):this.produce(t,i=>r(i,e))}};function DA(t,e){const n=Eb(t)?Pc("MapSet").proxyMap_(t,e):Sb(t)?Pc("MapSet").proxySet_(t,e):ese(t,e);return(e?e.scope_:M6()).drafts_.push(n),n}function sa(t){return Rc(t)||As(10,t),k6(t)}function k6(t){if(!ua(t)||Ab(t))return t;const e=t[Vi];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=RA(t,e.scope_.immer_.useStrictShallowCopy_)}else n=RA(t,!0);return ux(n,(r,i)=>{N6(n,r,k6(i))}),e&&(e.finalized_=!1),n}var Li=new nse,O6=Li.produce;Li.produceWithPatches.bind(Li);Li.setAutoFreeze.bind(Li);Li.setUseStrictShallowCopy.bind(Li);Li.applyPatches.bind(Li);Li.createDraft.bind(Li);Li.finishDraft.bind(Li);function V6(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var rse=V6(),ise=V6,sse=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?lx:lx.apply(null,arguments)};function ms(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Oi(0));return Y(Y({type:t,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>I6(r)&&r.type===t,n}var L6=class xp extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,xp.prototype)}static get[Symbol.species](){return xp}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new xp(...e[0].concat(this)):new xp(...e.concat(this))}};function vV(t){return ua(t)?O6(t,()=>{}):t}function Jv(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function ose(t){return typeof t=="boolean"}var ase=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e!=null?e:{};let o=new L6;return n&&(ose(n)?o.push(rse):o.push(ise(n.extraArgument))),o},lse="RTK_autoBatch",xV=t=>e=>{setTimeout(e,t)},use=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const l=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window!="undefined"&&window.requestAnimationFrame?window.requestAnimationFrame:xV(10):t.type==="callback"?t.queueNotification:xV(t.timeout),d=()=>{o=!1,s&&(s=!1,l.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const m=()=>i&&f(),v=r.subscribe(m);return l.add(f),()=>{v(),l.delete(f)}},dispatch(f){var m;try{return i=!((m=f==null?void 0:f.meta)!=null&&m[lse]),s=!i,s&&(o||(o=!0,u(d))),r.dispatch(f)}finally{i=!0}}})},cse=t=>function(n){const{autoBatch:r=!0}=n!=null?n:{};let i=new L6(t);return r&&i.push(use(typeof r=="object"?r:void 0)),i};function dse(t){const e=ase(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(bI(n))l=C6(n);else throw new Error(Oi(1));let u;typeof r=="function"?u=r(e):u=e();let d=lx;i&&(d=sse(Y({trace:!1},typeof i=="object"&&i)));const f=Kie(...u),m=cse(f);let v=typeof o=="function"?o(m):m();const b=d(...v);return A6(l,s,b)}function U6(t){const e={},n=[];let r;const i={addCase(s,o){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(Oi(28));if(l in e)throw new Error(Oi(29));return e[l]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function fse(t){return typeof t=="function"}function hse(t,e){let[n,r,i]=U6(e),s;if(fse(t))s=()=>vV(t());else{const l=vV(t);s=()=>l}function o(l=s(),u){let d=[n[u.type],...r.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return d.filter(f=>!!f).length===0&&(d=[i]),d.reduce((f,m)=>{if(m)if(Rc(f)){const b=m(f,u);return b===void 0?f:b}else{if(ua(f))return O6(f,v=>m(v,u));{const v=m(f,u);if(v===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return f},l)}return o.getInitialState=s,o}var mse="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",pse=(t=21)=>{let e="",n=t;for(;n--;)e+=mse[Math.random()*64|0];return e},gse=Symbol.for("rtk-slice-createasyncthunk");function yse(t,e){return`${t}/${e}`}function vse({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[gse];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(Oi(11));const l=(typeof i.reducers=="function"?i.reducers(bse()):i.reducers)||{},u=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(F,V){const B=typeof F=="string"?F:F.type;if(!B)throw new Error(Oi(12));if(B in d.sliceCaseReducersByType)throw new Error(Oi(13));return d.sliceCaseReducersByType[B]=V,f},addMatcher(F,V){return d.sliceMatchers.push({matcher:F,reducer:V}),f},exposeAction(F,V){return d.actionCreators[F]=V,f},exposeCaseReducer(F,V){return d.sliceCaseReducersByName[F]=V,f}};u.forEach(F=>{const V=l[F],B={reducerName:F,type:yse(s,F),createNotation:typeof i.reducers=="function"};_se(V)?Ese(B,V,f,e):wse(B,V,f)});function m(){const[F={},V=[],B=void 0]=typeof i.extraReducers=="function"?U6(i.extraReducers):[i.extraReducers],k=Y(Y({},F),d.sliceCaseReducersByType);return hse(i.initialState,R=>{for(let O in k)R.addCase(O,k[O]);for(let O of d.sliceMatchers)R.addMatcher(O.matcher,O.reducer);for(let O of V)R.addMatcher(O.matcher,O.reducer);B&&R.addDefaultCase(B)})}const v=F=>F,b=new Map,T=new WeakMap;let S;function A(F,V){return S||(S=m()),S(F,V)}function C(){return S||(S=m()),S.getInitialState()}function D(F,V=!1){function B(R){let O=R[F];return typeof O=="undefined"&&V&&(O=Jv(T,B,C)),O}function k(R=v){const O=Jv(b,V,()=>new WeakMap);return Jv(O,R,()=>{var q;const j={};for(const[H,G]of Object.entries((q=i.selectors)!=null?q:{}))j[H]=xse(G,R,()=>Jv(T,R,C),V);return j})}return{reducerPath:F,getSelectors:k,get selectors(){return k(B)},selectSlice:B}}const N=xe(Y({name:s,reducer:A,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:C},D(o)),{injectInto(F,k={}){var R=k,{reducerPath:V}=R,B=kr(R,["reducerPath"]);const O=V!=null?V:o;return F.inject({reducerPath:O,reducer:A},B),Y(Y({},N),D(O,!0))}});return N}}function xse(t,e,n,r){function i(s,...o){let l=e(s);return typeof l=="undefined"&&r&&(l=n()),t(l,...o)}return i.unwrapped=t,i}var Fi=vse();function bse(){function t(e,n){return Y({_reducerDefinitionType:"asyncThunk",payloadCreator:e},n)}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function wse({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!Tse(r))throw new Error(Oi(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?ms(t,o):ms(t))}function _se(t){return t._reducerDefinitionType==="asyncThunk"}function Tse(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Ese({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Oi(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:u,settled:d,options:f}=n,m=i(t,s,f);r.exposeAction(e,m),o&&r.addCase(m.fulfilled,o),l&&r.addCase(m.pending,l),u&&r.addCase(m.rejected,u),d&&r.addMatcher(m.settled,d),r.exposeCaseReducer(e,{fulfilled:o||Qv,pending:l||Qv,rejected:u||Qv,settled:d||Qv})}function Qv(){}var Sse="task",F6="listener",j6="completed",TI="cancelled",Ase=`task-${TI}`,Cse=`task-${j6}`,kA=`${F6}-${TI}`,Ise=`${F6}-${j6}`,Cb=class{constructor(t){CT(this,"name","TaskAbortError");CT(this,"message");this.code=t,this.message=`${Sse} ${TI} (reason: ${t})`}},EI=(t,e)=>{if(typeof t!="function")throw new TypeError(Oi(32))},fx=()=>{},B6=(t,e=fx)=>(t.catch(e),t),q6=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),gc=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},yc=t=>{if(t.aborted){const{reason:e}=t;throw new Cb(e)}};function z6(t,e){let n=fx;return new Promise((r,i)=>{const s=()=>i(new Cb(t.reason));if(t.aborted){s();return}n=q6(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=fx})}var Rse=(t,e)=>P(null,null,function*(){try{return yield Promise.resolve(),{status:"ok",value:yield t()}}catch(n){return{status:n instanceof Cb?"cancelled":"rejected",error:n}}finally{e==null||e()}}),hx=t=>e=>B6(z6(t,e).then(n=>(yc(t),n))),$6=t=>{const e=hx(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Af}=Object,bV={},Ib="listenerMiddleware",Pse=(t,e)=>{const n=r=>q6(t,()=>gc(r,t.reason));return(r,i)=>{EI(r);const s=new AbortController;n(s);const o=Rse(()=>P(null,null,function*(){yc(t),yc(s.signal);const l=yield r({pause:hx(s.signal),delay:$6(s.signal),signal:s.signal});return yc(s.signal),l}),()=>gc(s,Cse));return i!=null&&i.autoJoin&&e.push(o.catch(fx)),{result:hx(t)(o),cancel(){gc(s,Ase)}}}},Nse=(t,e)=>{const n=(r,i)=>P(null,null,function*(){yc(e);let s=()=>{};const l=[new Promise((u,d)=>{let f=t({predicate:r,effect:(m,v)=>{v.unsubscribe(),u([m,v.getState(),v.getOriginalState()])}});s=()=>{f(),d()}})];i!=null&&l.push(new Promise(u=>setTimeout(u,i,null)));try{const u=yield z6(e,Promise.race(l));return yc(e),u}finally{s()}});return(r,i)=>B6(n(r,i))},G6=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=ms(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Oi(21));return EI(s),{predicate:i,type:e,effect:s}},H6=Af(t=>{const{type:e,predicate:n,effect:r}=G6(t);return{id:pse(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Oi(22))}}},{withTypes:()=>H6}),wV=(t,e)=>{const{type:n,effect:r,predicate:i}=G6(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},OA=t=>{t.pending.forEach(e=>{gc(e,kA)})},Mse=t=>()=>{t.forEach(OA),t.clear()},_V=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},K6=Af(ms(`${Ib}/add`),{withTypes:()=>K6}),Dse=ms(`${Ib}/removeAll`),W6=Af(ms(`${Ib}/remove`),{withTypes:()=>W6}),kse=(...t)=>{console.error(`${Ib}/error`,...t)},Hg=(t={})=>{const e=new Map,{extra:n,onError:r=kse}=t;EI(r);const i=f=>(f.unsubscribe=()=>e.delete(f.id),e.set(f.id,f),m=>{f.unsubscribe(),m!=null&&m.cancelActive&&OA(f)}),s=f=>{var v;const m=(v=wV(e,f))!=null?v:H6(f);return i(m)};Af(s,{withTypes:()=>s});const o=f=>{const m=wV(e,f);return m&&(m.unsubscribe(),f.cancelActive&&OA(m)),!!m};Af(o,{withTypes:()=>o});const l=(f,m,v,b)=>P(null,null,function*(){const T=new AbortController,S=Nse(s,T.signal),A=[];try{f.pending.add(T),yield Promise.resolve(f.effect(m,Af({},v,{getOriginalState:b,condition:(C,D)=>S(C,D).then(Boolean),take:S,delay:$6(T.signal),pause:hx(T.signal),extra:n,signal:T.signal,fork:Pse(T.signal,A),unsubscribe:f.unsubscribe,subscribe:()=>{e.set(f.id,f)},cancelActiveListeners:()=>{f.pending.forEach((C,D,N)=>{C!==T&&(gc(C,kA),N.delete(C))})},cancel:()=>{gc(T,kA),f.pending.delete(T)},throwIfCancelled:()=>{yc(T.signal)}})))}catch(C){C instanceof Cb||_V(r,C,{raisedBy:"effect"})}finally{yield Promise.all(A),gc(T,Ise),f.pending.delete(T)}}),u=Mse(e);return{middleware:f=>m=>v=>{if(!I6(v))return m(v);if(K6.match(v))return s(v.payload);if(Dse.match(v)){u();return}if(W6.match(v))return o(v.payload);let b=f.getState();const T=()=>{if(b===bV)throw new Error(Oi(23));return b};let S;try{if(S=m(v),e.size>0){const A=f.getState(),C=Array.from(e.values());for(const D of C){let N=!1;try{N=D.predicate(v,A,b)}catch(F){N=!1,_V(r,F,{raisedBy:"predicate"})}N&&l(D,v,f,T)}}}finally{b=bV}return S},startListening:s,stopListening:o,clearListeners:u}};function Oi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Ose={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Y6=Fi({name:"chartLayout",initialState:Ose,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:Vse,setLayout:Lse,setChartSize:Use,setScale:Fse}=Y6.actions,jse=Y6.reducer;function TV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TV(Object(n),!0).forEach(function(r){Bse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bse(t,e,n){return(e=qse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qse(t){var e=zse(t,"string");return typeof e=="symbol"?e:e+""}function zse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mx=Math.PI/180,$se=t=>t*180/Math.PI,Ir=(t,e,n,r)=>({x:t+Math.cos(-mx*r)*n,y:e+Math.sin(-mx*r)*n}),Gse=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Hse=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt(ll(n-i,2)+ll(r-s,2))},Kse=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,o=Hse({x:n,y:r},{x:i,y:s});if(o<=0)return{radius:o,angle:0};var l=(n-i)/o,u=Math.acos(l);return r>s&&(u=2*Math.PI-u),{radius:o,angle:$se(u),angleInRadian:u}},Wse=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},Yse=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(i,s);return t+o*360},Jse=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:s}=Kse({x:n,y:r},e),{innerRadius:o,outerRadius:l}=e;if(i<o||i>l||i===0)return null;var{startAngle:u,endAngle:d}=Wse(e),f=s,m;if(u<=d){for(;f>d;)f-=360;for(;f<u;)f+=360;m=f>=u&&f<=d}else{for(;f>u;)f-=360;for(;f<d;)f+=360;m=f>=d&&f<=u}return m?EV(EV({},e),{},{radius:i,angle:Yse(f,e)}):null};function J6(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function SV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ss(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SV(Object(n),!0).forEach(function(r){Qse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qse(t,e,n){return(e=Xse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xse(t){var e=Zse(t,"string");return typeof e=="symbol"?e:e+""}function Zse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ei(t,e,n){return qn(t)||qn(e)?n:bo(e)?Ic(t,e,n):typeof e=="function"?e(t):n}var eoe=(t,e,n,r,i)=>{var s,o=-1,l=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var d=u>0?n[u-1].coordinate:n[l-1].coordinate,f=n[u].coordinate,m=u>=l-1?n[0].coordinate:n[u+1].coordinate,v=void 0;if(os(f-d)!==os(m-f)){var b=[];if(os(m-f)===os(i[1]-i[0])){v=m;var T=f+i[1]-i[0];b[0]=Math.min(T,(T+d)/2),b[1]=Math.max(T,(T+d)/2)}else{v=d;var S=m+i[1]-i[0];b[0]=Math.min(f,(S+f)/2),b[1]=Math.max(f,(S+f)/2)}var A=[Math.min(f,(v+f)/2),Math.max(f,(v+f)/2)];if(t>A[0]&&t<=A[1]||t>=b[0]&&t<=b[1]){({index:o}=n[u]);break}}else{var C=Math.min(d,m),D=Math.max(d,m);if(t>(C+f)/2&&t<=(D+f)/2){({index:o}=n[u]);break}}}else if(e){for(var N=0;N<l;N++)if(N===0&&t<=(e[N].coordinate+e[N+1].coordinate)/2||N>0&&N<l-1&&t>(e[N].coordinate+e[N-1].coordinate)/2&&t<=(e[N].coordinate+e[N+1].coordinate)/2||N===l-1&&t>(e[N].coordinate+e[N-1].coordinate)/2){({index:o}=e[N]);break}}return o},toe=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:o,layout:l}=e;if((l==="vertical"||l==="horizontal"&&o==="middle")&&s!=="center"&&He(t[s]))return ss(ss({},t),{},{[s]:t[s]+(r||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&o!=="middle"&&He(t[o]))return ss(ss({},t),{},{[o]:t[o]+(i||0)})}return t},Ql=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",Q6=(t,e,n,r)=>{if(r)return t.map(l=>l.coordinate);var i,s,o=t.map(l=>(l.coordinate===e&&(i=!0),l.coordinate===n&&(s=!0),l.coordinate));return i||o.push(e),s||o.push(n),o},X6=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:s,scale:o,realScaleType:l,isCategorical:u,categoricalDomain:d,tickCount:f,ticks:m,niceTicks:v,axisType:b}=t;if(!o)return null;var T=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,S=i==="category"&&o.bandwidth?o.bandwidth()/T:0;if(S=b==="angleAxis"&&s&&s.length>=2?os(s[0]-s[1])*2*S:S,m||v){var A=(m||v||[]).map((C,D)=>{var N=r?r.indexOf(C):C;return{coordinate:o(N)+S,value:C,offset:S,index:D}});return A.filter(C=>!hs(C.coordinate))}return u&&d?d.map((C,D)=>({coordinate:o(C)+S,value:C,index:D,offset:S})):o.ticks&&f!=null?o.ticks(f).map((C,D)=>({coordinate:o(C)+S,value:C,offset:S,index:D})):o.domain().map((C,D)=>({coordinate:o(C)+S,value:r?r[C]:C,index:D,offset:S}))},AV=1e-4,noe=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-AV,s=Math.max(r[0],r[1])+AV,o=t(e[0]),l=t(e[n-1]);(o<i||o>s||l<i||l>s)&&t.domain([e[0],e[n-1]])}},roe=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0,o=0;o<e;++o){var l=hs(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1])}},ioe=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0;s<e;++s){var o=hs(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=i,t[s][n][1]=i+o,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},soe={sign:roe,expand:Ore,none:jf,silhouette:Vre,wiggle:Lre,positive:ioe},ooe=(t,e,n)=>{var r=soe[n],i=kre().keys(e).value((s,o)=>+ei(s,o,0)).order(SA).offset(r);return i(t)};function CV(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:o}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!qn(i[e.dataKey])){var l=qB(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var u=ei(i,qn(o)?e.dataKey:o);return qn(u)?null:e.scale(u)}var aoe=t=>{var e=t.flat(2).filter(He);return[Math.min(...e),Math.max(...e)]},loe=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],uoe=(t,e,n)=>{if(t!=null)return loe(Object.keys(t).reduce((r,i)=>{var s=t[i],{stackedData:o}=s,l=o.reduce((u,d)=>{var f=J6(d,e,n),m=aoe(f);return[Math.min(u[0],m[0]),Math.max(u[1],m[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},IV=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,RV=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,VA=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=_b(e,f=>f.coordinate),s=1/0,o=1,l=i.length;o<l;o++){var u=i[o],d=i[o-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function PV(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return ss(ss({},e),{},{dataKey:n,payload:r,value:i,name:s})}function Z6(t,e){if(t)return String(t);if(typeof e=="string")return e}function coe(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var s=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return s?{x:t,y:e}:null}return r?Jse({x:t,y:e},r):null}var doe=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,{radius:o}=r;return ss(ss(ss({},r),Ir(r.cx,r.cy,o,s)),{},{angle:s,radius:o})}var l=i.coordinate,{angle:u}=r;return ss(ss(ss({},r),Ir(r.cx,r.cy,l,u)),{},{angle:u,radius:l})}return{x:0,y:0}},foe=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,ba=t=>t.layout.width,wa=t=>t.layout.height,hoe=t=>t.layout.scale,eq=t=>t.layout.margin,SI=me(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),AI=me(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),moe="data-recharts-item-index",poe="data-recharts-item-data-key",Rb=60;function NV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NV(Object(n),!0).forEach(function(r){goe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function goe(t,e,n){return(e=yoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yoe(t){var e=voe(t,"string");return typeof e=="symbol"?e:e+""}function voe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xoe=t=>t.brush.height,Mr=me([ba,wa,eq,xoe,SI,AI,E6,jie],(t,e,n,r,i,s,o,l)=>{var u=s.reduce((T,S)=>{var{orientation:A}=S;if(!S.mirror&&!S.hide){var C=typeof S.width=="number"?S.width:Rb;return cl(cl({},T),{},{[A]:T[A]+C})}return T},{left:n.left||0,right:n.right||0}),d=i.reduce((T,S)=>{var{orientation:A}=S;return!S.mirror&&!S.hide?cl(cl({},T),{},{[A]:Ic(T,"".concat(A))+S.height}):T},{top:n.top||0,bottom:n.bottom||0}),f=cl(cl({},d),u),m=f.bottom;f.bottom+=r,f=toe(f,o,l);var v=t-f.left-f.right,b=e-f.top-f.bottom;return cl(cl({brushBottom:m},f),{},{width:Math.max(v,0),height:Math.max(b,0)})}),boe=me(Mr,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),tq=me(ba,wa,(t,e)=>({x:0,y:0,width:t,height:e})),woe=M.createContext(null),gs=()=>M.useContext(woe)!=null,Pb=t=>t.brush,Nb=me([Pb,Mr,eq],(t,e,n)=>({height:t.height,x:He(t.x)?t.x:e.left,y:He(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:He(t.width)?t.width:e.width})),CI=()=>{var t,e=gs(),n=Je(boe),r=Je(Nb),i=(t=Je(Pb))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},_oe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},nq=()=>{var t;return(t=Je(Mr))!==null&&t!==void 0?t:_oe},II=()=>Je(ba),RI=()=>Je(wa),Toe={top:0,right:0,bottom:0,left:0},Eoe=()=>{var t;return(t=Je(e=>e.layout.margin))!==null&&t!==void 0?t:Toe},rn=t=>t.layout.layoutType,PI=()=>Je(rn),Soe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},rq=Fi({name:"legend",initialState:Soe,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=sa(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:MV,setLegendSettings:Aoe,addLegendPayload:Coe,removeLegendPayload:Ioe}=rq.actions,Roe=rq.reducer,Poe=["contextPayload"];function LA(){return LA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LA.apply(null,arguments)}function DV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DV(Object(n),!0).forEach(function(r){NI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NI(t,e,n){return(e=Noe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Noe(t){var e=Moe(t,"string");return typeof e=="symbol"?e:e+""}function Moe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Doe(t,e){if(t==null)return{};var n,r,i=koe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function koe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ooe(t){return t.value}function Voe(t){var{contextPayload:e}=t,n=Doe(t,Poe),r=b6(e,t.payloadUniqBy,Ooe),i=qf(qf({},n),{},{payload:r});return M.isValidElement(t.content)?M.cloneElement(t.content,i):typeof t.content=="function"?M.createElement(t.content,i):M.createElement(hI,i)}function Loe(t,e,n,r,i,s){var{layout:o,align:l,verticalAlign:u}=e,d,f;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(l==="center"&&o==="vertical"?d={left:((r||0)-s.width)/2}:d=l==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(u==="middle"?f={top:((i||0)-s.height)/2}:f=u==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),qf(qf({},d),f)}function Uoe(t){var e=Nr();return M.useEffect(()=>{e(Aoe(t))},[e,t]),null}function Foe(t){var e=Nr();return M.useEffect(()=>(e(MV(t)),()=>{e(MV({width:0,height:0}))}),[e,t]),null}function joe(t){var e=zie(),n=ire(),r=Eoe(),{width:i,height:s,wrapperStyle:o,portal:l}=t,[u,d]=S6([e]),f=II(),m=RI(),v=f-(r.left||0)-(r.right||0),b=Mb.getWidthOrHeight(t.layout,s,i,v),T=l?o:qf(qf({position:"absolute",width:(b==null?void 0:b.width)||i||"auto",height:(b==null?void 0:b.height)||s||"auto"},Loe(o,t,r,f,m,u)),o),S=l!=null?l:n;if(S==null)return null;var A=M.createElement("div",{className:"recharts-legend-wrapper",style:T,ref:d},M.createElement(Uoe,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),M.createElement(Foe,{width:u.width,height:u.height}),M.createElement(Voe,LA({},t,b,{margin:r,chartWidth:f,chartHeight:m,contextPayload:e})));return WB.createPortal(A,S)}class Mb extends M.PureComponent{static getWidthOrHeight(e,n,r,i){return e==="vertical"&&He(n)?{height:n}:e==="horizontal"?{width:r||i}:null}render(){return M.createElement(joe,this.props)}}NI(Mb,"displayName","Legend");NI(Mb,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function UA(){return UA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UA.apply(null,arguments)}function kV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kV(Object(n),!0).forEach(function(r){Boe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Boe(t,e,n){return(e=qoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qoe(t){var e=zoe(t,"string");return typeof e=="symbol"?e:e+""}function zoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $oe(t){return Array.isArray(t)&&bo(t[0])&&bo(t[1])?t.join(" ~ "):t}var Goe=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:o,itemSorter:l,wrapperClassName:u,labelClassName:d,label:f,labelFormatter:m,accessibilityLayer:v=!1}=t,b=()=>{if(s&&s.length){var V={padding:0,margin:0},B=(l?_b(s,l):s).map((k,R)=>{if(k.type==="none")return null;var O=k.formatter||o||$oe,{value:j,name:q}=k,H=j,G=q;if(O){var he=O(j,q,k,R,s);if(Array.isArray(he))[H,G]=he;else if(he!=null)H=he;else return null}var we=QE({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},r);return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:we},bo(G)?M.createElement("span",{className:"recharts-tooltip-item-name"},G):null,bo(G)?M.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,M.createElement("span",{className:"recharts-tooltip-item-value"},H),M.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:V},B)}return null},T=QE({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),S=QE({margin:0},i),A=!qn(f),C=A?f:"",D=Gt("recharts-default-tooltip",u),N=Gt("recharts-tooltip-label",d);A&&m&&s!==void 0&&s!==null&&(C=m(f,s));var F=v?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",UA({className:D,style:T},F),M.createElement("p",{className:N,style:S},M.isValidElement(C)?C:"".concat(C)),b())},tp="recharts-tooltip-wrapper",Hoe={visibility:"hidden"};function Koe(t){var{coordinate:e,translateX:n,translateY:r}=t;return Gt(tp,{["".concat(tp,"-right")]:He(n)&&e&&He(e.x)&&n>=e.x,["".concat(tp,"-left")]:He(n)&&e&&He(e.x)&&n<e.x,["".concat(tp,"-bottom")]:He(r)&&e&&He(e.y)&&r>=e.y,["".concat(tp,"-top")]:He(r)&&e&&He(e.y)&&r<e.y})}function OV(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:o,tooltipDimension:l,viewBox:u,viewBoxDimension:d}=t;if(s&&He(s[r]))return s[r];var f=n[r]-l-(i>0?i:0),m=n[r]+i;if(e[r])return o[r]?f:m;var v=u[r];if(v==null)return 0;if(o[r]){var b=f,T=v;return b<T?Math.max(m,v):Math.max(f,v)}if(d==null)return 0;var S=m+l,A=v+d;return S>A?Math.max(f,v):Math.max(m,v)}function Woe(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Yoe(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:o,useTranslate3d:l,viewBox:u}=t,d,f,m;return o.height>0&&o.width>0&&n?(f=OV({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),m=OV({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),d=Woe({translateX:f,translateY:m,useTranslate3d:l})):d=Hoe,{cssProperties:d,cssClasses:Koe({translateX:f,translateY:m,coordinate:n})}}function VV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VV(Object(n),!0).forEach(function(r){FA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FA(t,e,n){return(e=Joe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Joe(t){var e=Qoe(t,"string");return typeof e=="symbol"?e:e+""}function Qoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Xoe extends M.PureComponent{constructor(){super(...arguments),FA(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),FA(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:o,hasPayload:l,isAnimationActive:u,offset:d,position:f,reverseDirection:m,useTranslate3d:v,viewBox:b,wrapperStyle:T,lastBoundingBox:S,innerRef:A,hasPortalFromProps:C}=this.props,{cssClasses:D,cssProperties:N}=Yoe({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:d,position:f,reverseDirection:m,tooltipBox:{height:S.height,width:S.width},useTranslate3d:v,viewBox:b}),F=C?{}:Xv(Xv({transition:u&&e?"transform ".concat(r,"ms ").concat(i):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),V=Xv(Xv({},F),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},T);return M.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:D,style:V,ref:A},s)}}var Zoe=()=>!(typeof window!="undefined"&&window.document&&window.document.createElement&&window.setTimeout),Kg={isSsr:Zoe()},iq=()=>Je(t=>t.rootProps.accessibilityLayer);function ks(t){return Number.isFinite(t)}function px(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function jA(){return jA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jA.apply(null,arguments)}function LV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LV(Object(n),!0).forEach(function(r){eae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eae(t,e,n){return(e=tae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tae(t){var e=nae(t,"string");return typeof e=="symbol"?e:e+""}function nae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FV={curveBasisClosed:Tre,curveBasisOpen:Ere,curveBasis:_re,curveBumpX:lre,curveBumpY:ure,curveLinearClosed:Sre,curveLinear:bb,curveMonotoneX:Are,curveMonotoneY:Cre,curveNatural:Ire,curveStep:Rre,curveStepAfter:Nre,curveStepBefore:Pre},Zv=t=>ks(t.x)&&ks(t.y),np=t=>t.x,rp=t=>t.y,rae=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Gg(t));return(n==="curveMonotone"||n==="curveBump")&&e?FV["".concat(n).concat(e==="vertical"?"Y":"X")]:FV[n]||bb},iae=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,o=rae(e,i),l=s?n.filter(Zv):n,u;if(Array.isArray(r)){var d=s?r.filter(m=>Zv(m)):r,f=l.map((m,v)=>UV(UV({},m),{},{base:d[v]}));return i==="vertical"?u=Kv().y(rp).x1(np).x0(m=>m.base.x):u=Kv().x(np).y1(rp).y0(m=>m.base.y),u.defined(Zv).curve(o),u(f)}return i==="vertical"&&He(r)?u=Kv().y(rp).x1(np).x0(r):He(r)?u=Kv().x(np).y1(rp).y0(r):u=t6().x(np).y(rp),u.defined(Zv).curve(o),u(l)},sq=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var s=n&&n.length?iae(t):r;return M.createElement("path",jA({},xh(t),aI(t),{className:Gt("recharts-curve",e),d:s===null?void 0:s,ref:i}))},sae=["x","y","top","left","width","height","className"];function BA(){return BA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BA.apply(null,arguments)}function jV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jV(Object(n),!0).forEach(function(r){aae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aae(t,e,n){return(e=lae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lae(t){var e=uae(t,"string");return typeof e=="symbol"?e:e+""}function uae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cae(t,e){if(t==null)return{};var n,r,i=dae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var fae=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),hae=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:o=0,className:l}=t,u=cae(t,sae),d=oae({x:e,y:n,top:r,left:i,width:s,height:o},u);return!He(e)||!He(n)||!He(s)||!He(o)||!He(r)||!He(i)?null:M.createElement("path",BA({},Xn(d,!0),{className:Gt("recharts-cross",l),d:fae(e,n,s,o,r,i)}))};function mae(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function BV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BV(Object(n),!0).forEach(function(r){gae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gae(t,e,n){return(e=yae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yae(t){var e=vae(t,"string");return typeof e=="symbol"?e:e+""}function vae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xl(t,e){var n=pae({},t),r=e,i=Object.keys(e),s=i.reduce((o,l)=>(o[l]===void 0&&r[l]!==void 0&&(o[l]=r[l]),o),n);return s}var XE={},ZE={},eS={},qV;function xae(){return qV||(qV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}t.isPlainObject=e})(eS)),eS}var zV;function bae(){return zV||(zV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xae(),n=y6(),r=yI(),i=vI(),s=pI();function o(d,f,m){return l(d,f,void 0,void 0,void 0,void 0,m)}function l(d,f,m,v,b,T,S){const A=S(d,f,m,v,b,T);if(A!==void 0)return A;if(typeof d==typeof f)switch(typeof d){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return d===f;case"number":return d===f||Object.is(d,f);case"function":return d===f;case"object":return u(d,f,T,S)}return u(d,f,T,S)}function u(d,f,m,v){if(Object.is(d,f))return!0;let b=r.getTag(d),T=r.getTag(f);if(b===i.argumentsTag&&(b=i.objectTag),T===i.argumentsTag&&(T=i.objectTag),b!==T)return!1;switch(b){case i.stringTag:return d.toString()===f.toString();case i.numberTag:{const C=d.valueOf(),D=f.valueOf();return s.eq(C,D)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(d.valueOf(),f.valueOf());case i.regexpTag:return d.source===f.source&&d.flags===f.flags;case i.functionTag:return d===f}m=m!=null?m:new Map;const S=m.get(d),A=m.get(f);if(S!=null&&A!=null)return S===f;m.set(d,f),m.set(f,d);try{switch(b){case i.mapTag:{if(d.size!==f.size)return!1;for(const[C,D]of d.entries())if(!f.has(C)||!l(D,f.get(C),C,d,f,m,v))return!1;return!0}case i.setTag:{if(d.size!==f.size)return!1;const C=Array.from(d.values()),D=Array.from(f.values());for(let N=0;N<C.length;N++){const F=C[N],V=D.findIndex(B=>l(F,B,void 0,d,f,m,v));if(V===-1)return!1;D.splice(V,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer!="undefined"&&Buffer.isBuffer(d)!==Buffer.isBuffer(f)||d.length!==f.length)return!1;for(let C=0;C<d.length;C++)if(!l(d[C],f[C],C,d,f,m,v))return!1;return!0}case i.arrayBufferTag:return d.byteLength!==f.byteLength?!1:u(new Uint8Array(d),new Uint8Array(f),m,v);case i.dataViewTag:return d.byteLength!==f.byteLength||d.byteOffset!==f.byteOffset?!1:u(new Uint8Array(d),new Uint8Array(f),m,v);case i.errorTag:return d.name===f.name&&d.message===f.message;case i.objectTag:{if(!(u(d.constructor,f.constructor,m,v)||e.isPlainObject(d)&&e.isPlainObject(f)))return!1;const D=[...Object.keys(d),...n.getSymbols(d)],N=[...Object.keys(f),...n.getSymbols(f)];if(D.length!==N.length)return!1;for(let F=0;F<D.length;F++){const V=D[F],B=d[V];if(!Object.hasOwn(f,V))return!1;const k=f[V];if(!l(B,k,V,d,f,m,v))return!1}return!0}default:return!1}}finally{m.delete(d),m.delete(f)}}t.isEqualWith=o})(ZE)),ZE}var tS={},$V;function wae(){return $V||($V=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e})(tS)),tS}var GV;function _ae(){return GV||(GV=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bae(),n=wae();function r(i,s){return e.isEqualWith(i,s,n.noop)}t.isEqual=r})(XE)),XE}var nS,HV;function Tae(){return HV||(HV=1,nS=_ae().isEqual),nS}var Eae=Tae();const Sae=Eo(Eae);var gx=1e-4,oq=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],aq=(t,e)=>t.map((n,r)=>n*ll(e,r)).reduce((n,r)=>n+r),KV=(t,e)=>n=>{var r=oq(t,e);return aq(r,n)},Aae=(t,e)=>n=>{var r=oq(t,e),i=[...r.map((s,o)=>s*o).slice(1),0];return aq(i,n)},WV=function(){for(var e,n,r,i,s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];if(o.length===1)switch(o[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var u=o[0].split("(");u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4&&([e,r,n,i]=u[1].split(")")[0].split(",").map(T=>parseFloat(T)))}}else o.length===4&&([e,r,n,i]=o);var d=KV(e,n),f=KV(r,i),m=Aae(e,n),v=T=>T>1?1:T<0?0:T,b=T=>{for(var S=T>1?1:T,A=S,C=0;C<8;++C){var D=d(A)-S,N=m(A);if(Math.abs(D-S)<gx||N<gx)return f(A);A=v(A-D/N)}return f(A)};return b.isStepper=!1,b},Cae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(o,l,u)=>{var d=-(o-l)*n,f=u*r,m=u+(d-f)*i/1e3,v=u*i/1e3+o;return Math.abs(v-l)<gx&&Math.abs(m)<gx?[l,0]:[v,m]};return s.isStepper=!0,s.dt=i,s},lq=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return WV(t);case"spring":return Cae();default:if(t.split("(")[0]==="cubic-bezier")return WV(t)}return typeof t=="function"?t:null};function YV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YV(Object(n),!0).forEach(function(r){Iae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iae(t,e,n){return(e=Rae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rae(t){var e=Pae(t,"string");return typeof e=="symbol"?e:e+""}function Pae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nae=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),Mae=(t,e,n)=>t.map(r=>"".concat(Nae(r)," ").concat(e,"ms ").concat(n)).join(","),Dae=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),lg=(t,e)=>Object.keys(e).reduce((n,r)=>JV(JV({},n),{},{[r]:t(r,e[r])}),{});function QV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Er(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QV(Object(n),!0).forEach(function(r){kae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kae(t,e,n){return(e=Oae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oae(t){var e=Vae(t,"string");return typeof e=="symbol"?e:e+""}function Vae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yx=(t,e,n)=>t+(e-t)*n,qA=t=>{var{from:e,to:n}=t;return e!==n},uq=(t,e,n)=>{var r=lg((i,s)=>{if(qA(s)){var[o,l]=t(s.from,s.to,s.velocity);return Er(Er({},s),{},{from:o,velocity:l})}return s},e);return n<1?lg((i,s)=>qA(s)?Er(Er({},s),{},{velocity:yx(s.velocity,r[i].velocity,n),from:yx(s.from,r[i].from,n)}):s,e):uq(t,r,n-1)};function Lae(t,e,n,r,i,s){var o,l=r.reduce((v,b)=>Er(Er({},v),{},{[b]:{from:t[b],velocity:0,to:e[b]}}),{}),u=()=>lg((v,b)=>b.from,l),d=()=>!Object.values(l).filter(qA).length,f=null,m=v=>{o||(o=v);var b=v-o,T=b/n.dt;l=uq(n,l,T),i(Er(Er(Er({},t),e),u())),o=v,d()||(f=s.setTimeout(m))};return()=>(f=s.setTimeout(m),()=>{f()})}function Uae(t,e,n,r,i,s,o){var l=null,u=i.reduce((m,v)=>Er(Er({},m),{},{[v]:[t[v],e[v]]}),{}),d,f=m=>{d||(d=m);var v=(m-d)/r,b=lg((S,A)=>yx(...A,n(v)),u);if(s(Er(Er(Er({},t),e),b)),v<1)l=o.setTimeout(f);else{var T=lg((S,A)=>yx(...A,n(1)),u);s(Er(Er(Er({},t),e),T))}};return()=>(l=o.setTimeout(f),()=>{l()})}const cq=(t,e,n,r,i,s)=>{var o=Dae(t,e);return n.isStepper===!0?Lae(t,e,n,o,i,s):Uae(t,e,n,r,o,i,s)};function Fae(t){var e,n=()=>null,r=!1,i=null,s=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var l=o,[u,...d]=l;if(typeof u=="number"){i=t.setTimeout(s.bind(null,d),u);return}s(u),i=t.setTimeout(s.bind(null,d));return}typeof o=="string"&&(e=o,n(e)),typeof o=="object"&&(e=o,n(e)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),s(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>t}}class jae{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=o=>{o-r>=n?e(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}function Bae(){return Fae(new jae)}var qae=M.createContext(Bae);function dq(t,e){var n=M.useContext(qae);return M.useMemo(()=>e!=null?e:n(t),[t,e,n])}var zae=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function zA(){return zA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zA.apply(null,arguments)}function $ae(t,e){if(t==null)return{};var n,r,i=Gae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function XV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XV(Object(n),!0).forEach(function(r){sc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sc(t,e,n){return(e=Hae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hae(t){var e=Kae(t,"string");return typeof e=="symbol"?e:e+""}function Kae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class MI extends M.PureComponent{constructor(e,n){super(e,n),sc(this,"mounted",!1),sc(this,"manager",void 0),sc(this,"stopJSAnimation",null),sc(this,"unSubscribe",null);var{isActive:r,attributeName:i,from:s,to:o,children:l,duration:u,animationManager:d}=this.props;if(this.manager=d,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||u<=0){this.state={style:{}},typeof l=="function"&&(this.state={style:o});return}if(s){if(typeof l=="function"){this.state={style:s};return}this.state={style:i?{[i]:s}:s}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:n}=this.props;this.mounted=!0,!(!e||!n)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:n,canBegin:r,attributeName:i,shouldReAnimate:s,to:o,from:l}=this.props,{style:u}=this.state;if(r){if(!n){var d={style:i?{[i]:o}:o};this.state&&u&&(i&&u[i]!==o||!i&&u!==o)&&this.setState(d);return}if(!(Sae(e.to,o)&&e.canBegin&&e.isActive)){var f=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=f||s?l:e.to;if(this.state&&u){var v={style:i?{[i]:m}:m};(i&&u[i]!==m||!i&&u!==m)&&this.setState(v)}this.runAnimation(dl(dl({},this.props),{},{from:m,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:n,to:r,duration:i,easing:s,begin:o,onAnimationEnd:l,onAnimationStart:u}=e,d=cq(n,r,lq(s),i,this.changeStyle,this.manager.getTimeoutController()),f=()=>{this.stopJSAnimation=d()};this.manager.start([u,o,f,i,l])}runAnimation(e){var{begin:n,duration:r,attributeName:i,to:s,easing:o,onAnimationStart:l,onAnimationEnd:u,children:d}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof o=="function"||typeof d=="function"||o==="spring"){this.runJSAnimation(e);return}var f=i?{[i]:s}:s,m=Mae(Object.keys(f),r,o);this.manager.start([l,n,dl(dl({},f),{},{transition:m}),r,u])}render(){var e=this.props,{children:n,begin:r,duration:i,attributeName:s,easing:o,isActive:l,from:u,to:d,canBegin:f,onAnimationEnd:m,shouldReAnimate:v,onAnimationReStart:b,animationManager:T}=e,S=$ae(e,zae),A=M.Children.count(n),C=this.state.style;if(typeof n=="function")return n(C);if(!l||A===0||i<=0)return n;var D=N=>{var{style:F={},className:V}=N.props,B=M.cloneElement(N,dl(dl({},S),{},{style:dl(dl({},F),C),className:V}));return B};return A===1?D(M.Children.only(n)):M.createElement("div",null,M.Children.map(n,N=>D(N)))}}sc(MI,"displayName","Animate");sc(MI,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function ZV(t){var e,n=dq((e=t.attributeName)!==null&&e!==void 0?e:Object.keys(t.to).join(","),t.animationManager);return M.createElement(MI,zA({},t,{animationManager:n}))}function vx(){return vx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vx.apply(null,arguments)}var eL=(t,e,n,r,i)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,l=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0,d;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],m=0,v=4;m<v;m++)f[m]=i[m]>s?s:i[m];d="M".concat(t,",").concat(e+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+l*f[0],",").concat(e)),d+="L ".concat(t+n-l*f[1],",").concat(e),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(e+o*f[1])),d+="L ".concat(t+n,",").concat(e+r-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-l*f[2],",").concat(e+r)),d+="L ".concat(t+l*f[3],",").concat(e+r),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(e+r-o*f[3])),d+="Z"}else if(s>0&&i===+i&&i>0){var b=Math.min(s,i);d="M ".concat(t,",").concat(e+o*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+l*b,",").concat(e,`
            L `).concat(t+n-l*b,",").concat(e,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+n,",").concat(e+o*b,`
            L `).concat(t+n,",").concat(e+r-o*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+n-l*b,",").concat(e+r,`
            L `).concat(t+l*b,",").concat(e+r,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t,",").concat(e+r-o*b," Z")}else d="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},Wae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Yae=t=>{var e=Xl(t,Wae),n=M.useRef(null),[r,i]=M.useState(-1);M.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&i(C)}catch(D){}},[]);var{x:s,y:o,width:l,height:u,radius:d,className:f}=e,{animationEasing:m,animationDuration:v,animationBegin:b,isAnimationActive:T,isUpdateAnimationActive:S}=e;if(s!==+s||o!==+o||l!==+l||u!==+u||l===0||u===0)return null;var A=Gt("recharts-rectangle",f);return S?M.createElement(ZV,{canBegin:r>0,from:{width:l,height:u,x:s,y:o},to:{width:l,height:u,x:s,y:o},duration:v,animationEasing:m,isActive:S},C=>{var{width:D,height:N,x:F,y:V}=C;return M.createElement(ZV,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:v,isActive:T,easing:m},M.createElement("path",vx({},Xn(e,!0),{className:A,d:eL(F,V,D,N,d),ref:n})))}):M.createElement("path",vx({},Xn(e,!0),{className:A,d:eL(s,o,l,u,d)}))};function fq(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,o=Ir(e,n,r,i),l=Ir(e,n,r,s);return{points:[o,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function $A(){return $A=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$A.apply(null,arguments)}var Jae=(t,e)=>{var n=os(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},e0=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:o,cornerRadius:l,cornerIsExternal:u}=t,d=l*(o?1:-1)+r,f=Math.asin(l/d)/mx,m=u?i:i+s*f,v=Ir(e,n,d,m),b=Ir(e,n,r,m),T=u?i-s*f:i,S=Ir(e,n,d*Math.cos(f*mx),T);return{center:v,circleTangency:b,lineTangency:S,theta:f}},hq=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:o}=t,l=Jae(s,o),u=s+l,d=Ir(e,n,i,s),f=Ir(e,n,i,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(r>0){var v=Ir(e,n,r,s),b=Ir(e,n,r,u);m+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(v.x,",").concat(v.y," Z")}else m+="L ".concat(e,",").concat(n," Z");return m},Qae=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d}=t,f=os(d-u),{circleTangency:m,lineTangency:v,theta:b}=e0({cx:e,cy:n,radius:i,angle:u,sign:f,cornerRadius:s,cornerIsExternal:l}),{circleTangency:T,lineTangency:S,theta:A}=e0({cx:e,cy:n,radius:i,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:l}),C=l?Math.abs(u-d):Math.abs(u-d)-b-A;if(C<0)return o?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):hq({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:d});var D="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(T.x,",").concat(T.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,`
  `);if(r>0){var{circleTangency:N,lineTangency:F,theta:V}=e0({cx:e,cy:n,radius:r,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:B,lineTangency:k,theta:R}=e0({cx:e,cy:n,radius:r,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),O=l?Math.abs(u-d):Math.abs(u-d)-V-R;if(O<0&&s===0)return"".concat(D,"L").concat(e,",").concat(n,"Z");D+="L".concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(B.x,",").concat(B.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(O>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(F.x,",").concat(F.y,"Z")}else D+="L".concat(e,",").concat(n,"Z");return D},Xae={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Zae=t=>{var e=Xl(t,Xae),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f,className:m}=e;if(s<i||d===f)return null;var v=Gt("recharts-sector",m),b=s-i,T=Ll(o,b,0,!0),S;return T>0&&Math.abs(d-f)<360?S=Qae({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(T,b/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):S=hq({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:d,endAngle:f}),M.createElement("path",$A({},Xn(e,!0),{className:v,d:S}))};function ele(t,e,n){var r,i,s,o;if(t==="horizontal")r=e.x,s=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:l,cy:u,innerRadius:d,outerRadius:f,angle:m}=e,v=Ir(l,u,d,m),b=Ir(l,u,f,m);r=v.x,i=v.y,s=b.x,o=b.y}else return fq(e);return[{x:r,y:i},{x:s,y:o}]}var rS={},iS={},sS={},tL;function tle(){return tL||(tL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_6();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(sS)),sS}var nL;function nle(){return nL||(nL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tle();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(iS)),iS}var rL;function rle(){return rL||(rL=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=T6(),n=nle();function r(i,s,o){o&&typeof o!="number"&&e.isIterateeCall(i,s,o)&&(s=o=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),o=o===void 0?i<s?1:-1:n.toFinite(o);const l=Math.max(Math.ceil((s-i)/(o||1)),0),u=new Array(l);for(let d=0;d<l;d++)u[d]=i,i+=o;return u}t.range=r})(rS)),rS}var oS,iL;function ile(){return iL||(iL=1,oS=rle().range),oS}var sle=ile();const mq=Eo(sle);function Rl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ole(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function DI(t){let e,n,r;t.length!==2?(e=Rl,n=(l,u)=>Rl(t(l),u),r=(l,u)=>t(l)-u):(e=t===Rl||t===ole?t:ale,n=t,r=t);function i(l,u,d=0,f=l.length){if(d<f){if(e(u,u)!==0)return f;do{const m=d+f>>>1;n(l[m],u)<0?d=m+1:f=m}while(d<f)}return d}function s(l,u,d=0,f=l.length){if(d<f){if(e(u,u)!==0)return f;do{const m=d+f>>>1;n(l[m],u)<=0?d=m+1:f=m}while(d<f)}return d}function o(l,u,d=0,f=l.length){const m=i(l,u,d,f-1);return m>d&&r(l[m-1],u)>-r(l[m],u)?m-1:m}return{left:i,center:o,right:s}}function ale(){return 0}function pq(t){return t===null?NaN:+t}function*lle(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const ule=DI(Rl),Wg=ule.right;DI(pq).center;class sL extends Map{constructor(e,n=fle){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(oL(this,e))}has(e){return super.has(oL(this,e))}set(e,n){return super.set(cle(this,e),n)}delete(e){return super.delete(dle(this,e))}}function oL({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function cle({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function dle({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function fle(t){return t!==null&&typeof t=="object"?t.valueOf():t}function hle(t=Rl){if(t===Rl)return gq;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function gq(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const mle=Math.sqrt(50),ple=Math.sqrt(10),gle=Math.sqrt(2);function xx(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=mle?10:s>=ple?5:s>=gle?2:1;let l,u,d;return i<0?(d=Math.pow(10,-i)/o,l=Math.round(t*d),u=Math.round(e*d),l/d<t&&++l,u/d>e&&--u,d=-d):(d=Math.pow(10,i)*o,l=Math.round(t/d),u=Math.round(e/d),l*d<t&&++l,u*d>e&&--u),u<l&&.5<=n&&n<2?xx(t,e,n*2):[l,u,d]}function GA(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?xx(e,t,n):xx(t,e,n);if(!(s>=i))return[];const l=s-i+1,u=new Array(l);if(r)if(o<0)for(let d=0;d<l;++d)u[d]=(s-d)/-o;else for(let d=0;d<l;++d)u[d]=(s-d)*o;else if(o<0)for(let d=0;d<l;++d)u[d]=(i+d)/-o;else for(let d=0;d<l;++d)u[d]=(i+d)*o;return u}function HA(t,e,n){return e=+e,t=+t,n=+n,xx(t,e,n)[2]}function KA(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?HA(e,t,n):HA(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function aL(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function lL(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function yq(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?gq:hle(i);r>n;){if(r-n>600){const u=r-n+1,d=e-n+1,f=Math.log(u),m=.5*Math.exp(2*f/3),v=.5*Math.sqrt(f*m*(u-m)/u)*(d-u/2<0?-1:1),b=Math.max(n,Math.floor(e-d*m/u+v)),T=Math.min(r,Math.floor(e+(u-d)*m/u+v));yq(t,e,b,T,i)}const s=t[e];let o=n,l=r;for(ip(t,n,e),i(t[r],s)>0&&ip(t,n,r);o<l;){for(ip(t,o,l),++o,--l;i(t[o],s)<0;)++o;for(;i(t[l],s)>0;)--l}i(t[n],s)===0?ip(t,n,l):(++l,ip(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function ip(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function yle(t,e,n){if(t=Float64Array.from(lle(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return lL(t);if(e>=1)return aL(t);var r,i=(r-1)*e,s=Math.floor(i),o=aL(yq(t,s).subarray(0,s+1)),l=lL(t.subarray(s+1));return o+(l-o)*(i-s)}}function vle(t,e,n=pq){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),o=+n(t[s],s,t),l=+n(t[s+1],s+1,t);return o+(l-o)*(i-s)}}function xle(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function ys(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function _a(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const WA=Symbol("implicit");function kI(){var t=new sL,e=[],n=[],r=WA;function i(s){let o=t.get(s);if(o===void 0){if(r!==WA)return r;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new sL;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return kI(e,n).unknown(r)},ys.apply(i,arguments),i}function OI(){var t=kI().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,o,l=!1,u=0,d=0,f=.5;delete t.unknown;function m(){var v=e().length,b=i<r,T=b?i:r,S=b?r:i;s=(S-T)/Math.max(1,v-u+d*2),l&&(s=Math.floor(s)),T+=(S-T-s*(v-u))*f,o=s*(1-u),l&&(T=Math.round(T),o=Math.round(o));var A=xle(v).map(function(C){return T+s*C});return n(b?A.reverse():A)}return t.domain=function(v){return arguments.length?(e(v),m()):e()},t.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,l=!0,m()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(v){return arguments.length?(l=!!v,m()):l},t.padding=function(v){return arguments.length?(u=Math.min(1,d=+v),m()):u},t.paddingInner=function(v){return arguments.length?(u=Math.min(1,v),m()):u},t.paddingOuter=function(v){return arguments.length?(d=+v,m()):d},t.align=function(v){return arguments.length?(f=Math.max(0,Math.min(1,v)),m()):f},t.copy=function(){return OI(e(),[r,i]).round(l).paddingInner(u).paddingOuter(d).align(f)},ys.apply(m(),arguments)}function vq(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return vq(e())},t}function ble(){return vq(OI.apply(null,arguments).paddingInner(1))}function VI(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function xq(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Yg(){}var ug=.7,bx=1/ug,Cf="\\s*([+-]?\\d+)\\s*",cg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",co="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wle=/^#([0-9a-f]{3,8})$/,_le=new RegExp(`^rgb\\(${Cf},${Cf},${Cf}\\)$`),Tle=new RegExp(`^rgb\\(${co},${co},${co}\\)$`),Ele=new RegExp(`^rgba\\(${Cf},${Cf},${Cf},${cg}\\)$`),Sle=new RegExp(`^rgba\\(${co},${co},${co},${cg}\\)$`),Ale=new RegExp(`^hsl\\(${cg},${co},${co}\\)$`),Cle=new RegExp(`^hsla\\(${cg},${co},${co},${cg}\\)$`),uL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};VI(Yg,dg,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:cL,formatHex:cL,formatHex8:Ile,formatHsl:Rle,formatRgb:dL,toString:dL});function cL(){return this.rgb().formatHex()}function Ile(){return this.rgb().formatHex8()}function Rle(){return bq(this).formatHsl()}function dL(){return this.rgb().formatRgb()}function dg(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=wle.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?fL(e):n===3?new ui(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?t0(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?t0(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=_le.exec(t))?new ui(e[1],e[2],e[3],1):(e=Tle.exec(t))?new ui(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ele.exec(t))?t0(e[1],e[2],e[3],e[4]):(e=Sle.exec(t))?t0(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ale.exec(t))?pL(e[1],e[2]/100,e[3]/100,1):(e=Cle.exec(t))?pL(e[1],e[2]/100,e[3]/100,e[4]):uL.hasOwnProperty(t)?fL(uL[t]):t==="transparent"?new ui(NaN,NaN,NaN,0):null}function fL(t){return new ui(t>>16&255,t>>8&255,t&255,1)}function t0(t,e,n,r){return r<=0&&(t=e=n=NaN),new ui(t,e,n,r)}function Ple(t){return t instanceof Yg||(t=dg(t)),t?(t=t.rgb(),new ui(t.r,t.g,t.b,t.opacity)):new ui}function YA(t,e,n,r){return arguments.length===1?Ple(t):new ui(t,e,n,r==null?1:r)}function ui(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}VI(ui,YA,xq(Yg,{brighter(t){return t=t==null?bx:Math.pow(bx,t),new ui(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ug:Math.pow(ug,t),new ui(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ui(vc(this.r),vc(this.g),vc(this.b),wx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hL,formatHex:hL,formatHex8:Nle,formatRgb:mL,toString:mL}));function hL(){return`#${oc(this.r)}${oc(this.g)}${oc(this.b)}`}function Nle(){return`#${oc(this.r)}${oc(this.g)}${oc(this.b)}${oc((isNaN(this.opacity)?1:this.opacity)*255)}`}function mL(){const t=wx(this.opacity);return`${t===1?"rgb(":"rgba("}${vc(this.r)}, ${vc(this.g)}, ${vc(this.b)}${t===1?")":`, ${t})`}`}function wx(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function vc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function oc(t){return t=vc(t),(t<16?"0":"")+t.toString(16)}function pL(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Cs(t,e,n,r)}function bq(t){if(t instanceof Cs)return new Cs(t.h,t.s,t.l,t.opacity);if(t instanceof Yg||(t=dg(t)),!t)return new Cs;if(t instanceof Cs)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,l=s-i,u=(s+i)/2;return l?(e===s?o=(n-r)/l+(n<r)*6:n===s?o=(r-e)/l+2:o=(e-n)/l+4,l/=u<.5?s+i:2-s-i,o*=60):l=u>0&&u<1?0:o,new Cs(o,l,u,t.opacity)}function Mle(t,e,n,r){return arguments.length===1?bq(t):new Cs(t,e,n,r==null?1:r)}function Cs(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}VI(Cs,Mle,xq(Yg,{brighter(t){return t=t==null?bx:Math.pow(bx,t),new Cs(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ug:Math.pow(ug,t),new Cs(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ui(aS(t>=240?t-240:t+120,i,r),aS(t,i,r),aS(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Cs(gL(this.h),n0(this.s),n0(this.l),wx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=wx(this.opacity);return`${t===1?"hsl(":"hsla("}${gL(this.h)}, ${n0(this.s)*100}%, ${n0(this.l)*100}%${t===1?")":`, ${t})`}`}}));function gL(t){return t=(t||0)%360,t<0?t+360:t}function n0(t){return Math.max(0,Math.min(1,t||0))}function aS(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const LI=t=>()=>t;function Dle(t,e){return function(n){return t+n*e}}function kle(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Ole(t){return(t=+t)==1?wq:function(e,n){return n-e?kle(e,n,t):LI(isNaN(e)?n:e)}}function wq(t,e){var n=e-t;return n?Dle(t,n):LI(isNaN(t)?e:t)}const yL=(function t(e){var n=Ole(e);function r(i,s){var o=n((i=YA(i)).r,(s=YA(s)).r),l=n(i.g,s.g),u=n(i.b,s.b),d=wq(i.opacity,s.opacity);return function(f){return i.r=o(f),i.g=l(f),i.b=u(f),i.opacity=d(f),i+""}}return r.gamma=t,r})(1);function Vle(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function Lle(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ule(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=bh(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(l){for(o=0;o<r;++o)s[o]=i[o](l);return s}}function Fle(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function _x(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function jle(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=bh(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var JA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lS=new RegExp(JA.source,"g");function Ble(t){return function(){return t}}function qle(t){return function(e){return t(e)+""}}function zle(t,e){var n=JA.lastIndex=lS.lastIndex=0,r,i,s,o=-1,l=[],u=[];for(t=t+"",e=e+"";(r=JA.exec(t))&&(i=lS.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[o]?l[o]+=s:l[++o]=s),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,u.push({i:o,x:_x(r,i)})),n=lS.lastIndex;return n<e.length&&(s=e.slice(n),l[o]?l[o]+=s:l[++o]=s),l.length<2?u[0]?qle(u[0].x):Ble(e):(e=u.length,function(d){for(var f=0,m;f<e;++f)l[(m=u[f]).i]=m.x(d);return l.join("")})}function bh(t,e){var n=typeof e,r;return e==null||n==="boolean"?LI(e):(n==="number"?_x:n==="string"?(r=dg(e))?(e=r,yL):zle:e instanceof dg?yL:e instanceof Date?Fle:Lle(e)?Vle:Array.isArray(e)?Ule:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?jle:_x)(t,e)}function UI(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function $le(t,e){e===void 0&&(e=t,t=bh);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[l](o-l)}}function Gle(t){return function(){return t}}function Tx(t){return+t}var vL=[0,1];function Qr(t){return t}function QA(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Gle(isNaN(e)?NaN:.5)}function Hle(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Kle(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=QA(i,r),s=n(o,s)):(r=QA(r,i),s=n(s,o)),function(l){return s(r(l))}}function Wle(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=QA(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(l){var u=Wg(t,l,1,r)-1;return s[u](i[u](l))}}function Jg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Db(){var t=vL,e=vL,n=bh,r,i,s,o=Qr,l,u,d;function f(){var v=Math.min(t.length,e.length);return o!==Qr&&(o=Hle(t[0],t[v-1])),l=v>2?Wle:Kle,u=d=null,m}function m(v){return v==null||isNaN(v=+v)?s:(u||(u=l(t.map(r),e,n)))(r(o(v)))}return m.invert=function(v){return o(i((d||(d=l(e,t.map(r),_x)))(v)))},m.domain=function(v){return arguments.length?(t=Array.from(v,Tx),f()):t.slice()},m.range=function(v){return arguments.length?(e=Array.from(v),f()):e.slice()},m.rangeRound=function(v){return e=Array.from(v),n=UI,f()},m.clamp=function(v){return arguments.length?(o=v?!0:Qr,f()):o!==Qr},m.interpolate=function(v){return arguments.length?(n=v,f()):n},m.unknown=function(v){return arguments.length?(s=v,m):s},function(v,b){return r=v,i=b,f()}}function FI(){return Db()(Qr,Qr)}function Yle(t,e){return function(n,r){for(var i=n.length,s=[],o=0,l=t[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),s.push(n.substring(i-=l,i+l)),!((u+=l+1)>r));)l=t[o=(o+1)%t.length];return s.reverse().join(e)}}function Jle(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Qle=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fg(t){if(!(e=Qle.exec(t)))throw new Error("invalid format: "+t);var e;return new jI({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}fg.prototype=jI.prototype;function jI(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}jI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Xle(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}function Zle(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function XA(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}var _q;function eue(t,e){var n=XA(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(_q=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+XA(t,Math.max(0,e+s-1))[0]}function xL(t,e){var n=XA(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const bL={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Zle,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>xL(t*100,e),r:xL,s:eue,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function wL(t){return t}var _L=Array.prototype.map,TL=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function tue(t){var e=t.grouping===void 0||t.thousands===void 0?wL:Yle(_L.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?wL:Jle(_L.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function d(m){m=fg(m);var v=m.fill,b=m.align,T=m.sign,S=m.symbol,A=m.zero,C=m.width,D=m.comma,N=m.precision,F=m.trim,V=m.type;V==="n"?(D=!0,V="g"):bL[V]||(N===void 0&&(N=12),F=!0,V="g"),(A||v==="0"&&b==="=")&&(A=!0,v="0",b="=");var B=S==="$"?n:S==="#"&&/[boxX]/.test(V)?"0"+V.toLowerCase():"",k=S==="$"?r:/[%p]/.test(V)?o:"",R=bL[V],O=/[defgprs%]/.test(V);N=N===void 0?6:/[gprs]/.test(V)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function j(q){var H=B,G=k,he,we,Q;if(V==="c")G=R(q)+G,q="";else{q=+q;var ae=q<0||1/q<0;if(q=isNaN(q)?u:R(Math.abs(q),N),F&&(q=Xle(q)),ae&&+q==0&&T!=="+"&&(ae=!1),H=(ae?T==="("?T:l:T==="-"||T==="("?"":T)+H,G=(V==="s"?TL[8+_q/3]:"")+G+(ae&&T==="("?")":""),O){for(he=-1,we=q.length;++he<we;)if(Q=q.charCodeAt(he),48>Q||Q>57){G=(Q===46?i+q.slice(he+1):q.slice(he))+G,q=q.slice(0,he);break}}}D&&!A&&(q=e(q,1/0));var Z=H.length+q.length+G.length,Ee=Z<C?new Array(C-Z+1).join(v):"";switch(D&&A&&(q=e(Ee+q,Ee.length?C-G.length:1/0),Ee=""),b){case"<":q=H+q+G+Ee;break;case"=":q=H+Ee+q+G;break;case"^":q=Ee.slice(0,Z=Ee.length>>1)+H+q+G+Ee.slice(Z);break;default:q=Ee+H+q+G;break}return s(q)}return j.toString=function(){return m+""},j}function f(m,v){var b=d((m=fg(m),m.type="f",m)),T=Math.max(-8,Math.min(8,Math.floor(kf(v)/3)))*3,S=Math.pow(10,-T),A=TL[8+T/3];return function(C){return b(S*C)+A}}return{format:d,formatPrefix:f}}var r0,BI,Tq;nue({thousands:",",grouping:[3],currency:["$",""]});function nue(t){return r0=tue(t),BI=r0.format,Tq=r0.formatPrefix,r0}function rue(t){return Math.max(0,-kf(Math.abs(t)))}function iue(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(kf(e)/3)))*3-kf(Math.abs(t)))}function sue(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,kf(e)-kf(t))+1}function Eq(t,e,n,r){var i=KA(t,e,n),s;switch(r=fg(r==null?",f":r),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=iue(i,o))&&(r.precision=s),Tq(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=sue(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=rue(i))&&(r.precision=s-(r.type==="%")*2);break}}return BI(r)}function Zl(t){var e=t.domain;return t.ticks=function(n){var r=e();return GA(r[0],r[r.length-1],n==null?10:n)},t.tickFormat=function(n,r){var i=e();return Eq(i[0],i[i.length-1],n==null?10:n,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],l=r[s],u,d,f=10;for(l<o&&(d=o,o=l,l=d,d=i,i=s,s=d);f-- >0;){if(d=HA(o,l,n),d===u)return r[i]=o,r[s]=l,e(r);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;u=d}return t},t}function Sq(){var t=FI();return t.copy=function(){return Jg(t,Sq())},ys.apply(t,arguments),Zl(t)}function Aq(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Tx),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Aq(t).unknown(e)},t=arguments.length?Array.from(t,Tx):[0,1],Zl(n)}function Cq(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),t[n]=e.floor(i),t[r]=e.ceil(s),t}function EL(t){return Math.log(t)}function SL(t){return Math.exp(t)}function oue(t){return-Math.log(-t)}function aue(t){return-Math.exp(-t)}function lue(t){return isFinite(t)?+("1e"+t):t<0?0:t}function uue(t){return t===10?lue:t===Math.E?Math.exp:e=>Math.pow(t,e)}function cue(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function AL(t){return(e,n)=>-t(-e,n)}function qI(t){const e=t(EL,SL),n=e.domain;let r=10,i,s;function o(){return i=cue(r),s=uue(r),n()[0]<0?(i=AL(i),s=AL(s),t(oue,aue)):t(EL,SL),e}return e.base=function(l){return arguments.length?(r=+l,o()):r},e.domain=function(l){return arguments.length?(n(l),o()):n()},e.ticks=l=>{const u=n();let d=u[0],f=u[u.length-1];const m=f<d;m&&([d,f]=[f,d]);let v=i(d),b=i(f),T,S;const A=l==null?10:+l;let C=[];if(!(r%1)&&b-v<A){if(v=Math.floor(v),b=Math.ceil(b),d>0){for(;v<=b;++v)for(T=1;T<r;++T)if(S=v<0?T/s(-v):T*s(v),!(S<d)){if(S>f)break;C.push(S)}}else for(;v<=b;++v)for(T=r-1;T>=1;--T)if(S=v>0?T/s(-v):T*s(v),!(S<d)){if(S>f)break;C.push(S)}C.length*2<A&&(C=GA(d,f,A))}else C=GA(v,b,Math.min(b-v,A)).map(s);return m?C.reverse():C},e.tickFormat=(l,u)=>{if(l==null&&(l=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=fg(u)).precision==null&&(u.trim=!0),u=BI(u)),l===1/0)return u;const d=Math.max(1,r*l/e.ticks().length);return f=>{let m=f/s(Math.round(i(f)));return m*r<r-.5&&(m*=r),m<=d?u(f):""}},e.nice=()=>n(Cq(n(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function Iq(){const t=qI(Db()).domain([1,10]);return t.copy=()=>Jg(t,Iq()).base(t.base()),ys.apply(t,arguments),t}function CL(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function IL(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function zI(t){var e=1,n=t(CL(e),IL(e));return n.constant=function(r){return arguments.length?t(CL(e=+r),IL(e)):e},Zl(n)}function Rq(){var t=zI(Db());return t.copy=function(){return Jg(t,Rq()).constant(t.constant())},ys.apply(t,arguments)}function RL(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function due(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function fue(t){return t<0?-t*t:t*t}function $I(t){var e=t(Qr,Qr),n=1;function r(){return n===1?t(Qr,Qr):n===.5?t(due,fue):t(RL(n),RL(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Zl(e)}function GI(){var t=$I(Db());return t.copy=function(){return Jg(t,GI()).exponent(t.exponent())},ys.apply(t,arguments),t}function hue(){return GI.apply(null,arguments).exponent(.5)}function PL(t){return Math.sign(t)*t*t}function mue(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Pq(){var t=FI(),e=[0,1],n=!1,r;function i(s){var o=mue(t(s));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(s){return t.invert(PL(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Tx)).map(PL)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Pq(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ys.apply(i,arguments),Zl(i)}function Nq(){var t=[],e=[],n=[],r;function i(){var o=0,l=Math.max(1,e.length);for(n=new Array(l-1);++o<l;)n[o-1]=vle(t,o/l);return s}function s(o){return o==null||isNaN(o=+o)?r:e[Wg(n,o)]}return s.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Rl),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return Nq().domain(t).range(e).unknown(r)},ys.apply(s,arguments)}function Mq(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function o(u){return u!=null&&u<=u?i[Wg(r,u,0,n)]:s}function l(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*e-(u-n)*t)/(n+1);return o}return o.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,l()):[t,e]},o.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,l()):i.slice()},o.invertExtent=function(u){var d=i.indexOf(u);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},o.unknown=function(u){return arguments.length&&(s=u),o},o.thresholds=function(){return r.slice()},o.copy=function(){return Mq().domain([t,e]).range(i).unknown(s)},ys.apply(Zl(o),arguments)}function Dq(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Wg(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Dq().domain(t).range(e).unknown(n)},ys.apply(i,arguments)}const uS=new Date,cS=new Date;function er(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),l=i.ceil(s);return s-o<l-s?o:l},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,l)=>{const u=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return u;let d;do u.push(d=new Date(+s)),e(s,l),t(s);while(d<s&&s<o);return u},i.filter=s=>er(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!s(o););else for(;--l>=0;)for(;e(o,1),!s(o););}),n&&(i.count=(s,o)=>(uS.setTime(+s),cS.setTime(+o),t(uS),t(cS),Math.floor(n(uS,cS))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const Ex=er(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ex.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?er(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ex);Ex.range;const ta=1e3,as=ta*60,na=as*60,ca=na*24,HI=ca*7,NL=ca*30,dS=ca*365,ac=er(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ta)},(t,e)=>(e-t)/ta,t=>t.getUTCSeconds());ac.range;const KI=er(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ta)},(t,e)=>{t.setTime(+t+e*as)},(t,e)=>(e-t)/as,t=>t.getMinutes());KI.range;const WI=er(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*as)},(t,e)=>(e-t)/as,t=>t.getUTCMinutes());WI.range;const YI=er(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ta-t.getMinutes()*as)},(t,e)=>{t.setTime(+t+e*na)},(t,e)=>(e-t)/na,t=>t.getHours());YI.range;const JI=er(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*na)},(t,e)=>(e-t)/na,t=>t.getUTCHours());JI.range;const Qg=er(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*as)/ca,t=>t.getDate()-1);Qg.range;const kb=er(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ca,t=>t.getUTCDate()-1);kb.range;const kq=er(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ca,t=>Math.floor(t/ca));kq.range;function Gc(t){return er(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*as)/HI)}const Ob=Gc(0),Sx=Gc(1),pue=Gc(2),gue=Gc(3),zf=Gc(4),yue=Gc(5),vue=Gc(6);Ob.range;Sx.range;pue.range;gue.range;zf.range;yue.range;vue.range;function Hc(t){return er(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/HI)}const Vb=Hc(0),Ax=Hc(1),xue=Hc(2),bue=Hc(3),$f=Hc(4),wue=Hc(5),_ue=Hc(6);Vb.range;Ax.range;xue.range;bue.range;$f.range;wue.range;_ue.range;const QI=er(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());QI.range;const XI=er(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());XI.range;const da=er(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());da.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:er(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});da.range;const fa=er(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());fa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:er(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});fa.range;function Oq(t,e,n,r,i,s){const o=[[ac,1,ta],[ac,5,5*ta],[ac,15,15*ta],[ac,30,30*ta],[s,1,as],[s,5,5*as],[s,15,15*as],[s,30,30*as],[i,1,na],[i,3,3*na],[i,6,6*na],[i,12,12*na],[r,1,ca],[r,2,2*ca],[n,1,HI],[e,1,NL],[e,3,3*NL],[t,1,dS]];function l(d,f,m){const v=f<d;v&&([d,f]=[f,d]);const b=m&&typeof m.range=="function"?m:u(d,f,m),T=b?b.range(d,+f+1):[];return v?T.reverse():T}function u(d,f,m){const v=Math.abs(f-d)/m,b=DI(([,,A])=>A).right(o,v);if(b===o.length)return t.every(KA(d/dS,f/dS,m));if(b===0)return Ex.every(Math.max(KA(d,f,m),1));const[T,S]=o[v/o[b-1][2]<o[b][2]/v?b-1:b];return T.every(S)}return[l,u]}const[Tue,Eue]=Oq(fa,XI,Vb,kq,JI,WI),[Sue,Aue]=Oq(da,QI,Ob,Qg,YI,KI);function fS(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function hS(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function sp(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Cue(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,l=t.months,u=t.shortMonths,d=op(i),f=ap(i),m=op(s),v=ap(s),b=op(o),T=ap(o),S=op(l),A=ap(l),C=op(u),D=ap(u),N={a:ae,A:Z,b:Ee,B:K,c:null,d:LL,e:LL,f:Jue,g:oce,G:lce,H:Kue,I:Wue,j:Yue,L:Vq,m:Que,M:Xue,p:ue,q:ce,Q:jL,s:BL,S:Zue,u:ece,U:tce,V:nce,w:rce,W:ice,x:null,X:null,y:sce,Y:ace,Z:uce,"%":FL},F={a:fe,A:Ce,b:Ve,B:$e,c:null,d:UL,e:UL,f:hce,g:Tce,G:Sce,H:cce,I:dce,j:fce,L:Uq,m:mce,M:pce,p:_e,q:ct,Q:jL,s:BL,S:gce,u:yce,U:vce,V:xce,w:bce,W:wce,x:null,X:null,y:_ce,Y:Ece,Z:Ace,"%":FL},V={a:j,A:q,b:H,B:G,c:he,d:OL,e:OL,f:zue,g:kL,G:DL,H:VL,I:VL,j:Fue,L:que,m:Uue,M:jue,p:O,q:Lue,Q:Gue,s:Hue,S:Bue,u:Mue,U:Due,V:kue,w:Nue,W:Oue,x:we,X:Q,y:kL,Y:DL,Z:Vue,"%":$ue};N.x=B(n,N),N.X=B(r,N),N.c=B(e,N),F.x=B(n,F),F.X=B(r,F),F.c=B(e,F);function B(Ae,Se){return function(ke){var de=[],Mt=-1,lt=0,Xt=Ae.length,hn,mn,Na;for(ke instanceof Date||(ke=new Date(+ke));++Mt<Xt;)Ae.charCodeAt(Mt)===37&&(de.push(Ae.slice(lt,Mt)),(mn=ML[hn=Ae.charAt(++Mt)])!=null?hn=Ae.charAt(++Mt):mn=hn==="e"?" ":"0",(Na=Se[hn])&&(hn=Na(ke,mn)),de.push(hn),lt=Mt+1);return de.push(Ae.slice(lt,Mt)),de.join("")}}function k(Ae,Se){return function(ke){var de=sp(1900,void 0,1),Mt=R(de,Ae,ke+="",0),lt,Xt;if(Mt!=ke.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(Se&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(lt=hS(sp(de.y,0,1)),Xt=lt.getUTCDay(),lt=Xt>4||Xt===0?Ax.ceil(lt):Ax(lt),lt=kb.offset(lt,(de.V-1)*7),de.y=lt.getUTCFullYear(),de.m=lt.getUTCMonth(),de.d=lt.getUTCDate()+(de.w+6)%7):(lt=fS(sp(de.y,0,1)),Xt=lt.getDay(),lt=Xt>4||Xt===0?Sx.ceil(lt):Sx(lt),lt=Qg.offset(lt,(de.V-1)*7),de.y=lt.getFullYear(),de.m=lt.getMonth(),de.d=lt.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),Xt="Z"in de?hS(sp(de.y,0,1)).getUTCDay():fS(sp(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(Xt+5)%7:de.w+de.U*7-(Xt+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,hS(de)):fS(de)}}function R(Ae,Se,ke,de){for(var Mt=0,lt=Se.length,Xt=ke.length,hn,mn;Mt<lt;){if(de>=Xt)return-1;if(hn=Se.charCodeAt(Mt++),hn===37){if(hn=Se.charAt(Mt++),mn=V[hn in ML?Se.charAt(Mt++):hn],!mn||(de=mn(Ae,ke,de))<0)return-1}else if(hn!=ke.charCodeAt(de++))return-1}return de}function O(Ae,Se,ke){var de=d.exec(Se.slice(ke));return de?(Ae.p=f.get(de[0].toLowerCase()),ke+de[0].length):-1}function j(Ae,Se,ke){var de=b.exec(Se.slice(ke));return de?(Ae.w=T.get(de[0].toLowerCase()),ke+de[0].length):-1}function q(Ae,Se,ke){var de=m.exec(Se.slice(ke));return de?(Ae.w=v.get(de[0].toLowerCase()),ke+de[0].length):-1}function H(Ae,Se,ke){var de=C.exec(Se.slice(ke));return de?(Ae.m=D.get(de[0].toLowerCase()),ke+de[0].length):-1}function G(Ae,Se,ke){var de=S.exec(Se.slice(ke));return de?(Ae.m=A.get(de[0].toLowerCase()),ke+de[0].length):-1}function he(Ae,Se,ke){return R(Ae,e,Se,ke)}function we(Ae,Se,ke){return R(Ae,n,Se,ke)}function Q(Ae,Se,ke){return R(Ae,r,Se,ke)}function ae(Ae){return o[Ae.getDay()]}function Z(Ae){return s[Ae.getDay()]}function Ee(Ae){return u[Ae.getMonth()]}function K(Ae){return l[Ae.getMonth()]}function ue(Ae){return i[+(Ae.getHours()>=12)]}function ce(Ae){return 1+~~(Ae.getMonth()/3)}function fe(Ae){return o[Ae.getUTCDay()]}function Ce(Ae){return s[Ae.getUTCDay()]}function Ve(Ae){return u[Ae.getUTCMonth()]}function $e(Ae){return l[Ae.getUTCMonth()]}function _e(Ae){return i[+(Ae.getUTCHours()>=12)]}function ct(Ae){return 1+~~(Ae.getUTCMonth()/3)}return{format:function(Ae){var Se=B(Ae+="",N);return Se.toString=function(){return Ae},Se},parse:function(Ae){var Se=k(Ae+="",!1);return Se.toString=function(){return Ae},Se},utcFormat:function(Ae){var Se=B(Ae+="",F);return Se.toString=function(){return Ae},Se},utcParse:function(Ae){var Se=k(Ae+="",!0);return Se.toString=function(){return Ae},Se}}}var ML={"-":"",_:" ",0:"0"},pr=/^\s*\d+/,Iue=/^%/,Rue=/[\\^$*+?|[\]().{}]/g;function It(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function Pue(t){return t.replace(Rue,"\\$&")}function op(t){return new RegExp("^(?:"+t.map(Pue).join("|")+")","i")}function ap(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Nue(t,e,n){var r=pr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Mue(t,e,n){var r=pr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Due(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function kue(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Oue(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function DL(t,e,n){var r=pr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function kL(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Vue(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Lue(t,e,n){var r=pr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Uue(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function OL(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Fue(t,e,n){var r=pr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function VL(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function jue(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Bue(t,e,n){var r=pr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function que(t,e,n){var r=pr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function zue(t,e,n){var r=pr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function $ue(t,e,n){var r=Iue.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Gue(t,e,n){var r=pr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Hue(t,e,n){var r=pr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function LL(t,e){return It(t.getDate(),e,2)}function Kue(t,e){return It(t.getHours(),e,2)}function Wue(t,e){return It(t.getHours()%12||12,e,2)}function Yue(t,e){return It(1+Qg.count(da(t),t),e,3)}function Vq(t,e){return It(t.getMilliseconds(),e,3)}function Jue(t,e){return Vq(t,e)+"000"}function Que(t,e){return It(t.getMonth()+1,e,2)}function Xue(t,e){return It(t.getMinutes(),e,2)}function Zue(t,e){return It(t.getSeconds(),e,2)}function ece(t){var e=t.getDay();return e===0?7:e}function tce(t,e){return It(Ob.count(da(t)-1,t),e,2)}function Lq(t){var e=t.getDay();return e>=4||e===0?zf(t):zf.ceil(t)}function nce(t,e){return t=Lq(t),It(zf.count(da(t),t)+(da(t).getDay()===4),e,2)}function rce(t){return t.getDay()}function ice(t,e){return It(Sx.count(da(t)-1,t),e,2)}function sce(t,e){return It(t.getFullYear()%100,e,2)}function oce(t,e){return t=Lq(t),It(t.getFullYear()%100,e,2)}function ace(t,e){return It(t.getFullYear()%1e4,e,4)}function lce(t,e){var n=t.getDay();return t=n>=4||n===0?zf(t):zf.ceil(t),It(t.getFullYear()%1e4,e,4)}function uce(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+It(e/60|0,"0",2)+It(e%60,"0",2)}function UL(t,e){return It(t.getUTCDate(),e,2)}function cce(t,e){return It(t.getUTCHours(),e,2)}function dce(t,e){return It(t.getUTCHours()%12||12,e,2)}function fce(t,e){return It(1+kb.count(fa(t),t),e,3)}function Uq(t,e){return It(t.getUTCMilliseconds(),e,3)}function hce(t,e){return Uq(t,e)+"000"}function mce(t,e){return It(t.getUTCMonth()+1,e,2)}function pce(t,e){return It(t.getUTCMinutes(),e,2)}function gce(t,e){return It(t.getUTCSeconds(),e,2)}function yce(t){var e=t.getUTCDay();return e===0?7:e}function vce(t,e){return It(Vb.count(fa(t)-1,t),e,2)}function Fq(t){var e=t.getUTCDay();return e>=4||e===0?$f(t):$f.ceil(t)}function xce(t,e){return t=Fq(t),It($f.count(fa(t),t)+(fa(t).getUTCDay()===4),e,2)}function bce(t){return t.getUTCDay()}function wce(t,e){return It(Ax.count(fa(t)-1,t),e,2)}function _ce(t,e){return It(t.getUTCFullYear()%100,e,2)}function Tce(t,e){return t=Fq(t),It(t.getUTCFullYear()%100,e,2)}function Ece(t,e){return It(t.getUTCFullYear()%1e4,e,4)}function Sce(t,e){var n=t.getUTCDay();return t=n>=4||n===0?$f(t):$f.ceil(t),It(t.getUTCFullYear()%1e4,e,4)}function Ace(){return"+0000"}function FL(){return"%"}function jL(t){return+t}function BL(t){return Math.floor(+t/1e3)}var Hd,jq,Bq;Cce({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Cce(t){return Hd=Cue(t),jq=Hd.format,Hd.parse,Bq=Hd.utcFormat,Hd.utcParse,Hd}function Ice(t){return new Date(t)}function Rce(t){return t instanceof Date?+t:+new Date(+t)}function ZI(t,e,n,r,i,s,o,l,u,d){var f=FI(),m=f.invert,v=f.domain,b=d(".%L"),T=d(":%S"),S=d("%I:%M"),A=d("%I %p"),C=d("%a %d"),D=d("%b %d"),N=d("%B"),F=d("%Y");function V(B){return(u(B)<B?b:l(B)<B?T:o(B)<B?S:s(B)<B?A:r(B)<B?i(B)<B?C:D:n(B)<B?N:F)(B)}return f.invert=function(B){return new Date(m(B))},f.domain=function(B){return arguments.length?v(Array.from(B,Rce)):v().map(Ice)},f.ticks=function(B){var k=v();return t(k[0],k[k.length-1],B==null?10:B)},f.tickFormat=function(B,k){return k==null?V:d(k)},f.nice=function(B){var k=v();return(!B||typeof B.range!="function")&&(B=e(k[0],k[k.length-1],B==null?10:B)),B?v(Cq(k,B)):f},f.copy=function(){return Jg(f,ZI(t,e,n,r,i,s,o,l,u,d))},f}function Pce(){return ys.apply(ZI(Sue,Aue,da,QI,Ob,Qg,YI,KI,ac,jq).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Nce(){return ys.apply(ZI(Tue,Eue,fa,XI,Vb,kb,JI,WI,ac,Bq).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Lb(){var t=0,e=1,n,r,i,s,o=Qr,l=!1,u;function d(m){return m==null||isNaN(m=+m)?u:o(i===0?.5:(m=(s(m)-n)*i,l?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,e]=m,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(m){return arguments.length?(l=!!m,d):l},d.interpolator=function(m){return arguments.length?(o=m,d):o};function f(m){return function(v){var b,T;return arguments.length?([b,T]=v,o=m(b,T),d):[o(0),o(1)]}}return d.range=f(bh),d.rangeRound=f(UI),d.unknown=function(m){return arguments.length?(u=m,d):u},function(m){return s=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),d}}function eu(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function qq(){var t=Zl(Lb()(Qr));return t.copy=function(){return eu(t,qq())},_a.apply(t,arguments)}function zq(){var t=qI(Lb()).domain([1,10]);return t.copy=function(){return eu(t,zq()).base(t.base())},_a.apply(t,arguments)}function $q(){var t=zI(Lb());return t.copy=function(){return eu(t,$q()).constant(t.constant())},_a.apply(t,arguments)}function eR(){var t=$I(Lb());return t.copy=function(){return eu(t,eR()).exponent(t.exponent())},_a.apply(t,arguments)}function Mce(){return eR.apply(null,arguments).exponent(.5)}function Gq(){var t=[],e=Qr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Wg(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Rl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>yle(t,s/r))},n.copy=function(){return Gq(e).domain(t)},_a.apply(n,arguments)}function Ub(){var t=0,e=.5,n=1,r=1,i,s,o,l,u,d=Qr,f,m=!1,v;function b(S){return isNaN(S=+S)?v:(S=.5+((S=+f(S))-s)*(r*S<r*s?l:u),d(m?Math.max(0,Math.min(1,S)):S))}b.domain=function(S){return arguments.length?([t,e,n]=S,i=f(t=+t),s=f(e=+e),o=f(n=+n),l=i===s?0:.5/(s-i),u=s===o?0:.5/(o-s),r=s<i?-1:1,b):[t,e,n]},b.clamp=function(S){return arguments.length?(m=!!S,b):m},b.interpolator=function(S){return arguments.length?(d=S,b):d};function T(S){return function(A){var C,D,N;return arguments.length?([C,D,N]=A,d=$le(S,[C,D,N]),b):[d(0),d(.5),d(1)]}}return b.range=T(bh),b.rangeRound=T(UI),b.unknown=function(S){return arguments.length?(v=S,b):v},function(S){return f=S,i=S(t),s=S(e),o=S(n),l=i===s?0:.5/(s-i),u=s===o?0:.5/(o-s),r=s<i?-1:1,b}}function Hq(){var t=Zl(Ub()(Qr));return t.copy=function(){return eu(t,Hq())},_a.apply(t,arguments)}function Kq(){var t=qI(Ub()).domain([.1,1,10]);return t.copy=function(){return eu(t,Kq()).base(t.base())},_a.apply(t,arguments)}function Wq(){var t=zI(Ub());return t.copy=function(){return eu(t,Wq()).constant(t.constant())},_a.apply(t,arguments)}function tR(){var t=$I(Ub());return t.copy=function(){return eu(t,tR()).exponent(t.exponent())},_a.apply(t,arguments)}function Dce(){return tR.apply(null,arguments).exponent(.5)}const bp=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:OI,scaleDiverging:Hq,scaleDivergingLog:Kq,scaleDivergingPow:tR,scaleDivergingSqrt:Dce,scaleDivergingSymlog:Wq,scaleIdentity:Aq,scaleImplicit:WA,scaleLinear:Sq,scaleLog:Iq,scaleOrdinal:kI,scalePoint:ble,scalePow:GI,scaleQuantile:Nq,scaleQuantize:Mq,scaleRadial:Pq,scaleSequential:qq,scaleSequentialLog:zq,scaleSequentialPow:eR,scaleSequentialQuantile:Gq,scaleSequentialSqrt:Mce,scaleSequentialSymlog:$q,scaleSqrt:hue,scaleSymlog:Rq,scaleThreshold:Dq,scaleTime:Pce,scaleUtc:Nce,tickFormat:Eq},Symbol.toStringTag,{value:"Module"}));var tu=t=>t.chartData,kce=me([tu],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),nR=(t,e,n,r)=>r?kce(t):tu(t);function Gf(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(ks(e)&&ks(n))return!0}return!1}function qL(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function Oce(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(ks(n))i=n;else if(typeof n=="function")return;if(ks(r))s=r;else if(typeof r=="function")return;var o=[i,s];if(Gf(o))return o}}function Vce(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Gf(r))return qL(r,e,n)}catch(b){}if(Array.isArray(t)&&t.length===2){var[i,s]=t,o,l;if(i==="auto")e!=null&&(o=Math.min(...e));else if(He(i))o=i;else if(typeof i=="function")try{e!=null&&(o=i(e==null?void 0:e[0]))}catch(b){}else if(typeof i=="string"&&IV.test(i)){var u=IV.exec(i);if(u==null||e==null)o=void 0;else{var d=+u[1];o=e[0]-d}}else o=e==null?void 0:e[0];if(s==="auto")e!=null&&(l=Math.max(...e));else if(He(s))l=s;else if(typeof s=="function")try{e!=null&&(l=s(e==null?void 0:e[1]))}catch(b){}else if(typeof s=="string"&&RV.test(s)){var f=RV.exec(s);if(f==null||e==null)l=void 0;else{var m=+f[1];l=e[1]+m}}else l=e==null?void 0:e[1];var v=[o,l];if(Gf(v))return e==null?v:qL(v,e,n)}}}var wh=1e9,Lce={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},iR,dn=!0,ps="[DecimalError] ",xc=ps+"Invalid argument: ",rR=ps+"Exponent out of range: ",_h=Math.floor,Wu=Math.pow,Uce=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ni,dr=1e7,tn=7,Yq=9007199254740991,Cx=_h(Yq/tn),Le={};Le.absoluteValue=Le.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Le.comparedTo=Le.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Le.decimalPlaces=Le.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*tn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Le.dividedBy=Le.div=function(t){return oa(this,new this.constructor(t))};Le.dividedToIntegerBy=Le.idiv=function(t){var e=this,n=e.constructor;return Kt(oa(e,new n(t),0,1),n.precision)};Le.equals=Le.eq=function(t){return!this.cmp(t)};Le.exponent=function(){return zn(this)};Le.greaterThan=Le.gt=function(t){return this.cmp(t)>0};Le.greaterThanOrEqualTo=Le.gte=function(t){return this.cmp(t)>=0};Le.isInteger=Le.isint=function(){return this.e>this.d.length-2};Le.isNegative=Le.isneg=function(){return this.s<0};Le.isPositive=Le.ispos=function(){return this.s>0};Le.isZero=function(){return this.s===0};Le.lessThan=Le.lt=function(t){return this.cmp(t)<0};Le.lessThanOrEqualTo=Le.lte=function(t){return this.cmp(t)<1};Le.logarithm=Le.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ni))throw Error(ps+"NaN");if(n.s<1)throw Error(ps+(n.s?"NaN":"-Infinity"));return n.eq(Ni)?new r(0):(dn=!1,e=oa(hg(n,s),hg(t,s),s),dn=!0,Kt(e,i))};Le.minus=Le.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Xq(e,t):Jq(e,(t.s=-t.s,t))};Le.modulo=Le.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ps+"NaN");return n.s?(dn=!1,e=oa(n,t,0,1).times(t),dn=!0,n.minus(e)):Kt(new r(n),i)};Le.naturalExponential=Le.exp=function(){return Qq(this)};Le.naturalLogarithm=Le.ln=function(){return hg(this)};Le.negated=Le.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Le.plus=Le.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Jq(e,t):Xq(e,(t.s=-t.s,t))};Le.precision=Le.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(xc+t);if(e=zn(i)+1,r=i.d.length-1,n=r*tn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Le.squareRoot=Le.sqrt=function(){var t,e,n,r,i,s,o,l=this,u=l.constructor;if(l.s<1){if(!l.s)return new u(0);throw Error(ps+"NaN")}for(t=zn(l),dn=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=oo(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=_h((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new u(e)):r=new u(i.toString()),n=u.precision,i=o=n+3;;)if(s=r,r=s.plus(oa(l,s,o+2)).times(.5),oo(s.d).slice(0,o)===(e=oo(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Kt(s,n+1,0),s.times(s).eq(l)){r=s;break}}else if(e!="9999")break;o+=4}return dn=!0,Kt(r,n)};Le.times=Le.mul=function(t){var e,n,r,i,s,o,l,u,d,f=this,m=f.constructor,v=f.d,b=(t=new m(t)).d;if(!f.s||!t.s)return new m(0);for(t.s*=f.s,n=f.e+t.e,u=v.length,d=b.length,u<d&&(s=v,v=b,b=s,o=u,u=d,d=o),s=[],o=u+d,r=o;r--;)s.push(0);for(r=d;--r>=0;){for(e=0,i=u+r;i>r;)l=s[i]+b[r]*v[i-r-1]+e,s[i--]=l%dr|0,e=l/dr|0;s[i]=(s[i]+e)%dr|0}for(;!s[--o];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,dn?Kt(t,m.precision):t};Le.toDecimalPlaces=Le.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(wo(t,0,wh),e===void 0?e=r.rounding:wo(e,0,8),Kt(n,t+zn(n)+1,e))};Le.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Nc(r,!0):(wo(t,0,wh),e===void 0?e=i.rounding:wo(e,0,8),r=Kt(new i(r),t+1,e),n=Nc(r,!0,t+1)),n};Le.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Nc(i):(wo(t,0,wh),e===void 0?e=s.rounding:wo(e,0,8),r=Kt(new s(i),t+zn(i)+1,e),n=Nc(r.abs(),!1,t+zn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Le.toInteger=Le.toint=function(){var t=this,e=t.constructor;return Kt(new e(t),zn(t)+1,e.rounding)};Le.toNumber=function(){return+this};Le.toPower=Le.pow=function(t){var e,n,r,i,s,o,l=this,u=l.constructor,d=12,f=+(t=new u(t));if(!t.s)return new u(Ni);if(l=new u(l),!l.s){if(t.s<1)throw Error(ps+"Infinity");return l}if(l.eq(Ni))return l;if(r=u.precision,t.eq(Ni))return Kt(l,r);if(e=t.e,n=t.d.length-1,o=e>=n,s=l.s,o){if((n=f<0?-f:f)<=Yq){for(i=new u(Ni),e=Math.ceil(r/tn+4),dn=!1;n%2&&(i=i.times(l),$L(i.d,e)),n=_h(n/2),n!==0;)l=l.times(l),$L(l.d,e);return dn=!0,t.s<0?new u(Ni).div(i):Kt(i,r)}}else if(s<0)throw Error(ps+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,dn=!1,i=t.times(hg(l,r+d)),dn=!0,i=Qq(i),i.s=s,i};Le.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=zn(i),r=Nc(i,n<=s.toExpNeg||n>=s.toExpPos)):(wo(t,1,wh),e===void 0?e=s.rounding:wo(e,0,8),i=Kt(new s(i),t,e),n=zn(i),r=Nc(i,t<=n||n<=s.toExpNeg,t)),r};Le.toSignificantDigits=Le.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(wo(t,1,wh),e===void 0?e=r.rounding:wo(e,0,8)),Kt(new r(n),t,e)};Le.toString=Le.valueOf=Le.val=Le.toJSON=Le[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=zn(t),n=t.constructor;return Nc(t,e<=n.toExpNeg||e>=n.toExpPos)};function Jq(t,e){var n,r,i,s,o,l,u,d,f=t.constructor,m=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),dn?Kt(e,m):e;if(u=t.d,d=e.d,o=t.e,i=e.e,u=u.slice(),s=o-i,s){for(s<0?(r=u,s=-s,l=d.length):(r=d,i=o,l=u.length),o=Math.ceil(m/tn),l=o>l?o+1:l+1,s>l&&(s=l,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(l=u.length,s=d.length,l-s<0&&(s=l,r=d,d=u,u=r),n=0;s;)n=(u[--s]=u[s]+d[s]+n)/dr|0,u[s]%=dr;for(n&&(u.unshift(n),++i),l=u.length;u[--l]==0;)u.pop();return e.d=u,e.e=i,dn?Kt(e,m):e}function wo(t,e,n){if(t!==~~t||t<e||t>n)throw Error(xc+t)}function oo(t){var e,n,r,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)r=t[e]+"",n=tn-r.length,n&&(s+=xl(n)),s+=r;o=t[e],r=o+"",n=tn-r.length,n&&(s+=xl(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var oa=(function(){function t(r,i){var s,o=0,l=r.length;for(r=r.slice();l--;)s=r[l]*i+o,r[l]=s%dr|0,o=s/dr|0;return o&&r.unshift(o),r}function e(r,i,s,o){var l,u;if(s!=o)u=s>o?1:-1;else for(l=u=0;l<s;l++)if(r[l]!=i[l]){u=r[l]>i[l]?1:-1;break}return u}function n(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*dr+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var l,u,d,f,m,v,b,T,S,A,C,D,N,F,V,B,k,R,O=r.constructor,j=r.s==i.s?1:-1,q=r.d,H=i.d;if(!r.s)return new O(r);if(!i.s)throw Error(ps+"Division by zero");for(u=r.e-i.e,k=H.length,V=q.length,b=new O(j),T=b.d=[],d=0;H[d]==(q[d]||0);)++d;if(H[d]>(q[d]||0)&&--u,s==null?D=s=O.precision:o?D=s+(zn(r)-zn(i))+1:D=s,D<0)return new O(0);if(D=D/tn+2|0,d=0,k==1)for(f=0,H=H[0],D++;(d<V||f)&&D--;d++)N=f*dr+(q[d]||0),T[d]=N/H|0,f=N%H|0;else{for(f=dr/(H[0]+1)|0,f>1&&(H=t(H,f),q=t(q,f),k=H.length,V=q.length),F=k,S=q.slice(0,k),A=S.length;A<k;)S[A++]=0;R=H.slice(),R.unshift(0),B=H[0],H[1]>=dr/2&&++B;do f=0,l=e(H,S,k,A),l<0?(C=S[0],k!=A&&(C=C*dr+(S[1]||0)),f=C/B|0,f>1?(f>=dr&&(f=dr-1),m=t(H,f),v=m.length,A=S.length,l=e(m,S,v,A),l==1&&(f--,n(m,k<v?R:H,v))):(f==0&&(l=f=1),m=H.slice()),v=m.length,v<A&&m.unshift(0),n(S,m,A),l==-1&&(A=S.length,l=e(H,S,k,A),l<1&&(f++,n(S,k<A?R:H,A))),A=S.length):l===0&&(f++,S=[0]),T[d++]=f,l&&S[0]?S[A++]=q[F]||0:(S=[q[F]],A=1);while((F++<V||S[0]!==void 0)&&D--)}return T[0]||T.shift(),b.e=u,Kt(b,o?s+zn(b)+1:s)}})();function Qq(t,e){var n,r,i,s,o,l,u=0,d=0,f=t.constructor,m=f.precision;if(zn(t)>16)throw Error(rR+zn(t));if(!t.s)return new f(Ni);for(dn=!1,l=m,o=new f(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(r=Math.log(Wu(2,d))/Math.LN10*2+5|0,l+=r,n=i=s=new f(Ni),f.precision=l;;){if(i=Kt(i.times(t),l),n=n.times(++u),o=s.plus(oa(i,n,l)),oo(o.d).slice(0,l)===oo(s.d).slice(0,l)){for(;d--;)s=Kt(s.times(s),l);return f.precision=m,e==null?(dn=!0,Kt(s,m)):s}s=o}}function zn(t){for(var e=t.e*tn,n=t.d[0];n>=10;n/=10)e++;return e}function mS(t,e,n){if(e>t.LN10.sd())throw dn=!0,n&&(t.precision=n),Error(ps+"LN10 precision limit exceeded");return Kt(new t(t.LN10),e)}function xl(t){for(var e="";t--;)e+="0";return e}function hg(t,e){var n,r,i,s,o,l,u,d,f,m=1,v=10,b=t,T=b.d,S=b.constructor,A=S.precision;if(b.s<1)throw Error(ps+(b.s?"NaN":"-Infinity"));if(b.eq(Ni))return new S(0);if(e==null?(dn=!1,d=A):d=e,b.eq(10))return e==null&&(dn=!0),mS(S,d);if(d+=v,S.precision=d,n=oo(T),r=n.charAt(0),s=zn(b),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(t),n=oo(b.d),r=n.charAt(0),m++;s=zn(b),r>1?(b=new S("0."+n),s++):b=new S(r+"."+n.slice(1))}else return u=mS(S,d+2,A).times(s+""),b=hg(new S(r+"."+n.slice(1)),d-v).plus(u),S.precision=A,e==null?(dn=!0,Kt(b,A)):b;for(l=o=b=oa(b.minus(Ni),b.plus(Ni),d),f=Kt(b.times(b),d),i=3;;){if(o=Kt(o.times(f),d),u=l.plus(oa(o,new S(i),d)),oo(u.d).slice(0,d)===oo(l.d).slice(0,d))return l=l.times(2),s!==0&&(l=l.plus(mS(S,d+2,A).times(s+""))),l=oa(l,new S(m),d),S.precision=A,e==null?(dn=!0,Kt(l,A)):l;l=u,i+=2}}function zL(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=_h(n/tn),t.d=[],r=(n+1)%tn,n<0&&(r+=tn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=tn;r<i;)t.d.push(+e.slice(r,r+=tn));e=e.slice(r),r=tn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),dn&&(t.e>Cx||t.e<-Cx))throw Error(rR+n)}else t.s=0,t.e=0,t.d=[0];return t}function Kt(t,e,n){var r,i,s,o,l,u,d,f,m=t.d;for(o=1,s=m[0];s>=10;s/=10)o++;if(r=e-o,r<0)r+=tn,i=e,d=m[f=0];else{if(f=Math.ceil((r+1)/tn),s=m.length,f>=s)return t;for(d=s=m[f],o=1;s>=10;s/=10)o++;r%=tn,i=r-tn+o}if(n!==void 0&&(s=Wu(10,o-i-1),l=d/s%10|0,u=e<0||m[f+1]!==void 0||d%s,u=n<4?(l||u)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||u||n==6&&(r>0?i>0?d/Wu(10,o-i):0:m[f-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return u?(s=zn(t),m.length=1,e=e-s-1,m[0]=Wu(10,(tn-e%tn)%tn),t.e=_h(-e/tn)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=f,s=1,f--):(m.length=f+1,s=Wu(10,tn-r),m[f]=i>0?(d/Wu(10,o-i)%Wu(10,i)|0)*s:0),u)for(;;)if(f==0){(m[0]+=s)==dr&&(m[0]=1,++t.e);break}else{if(m[f]+=s,m[f]!=dr)break;m[f--]=0,s=1}for(r=m.length;m[--r]===0;)m.pop();if(dn&&(t.e>Cx||t.e<-Cx))throw Error(rR+zn(t));return t}function Xq(t,e){var n,r,i,s,o,l,u,d,f,m,v=t.constructor,b=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),dn?Kt(e,b):e;if(u=t.d,m=e.d,r=e.e,d=t.e,u=u.slice(),o=d-r,o){for(f=o<0,f?(n=u,o=-o,l=m.length):(n=m,r=d,l=u.length),i=Math.max(Math.ceil(b/tn),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=u.length,l=m.length,f=i<l,f&&(l=i),i=0;i<l;i++)if(u[i]!=m[i]){f=u[i]<m[i];break}o=0}for(f&&(n=u,u=m,m=n,e.s=-e.s),l=u.length,i=m.length-l;i>0;--i)u[l++]=0;for(i=m.length;i>o;){if(u[--i]<m[i]){for(s=i;s&&u[--s]===0;)u[s]=dr-1;--u[s],u[i]+=dr}u[i]-=m[i]}for(;u[--l]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(e.d=u,e.e=r,dn?Kt(e,b):e):new v(0)}function Nc(t,e,n){var r,i=zn(t),s=oo(t.d),o=s.length;return e?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+xl(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+xl(-i-1)+s,n&&(r=n-o)>0&&(s+=xl(r))):i>=o?(s+=xl(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+xl(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=xl(r))),t.s<0?"-"+s:s}function $L(t,e){if(t.length>e)return t.length=e,!0}function Zq(t){var e,n,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(xc+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return zL(o,s.toString())}else if(typeof s!="string")throw Error(xc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,Uce.test(s))zL(o,s);else throw Error(xc+s)}if(i.prototype=Le,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Zq,i.config=i.set=Fce,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Fce(t){if(!t||typeof t!="object")throw Error(ps+"Object expected");var e,n,r,i=["precision",1,wh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(_h(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(xc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(xc+n+": "+r);return this}var iR=Zq(Lce);Ni=new iR(1);const Ut=iR;var jce=t=>t,ez={},tz=t=>t===ez,GL=t=>function e(){return arguments.length===0||arguments.length===1&&tz(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},nz=(t,e)=>t===1?e:GL(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(o=>o!==ez).length;return s>=t?e(...r):nz(t-s,GL(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var d=r.map(f=>tz(f)?l.shift():f);return e(...d,...l)}))}),Fb=t=>nz(t.length,t),ZA=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},Bce=Fb((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),qce=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return jce;var i=n.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce((l,u)=>u(l),s(...arguments))}},e1=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),rz=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e&&i.every((o,l)=>{var u;return o===((u=e)===null||u===void 0?void 0:u[l])})||(e=i,n=t(...i)),n}};function iz(t){var e;return t===0?e=1:e=Math.floor(new Ut(t).abs().log(10).toNumber())+1,e}function sz(t,e,n){for(var r=new Ut(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}Fb((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});Fb((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});Fb((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var oz=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},az=(t,e,n)=>{if(t.lte(0))return new Ut(0);var r=iz(t.toNumber()),i=new Ut(10).pow(r),s=t.div(i),o=r!==1?.05:.1,l=new Ut(Math.ceil(s.div(o).toNumber())).add(n).mul(o),u=l.mul(i);return e?new Ut(u.toNumber()):new Ut(Math.ceil(u.toNumber()))},zce=(t,e,n)=>{var r=new Ut(1),i=new Ut(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Ut(10).pow(iz(t)-1),i=new Ut(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Ut(Math.floor(t)))}else t===0?i=new Ut(Math.floor((e-1)/2)):n||(i=new Ut(Math.floor(t)));var o=Math.floor((e-1)/2),l=qce(Bce(u=>i.add(new Ut(u-o).mul(r)).toNumber()),ZA);return l(0,e)},lz=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Ut(0),tickMin:new Ut(0),tickMax:new Ut(0)};var o=az(new Ut(n).sub(e).div(r-1),i,s),l;e<=0&&n>=0?l=new Ut(0):(l=new Ut(e).add(n).div(2),l=l.sub(new Ut(l).mod(o)));var u=Math.ceil(l.sub(e).div(o).toNumber()),d=Math.ceil(new Ut(n).sub(l).div(o).toNumber()),f=u+d+1;return f>r?lz(e,n,r,i,s+1):(f<r&&(d=n>0?d+(r-f):d,u=n>0?u:u+(r-f)),{step:o,tickMin:l.sub(new Ut(u).mul(o)),tickMax:l.add(new Ut(d).mul(o))})};function $ce(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(r,2),[o,l]=oz([e,n]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...ZA(0,r-1).map(()=>1/0)]:[...ZA(0,r-1).map(()=>-1/0),l];return e>n?e1(u):u}if(o===l)return zce(o,r,i);var{step:d,tickMin:f,tickMax:m}=lz(o,l,s,i,0),v=sz(f,m.add(new Ut(.1).mul(d)),d);return e>n?e1(v):v}function Gce(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=oz([n,r]);if(s===-1/0||o===1/0)return[n,r];if(s===o)return[s];var l=Math.max(e,2),u=az(new Ut(o).sub(s).div(l-1),i,0),d=[...sz(new Ut(s),new Ut(o),u),o];return i===!1&&(d=d.map(f=>Math.round(f))),n>r?e1(d):d}var Hce=rz($ce),Kce=rz(Gce),Wce=t=>t.rootProps.barCategoryGap,jb=t=>t.rootProps.stackOffset,sR=t=>t.options.chartName,oR=t=>t.rootProps.syncId,uz=t=>t.rootProps.syncMethod,aR=t=>t.options.eventEmitter,Xo={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ci={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Bb=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},Yce={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Xo.angleAxisId,includeHidden:!1,name:void 0,reversed:Xo.reversed,scale:Xo.scale,tick:Xo.tick,tickCount:void 0,ticks:void 0,type:Xo.type,unit:void 0},Jce={allowDataOverflow:Ci.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ci.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ci.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ci.scale,tick:Ci.tick,tickCount:Ci.tickCount,ticks:void 0,type:Ci.type,unit:void 0},Qce={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Xo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Xo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Xo.scale,tick:Xo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Xce={allowDataOverflow:Ci.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ci.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ci.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ci.scale,tick:Ci.tick,tickCount:Ci.tickCount,ticks:void 0,type:"category",unit:void 0},lR=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Qce:Yce,uR=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Xce:Jce,qb=t=>t.polarOptions,cR=me([ba,wa,Mr],Gse),cz=me([qb,cR],(t,e)=>{if(t!=null)return Ll(t.innerRadius,e,0)}),dz=me([qb,cR],(t,e)=>{if(t!=null)return Ll(t.outerRadius,e,e*.8)}),Zce=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},fz=me([qb],Zce);me([lR,fz],Bb);var hz=me([cR,cz,dz],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});me([uR,hz],Bb);var mz=me([rn,qb,cz,dz,ba,wa],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:o,cy:l,startAngle:u,endAngle:d}=e;return{cx:Ll(o,i,i/2),cy:Ll(l,s,s/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:d,clockWise:!1}}}),$n=(t,e)=>e,zb=(t,e,n)=>n;function pz(t){return t==null?void 0:t.id}var tr=t=>{var e=rn(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Th=t=>t.tooltip.settings.axisId,nr=t=>{var e=tr(t),n=Th(t);return Xg(t,e,n)};function gz(t,e,n){var{chartData:r=[]}=e,i=n==null?void 0:n.dataKey,s=new Map;return t.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:r;if(!(u==null||u.length===0)){var d=pz(o);u.forEach((f,m)=>{var v=i==null?m:String(ei(f,i,null)),b=ei(f,o.dataKey,0),T;s.has(v)?T=s.get(v):T={},Object.assign(T,{[d]:b}),s.set(v,T)})}}),Array.from(s.values())}function dR(t){return t.stackId!=null&&t.dataKey!=null}function HL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ix(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HL(Object(n),!0).forEach(function(r){ede(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ede(t,e,n){return(e=tde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tde(t){var e=nde(t,"string");return typeof e=="symbol"?e:e+""}function nde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var t1=[0,"auto"],Si={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Ta=(t,e)=>{var n=t.cartesianAxis.xAxis[e];return n==null?Si:n},Ai={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:t1,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Rb},nu=(t,e)=>{var n=t.cartesianAxis.yAxis[e];return n==null?Ai:n},rde={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},fR=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n==null?rde:n},mi=(t,e,n)=>{switch(e){case"xAxis":return Ta(t,n);case"yAxis":return nu(t,n);case"zAxis":return fR(t,n);case"angleAxis":return lR(t,n);case"radiusAxis":return uR(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},ide=(t,e,n)=>{switch(e){case"xAxis":return Ta(t,n);case"yAxis":return nu(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Xg=(t,e,n)=>{switch(e){case"xAxis":return Ta(t,n);case"yAxis":return nu(t,n);case"angleAxis":return lR(t,n);case"radiusAxis":return uR(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},yz=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function vz(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var xz=t=>t.graphicalItems.cartesianItems,sde=me([$n,zb],vz),bz=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Zg=me([xz,mi,sde],bz),wz=me([Zg],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(dR)),_z=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Tz=me([Zg],_z),Ez=t=>t.map(e=>e.data).filter(Boolean).flat(1),ode=me([Zg],Ez),Sz=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},hR=me([ode,nR],Sz),Az=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:ei(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:ei(i,r)}))):t.map(r=>({value:r})),$b=me([hR,mi,Zg],Az);function Cz(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Kc(t){return t.filter(e=>bo(e)||e instanceof Date).map(Number).filter(e=>hs(e)===!1)}function ade(t,e,n){return!n||typeof e!="number"||hs(e)?[]:n.length?Kc(n.flatMap(r=>{var i=ei(t,r.dataKey),s,o;if(Array.isArray(i)?[s,o]=i:s=o=i,!(!ks(s)||!ks(o)))return[e-s,e+o]})):[]}var lde=me([wz,nR,nr],gz),Iz=(t,e,n)=>{var r={},i=e.reduce((s,o)=>(o.stackId==null||(s[o.stackId]==null&&(s[o.stackId]=[]),s[o.stackId].push(o)),s),r);return Object.fromEntries(Object.entries(i).map(s=>{var[o,l]=s,u=l.map(pz);return[o,{stackedData:ooe(t,u,n),graphicalItems:l}]}))},ude=me([lde,wz,jb],Iz),Rz=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var s=uoe(t,r,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},cde=me([ude,tu,$n],Rz),Pz=(t,e,n,r,i)=>n.length>0?t.flatMap(s=>n.flatMap(o=>{var l,u,d=(l=r[o.id])===null||l===void 0?void 0:l.filter(m=>Cz(i,m)),f=ei(s,(u=e.dataKey)!==null&&u!==void 0?u:o.dataKey);return{value:f,errorDomain:ade(s,f,d)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(s=>({value:ei(s,e.dataKey),errorDomain:[]})):t.map(s=>({value:s,errorDomain:[]})),Gb=t=>t.errorBars,Nz=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>Cz(n,r));me([Tz,Gb,$n],Nz);var dde=me([hR,mi,Tz,Gb,$n],Pz);function fde(t){var{value:e}=t;if(bo(e)||e instanceof Date)return e}var KL=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Kc(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},hde=(t,e,n)=>{var r=t.map(fde).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&BB(r))?mq(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},mR=t=>{var e;if(t==null||!("domain"in t))return t1;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Kc(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:t1},Rx=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),o=Math.min(...s),l=Math.max(...s);return[o,l]}},Mz=t=>t.referenceElements.dots,Eh=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),mde=me([Mz,$n,zb],Eh),Dz=t=>t.referenceElements.areas,pde=me([Dz,$n,zb],Eh),kz=t=>t.referenceElements.lines,gde=me([kz,$n,zb],Eh),Oz=(t,e)=>{var n=Kc(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},yde=me(mde,$n,Oz),Vz=(t,e)=>{var n=Kc(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},vde=me([pde,$n],Vz),Lz=(t,e)=>{var n=Kc(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},xde=me(gde,$n,Lz),bde=me(yde,xde,vde,(t,e,n)=>Rx(t,n,e)),wde=me([mi],mR),Uz=(t,e,n,r,i,s,o)=>{var l=Oce(e,t.allowDataOverflow);if(l!=null)return l;var u=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",d=u?Rx(n,i,KL(r)):Rx(i,KL(r));return Vce(e,d,t.allowDataOverflow)},_de=me([mi,wde,cde,dde,bde,rn,$n],Uz),Tde=[0,1],Fz=(t,e,n,r,i,s,o)=>{if(!((t==null||n==null||n.length===0)&&o===void 0)){var{dataKey:l,type:u}=t,d=Ql(e,s);return d&&l==null?mq(0,n.length):u==="category"?hde(r,t,d):i==="expand"?Tde:o}},pR=me([mi,rn,hR,$b,jb,$n,_de],Fz),jz=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:o}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat(Gg(s));return l in bp?l:"point"}}},ey=me([mi,rn,yz,sR,$n],jz);function Ede(t){if(t!=null){if(t in bp)return bp[t]();var e="scale".concat(Gg(t));if(e in bp)return bp[e]()}}function gR(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Ede(e);if(i!=null){var s=i.domain(n).range(r);return noe(s),s}}}var Bz=(t,e,n)=>{var r=mR(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Gf(t))return Hce(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Gf(t))return Kce(t,e.tickCount,e.allowDecimals)}},yR=me([pR,Xg,ey],Bz),qz=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Gf(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],o=e[1],l=n[n.length-1];return[Math.min(i,s),Math.max(o,l)]}return e},Sde=me([mi,pR,yR,$n],qz),Ade=me($b,mi,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Kc(t.map(l=>l.value))).sort((l,u)=>l-u);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var o=r[s+1]-r[s];n=Math.min(n,o)}return n/i}}),zz=me(Ade,rn,Wce,Mr,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!ks(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var o=Ll(n,t*s),l=t*s/2;return l-o-(l-o)/s*o}return 0}),Cde=(t,e)=>{var n=Ta(t,e);return n==null||typeof n.padding!="string"?0:zz(t,"xAxis",e,n.padding)},Ide=(t,e)=>{var n=nu(t,e);return n==null||typeof n.padding!="string"?0:zz(t,"yAxis",e,n.padding)},Rde=me(Ta,Cde,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Pde=me(nu,Ide,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Nde=me([Mr,Rde,Nb,Pb,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),Mde=me([Mr,rn,Pde,Nb,Pb,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:o}=i;return s?[r.height-o.bottom,o.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),ty=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Nde(t,n,r);case"yAxis":return Mde(t,n,r);case"zAxis":return(i=fR(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return fz(t);case"radiusAxis":return hz(t,n);default:return}},$z=me([mi,ty],Bb),Sh=me([mi,ey,Sde,$z],gR);me([Zg,Gb,$n],Nz);function Gz(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Hb=(t,e)=>e,Kb=(t,e,n)=>n,Dde=me(SI,Hb,Kb,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(Gz)),kde=me(AI,Hb,Kb,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(Gz)),Hz=(t,e)=>({width:t.width,height:e.height}),Ode=(t,e)=>{var n=typeof e.width=="number"?e.width:Rb;return{width:n,height:t.height}},Vde=me(Mr,Ta,Hz),Lde=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Ude=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Fde=me(wa,Mr,Dde,Hb,Kb,(t,e,n,r,i)=>{var s={},o;return n.forEach(l=>{var u=Hz(e,l);o==null&&(o=Lde(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;s[l.id]=o-Number(d)*u.height,o+=(d?-1:1)*u.height}),s}),jde=me(ba,Mr,kde,Hb,Kb,(t,e,n,r,i)=>{var s={},o;return n.forEach(l=>{var u=Ode(e,l);o==null&&(o=Ude(e,r,t));var d=r==="left"&&!i||r==="right"&&i;s[l.id]=o-Number(d)*u.width,o+=(d?-1:1)*u.width}),s}),Bde=(t,e)=>{var n=Mr(t),r=Ta(t,e);if(r!=null){var i=Fde(t,r.orientation,r.mirror),s=i[e];return s==null?{x:n.left,y:0}:{x:n.left,y:s}}},qde=(t,e)=>{var n=Mr(t),r=nu(t,e);if(r!=null){var i=jde(t,r.orientation,r.mirror),s=i[e];return s==null?{x:0,y:n.top}:{x:s,y:n.top}}},zde=me(Mr,nu,(t,e)=>{var n=typeof e.width=="number"?e.width:Rb;return{width:n,height:t.height}}),Kz=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:o}=n,l=Ql(t,r),u=e.map(d=>d.value);if(o&&l&&s==="category"&&i&&BB(u))return u}},vR=me([rn,$b,mi,$n],Kz),Wz=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,o=Ql(t,r);if(o&&(i==="number"||s!=="auto"))return e.map(l=>l.value)}},xR=me([rn,$b,Xg,$n],Wz),WL=me([rn,ide,ey,Sh,vR,xR,ty,yR,$n],(t,e,n,r,i,s,o,l,u)=>{if(e==null)return null;var d=Ql(t,u);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:u,categoricalDomain:s,duplicateDomain:i,isCategorical:d,niceTicks:l,range:o,realScaleType:n,scale:r}}),$de=(t,e,n,r,i,s,o,l,u)=>{if(!(e==null||r==null)){var d=Ql(t,u),{type:f,ticks:m,tickCount:v}=e,b=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,T=f==="category"&&r.bandwidth?r.bandwidth()/b:0;T=u==="angleAxis"&&s!=null&&s.length>=2?os(s[0]-s[1])*2*T:T;var S=m||i;if(S){var A=S.map((C,D)=>{var N=o?o.indexOf(C):C;return{index:D,coordinate:r(N)+T,value:C,offset:T}});return A.filter(C=>!hs(C.coordinate))}return d&&l?l.map((C,D)=>({coordinate:r(C)+T,value:C,index:D,offset:T})):r.ticks?r.ticks(v).map(C=>({coordinate:r(C)+T,value:C,offset:T})):r.domain().map((C,D)=>({coordinate:r(C)+T,value:o?o[C]:C,index:D,offset:T}))}},Yz=me([rn,Xg,ey,Sh,yR,ty,vR,xR,$n],$de),Gde=(t,e,n,r,i,s,o)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var l=Ql(t,o),{tickCount:u}=e,d=0;return d=o==="angleAxis"&&(r==null?void 0:r.length)>=2?os(r[0]-r[1])*2*d:d,l&&s?s.map((f,m)=>({coordinate:n(f)+d,value:f,index:m,offset:d})):n.ticks?n.ticks(u).map(f=>({coordinate:n(f)+d,value:f,offset:d})):n.domain().map((f,m)=>({coordinate:n(f)+d,value:i?i[f]:f,index:m,offset:d}))}},Jz=me([rn,Xg,Sh,ty,vR,xR,$n],Gde),Qz=me(mi,Sh,(t,e)=>{if(!(t==null||e==null))return Ix(Ix({},t),{},{scale:e})}),Hde=me([mi,ey,pR,$z],gR);me((t,e,n)=>fR(t,n),Hde,(t,e)=>{if(!(t==null||e==null))return Ix(Ix({},t),{},{scale:e})});var Kde=me([rn,SI,AI],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Xz=t=>t.options.defaultTooltipEventType,Zz=t=>t.options.validateTooltipEventTypes;function e9(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function bR(t,e){var n=Xz(t),r=Zz(t);return e9(e,n,r)}function Wde(t){return Je(e=>bR(e,t))}var t9=(t,e)=>{var n,r=Number(e);if(!(hs(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Yde=t=>t.tooltip.settings,bl={active:!1,index:null,dataKey:void 0,coordinate:void 0},Jde={itemInteraction:{click:bl,hover:bl},axisInteraction:{click:bl,hover:bl},keyboardInteraction:bl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},n9=Fi({name:"tooltip",initialState:Jde,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=sa(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Qde,removeTooltipEntrySettings:Xde,setTooltipSettingsState:Zde,setActiveMouseOverItemIndex:efe,mouseLeaveItem:jke,mouseLeaveChart:r9,setActiveClickItemIndex:Bke,setMouseOverAxisIndex:i9,setMouseClickAxisIndex:tfe,setSyncInteraction:n1,setKeyboardInteraction:r1}=n9.actions,nfe=n9.reducer;function YL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function i0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YL(Object(n),!0).forEach(function(r){rfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rfe(t,e,n){return(e=ife(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ife(t){var e=sfe(t,"string");return typeof e=="symbol"?e:e+""}function sfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ofe(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function afe(t){return t.index!=null}var s9=(t,e,n,r)=>{if(e==null)return bl;var i=ofe(t,e,n);if(i==null)return bl;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(afe(i)){if(s)return i0(i0({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return i0(i0({},bl),{},{coordinate:i.coordinate})},wR=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!ks(r))return n;var i=0,s=1/0;return e.length>0&&(s=e.length-1),String(Math.max(i,Math.min(r,s)))},o9=(t,e,n,r,i,s,o,l)=>{if(!(s==null||l==null)){var u=o[0],d=u==null?void 0:l(u.positions,s);if(d!=null)return d;var f=i==null?void 0:i[Number(s)];if(f)switch(n){case"horizontal":return{x:f.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:f.coordinate}}}},a9=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.dataKey)===i})},ny=t=>t.options.tooltipPayloadSearcher,Ah=t=>t.tooltip;function JL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JL(Object(n),!0).forEach(function(r){lfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lfe(t,e,n){return(e=ufe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ufe(t){var e=cfe(t,"string");return typeof e=="symbol"?e:e+""}function cfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dfe(t,e){return t!=null?t:e}var l9=(t,e,n,r,i,s,o)=>{if(!(e==null||s==null)){var{chartData:l,computedData:u,dataStartIndex:d,dataEndIndex:f}=n,m=[];return t.reduce((v,b)=>{var T,{dataDefinedOnItem:S,settings:A}=b,C=dfe(S,l),D=Array.isArray(C)?J6(C,d,f):C,N=(T=A==null?void 0:A.dataKey)!==null&&T!==void 0?T:r==null?void 0:r.dataKey,F=A==null?void 0:A.nameKey,V;if(r!=null&&r.dataKey&&Array.isArray(D)&&!Array.isArray(D[0])&&o==="axis"?V=qB(D,r.dataKey,i):V=s(D,e,u,F),Array.isArray(V))V.forEach(k=>{var R=QL(QL({},A),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});v.push(PV({tooltipEntrySettings:R,dataKey:k.dataKey,payload:k.payload,value:ei(k.payload,k.dataKey),name:k.name}))});else{var B;v.push(PV({tooltipEntrySettings:A,dataKey:N,payload:V,value:ei(V,N),name:(B=ei(V,F))!==null&&B!==void 0?B:A==null?void 0:A.name}))}return v},m)}},_R=me([nr,rn,yz,sR,tr],jz),ffe=me([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),hfe=me([tr,Th],vz),ry=me([ffe,nr,hfe],bz),mfe=me([ry],t=>t.filter(dR)),pfe=me([ry],Ez),Ch=me([pfe,tu],Sz),gfe=me([mfe,tu,nr],gz),TR=me([Ch,nr,ry],Az),yfe=me([nr],mR),vfe=me([ry],t=>t.filter(dR)),xfe=me([gfe,vfe,jb],Iz),bfe=me([xfe,tu,tr],Rz),wfe=me([ry],_z),_fe=me([Ch,nr,wfe,Gb,tr],Pz),Tfe=me([Mz,tr,Th],Eh),Efe=me([Tfe,tr],Oz),Sfe=me([Dz,tr,Th],Eh),Afe=me([Sfe,tr],Vz),Cfe=me([kz,tr,Th],Eh),Ife=me([Cfe,tr],Lz),Rfe=me([Efe,Ife,Afe],Rx),Pfe=me([nr,yfe,bfe,_fe,Rfe,rn,tr],Uz),u9=me([nr,rn,Ch,TR,jb,tr,Pfe],Fz),Nfe=me([u9,nr,_R],Bz),Mfe=me([nr,u9,Nfe,tr],qz),c9=t=>{var e=tr(t),n=Th(t),r=!1;return ty(t,e,n,r)},d9=me([nr,c9],Bb),f9=me([nr,_R,Mfe,d9],gR),Dfe=me([rn,TR,nr,tr],Kz),kfe=me([rn,TR,nr,tr],Wz),Ofe=(t,e,n,r,i,s,o,l)=>{if(e){var{type:u}=e,d=Ql(t,l);if(r){var f=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=u==="category"&&r.bandwidth?r.bandwidth()/f:0;return m=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?os(i[0]-i[1])*2*m:m,d&&o?o.map((v,b)=>({coordinate:r(v)+m,value:v,index:b,offset:m})):r.domain().map((v,b)=>({coordinate:r(v)+m,value:s?s[v]:v,index:b,offset:m}))}}},Ea=me([rn,nr,_R,f9,c9,Dfe,kfe,tr],Ofe),ER=me([Xz,Zz,Yde],(t,e,n)=>e9(n.shared,t,e)),h9=t=>t.tooltip.settings.trigger,SR=t=>t.tooltip.settings.defaultIndex,Wb=me([Ah,ER,h9,SR],s9),mg=me([Wb,Ch],wR),m9=me([Ea,mg],t9),Vfe=me([Wb],t=>{if(t)return t.dataKey}),p9=me([Ah,ER,h9,SR],a9),Lfe=me([ba,wa,rn,Mr,Ea,SR,p9,ny],o9),Ufe=me([Wb,Lfe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Ffe=me([Wb],t=>t.active),jfe=me([p9,mg,tu,nr,m9,ny,ER],l9),Bfe=me([jfe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function XL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XL(Object(n),!0).forEach(function(r){qfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qfe(t,e,n){return(e=zfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zfe(t){var e=$fe(t,"string");return typeof e=="symbol"?e:e+""}function $fe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gfe=()=>Je(nr),Hfe=()=>{var t=Gfe(),e=Je(Ea),n=Je(f9);return VA(ZL(ZL({},t),{},{scale:n}),e)},Kfe=()=>Je(sR),AR=(t,e)=>e,g9=(t,e,n)=>n,CR=(t,e,n,r)=>r,Wfe=me(Ea,t=>_b(t,e=>e.coordinate)),IR=me([Ah,AR,g9,CR],s9),y9=me([IR,Ch],wR),Yfe=(t,e,n)=>{if(e!=null){var r=Ah(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},v9=me([Ah,AR,g9,CR],a9),Px=me([ba,wa,rn,Mr,Ea,CR,v9,ny],o9),Jfe=me([IR,Px],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),x9=me(Ea,y9,t9),Qfe=me([v9,y9,tu,nr,x9,ny,AR],l9),Xfe=me([IR],t=>({isActive:t.active,activeIndex:t.index})),Zfe=(t,e,n,r,i,s,o,l)=>{if(!(!t||!e||!r||!i||!s)){var u=coe(t.chartX,t.chartY,e,n,l);if(u){var d=foe(u,e),f=eoe(d,o,s,r,i),m=doe(e,s,f,u);return{activeIndex:String(f),activeCoordinate:m}}}};function i1(){return i1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i1.apply(null,arguments)}function e4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e4(Object(n),!0).forEach(function(r){ehe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ehe(t,e,n){return(e=the(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function the(t){var e=nhe(t,"string");return typeof e=="symbol"?e:e+""}function nhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rhe(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:u,chartName:d}=t,f=e,m=n,v=r;if(!l||!f||d!=="ScatterChart"&&u!=="axis")return null;var b,T;if(d==="ScatterChart")b=f,T=hae;else if(d==="BarChart")b=mae(o,f,i,s),T=Yae;else if(o==="radial"){var{cx:S,cy:A,radius:C,startAngle:D,endAngle:N}=fq(f);b={cx:S,cy:A,startAngle:D,endAngle:N,innerRadius:C,outerRadius:C},T=Zae}else b={points:ele(o,f,i)},T=sq;var F=typeof l=="object"&&"className"in l?l.className:void 0,V=s0(s0(s0(s0({stroke:"#ccc",pointerEvents:"none"},i),b),Xn(l,!1)),{},{payload:m,payloadIndex:v,className:Gt("recharts-tooltip-cursor",F)});return M.isValidElement(l)?M.cloneElement(l,V):M.createElement(T,V)}function ihe(t){var e=Hfe(),n=nq(),r=PI(),i=Kfe();return M.createElement(rhe,i1({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var b9=M.createContext(null),she=()=>M.useContext(b9),pS={exports:{}},t4;function ohe(){return t4||(t4=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,d,f){this.fn=u,this.context=d,this.once=f||!1}function s(u,d,f,m,v){if(typeof f!="function")throw new TypeError("The listener must be a function");var b=new i(f,m||u,v),T=n?n+d:d;return u._events[T]?u._events[T].fn?u._events[T]=[u._events[T],b]:u._events[T].push(b):(u._events[T]=b,u._eventsCount++),u}function o(u,d){--u._eventsCount===0?u._events=new r:delete u._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,m;if(this._eventsCount===0)return d;for(m in f=this._events)e.call(f,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=n?n+d:d,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,b=m.length,T=new Array(b);v<b;v++)T[v]=m[v].fn;return T},l.prototype.listenerCount=function(d){var f=n?n+d:d,m=this._events[f];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,f,m,v,b,T){var S=n?n+d:d;if(!this._events[S])return!1;var A=this._events[S],C=arguments.length,D,N;if(A.fn){switch(A.once&&this.removeListener(d,A.fn,void 0,!0),C){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,f),!0;case 3:return A.fn.call(A.context,f,m),!0;case 4:return A.fn.call(A.context,f,m,v),!0;case 5:return A.fn.call(A.context,f,m,v,b),!0;case 6:return A.fn.call(A.context,f,m,v,b,T),!0}for(N=1,D=new Array(C-1);N<C;N++)D[N-1]=arguments[N];A.fn.apply(A.context,D)}else{var F=A.length,V;for(N=0;N<F;N++)switch(A[N].once&&this.removeListener(d,A[N].fn,void 0,!0),C){case 1:A[N].fn.call(A[N].context);break;case 2:A[N].fn.call(A[N].context,f);break;case 3:A[N].fn.call(A[N].context,f,m);break;case 4:A[N].fn.call(A[N].context,f,m,v);break;default:if(!D)for(V=1,D=new Array(C-1);V<C;V++)D[V-1]=arguments[V];A[N].fn.apply(A[N].context,D)}}return!0},l.prototype.on=function(d,f,m){return s(this,d,f,m,!1)},l.prototype.once=function(d,f,m){return s(this,d,f,m,!0)},l.prototype.removeListener=function(d,f,m,v){var b=n?n+d:d;if(!this._events[b])return this;if(!f)return o(this,b),this;var T=this._events[b];if(T.fn)T.fn===f&&(!v||T.once)&&(!m||T.context===m)&&o(this,b);else{for(var S=0,A=[],C=T.length;S<C;S++)(T[S].fn!==f||v&&!T[S].once||m&&T[S].context!==m)&&A.push(T[S]);A.length?this._events[b]=A.length===1?A[0]:A:o(this,b)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=n?n+d:d,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(pS)),pS.exports}var ahe=ohe();const lhe=Eo(ahe);var pg=new lhe,s1="recharts.syncEvent.tooltip",n4="recharts.syncEvent.brush";function uhe(t,e){if(e){var n=Number.parseInt(e,10);if(!hs(n))return t==null?void 0:t[n]}}var che={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},w9=Fi({name:"options",initialState:che,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),dhe=w9.reducer,{createEventEmitter:fhe}=w9.actions;function hhe(t){return t.tooltip.syncInteraction}var mhe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},_9=Fi({name:"chartData",initialState:mhe,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:r4,setDataStartEndIndexes:phe,setComputedData:qke}=_9.actions,ghe=_9.reducer,T9=()=>{};function yhe(){var t=Je(oR),e=Je(aR),n=Nr(),r=Je(uz),i=Je(Ea),s=PI(),o=CI(),l=Je(u=>u.rootProps.className);M.useEffect(()=>{if(t==null)return T9;var u=(d,f,m)=>{if(e!==m&&t===d){if(r==="index"){n(f);return}if(i!=null){var v;if(typeof r=="function"){var b={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},T=r(i,b);v=i[T]}else r==="value"&&(v=i.find(B=>String(B.value)===f.payload.label));var{coordinate:S}=f.payload;if(v==null||f.payload.active===!1||S==null||o==null){n(n1({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:A,y:C}=S,D=Math.min(A,o.x+o.width),N=Math.min(C,o.y+o.height),F={x:s==="horizontal"?v.coordinate:D,y:s==="horizontal"?N:v.coordinate},V=n1({active:f.payload.active,coordinate:F,dataKey:f.payload.dataKey,index:String(v.index),label:f.payload.label});n(V)}}};return pg.on(s1,u),()=>{pg.off(s1,u)}},[l,n,e,t,r,i,s,o])}function vhe(){var t=Je(oR),e=Je(aR),n=Nr();M.useEffect(()=>{if(t==null)return T9;var r=(i,s,o)=>{e!==o&&t===i&&n(phe(s))};return pg.on(n4,r),()=>{pg.off(n4,r)}},[n,e,t])}function xhe(){var t=Nr();M.useEffect(()=>{t(fhe())},[t]),yhe(),vhe()}function bhe(t,e,n,r,i,s){var o=Je(v=>Yfe(v,t,e)),l=Je(aR),u=Je(oR),d=Je(uz),f=Je(hhe),m=f==null?void 0:f.active;M.useEffect(()=>{if(!m&&u!=null&&l!=null){var v=n1({active:s,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r});pg.emit(s1,u,v,l)}},[m,n,o,i,r,l,u,d,s])}function i4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i4(Object(n),!0).forEach(function(r){whe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function whe(t,e,n){return(e=_he(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _he(t){var e=The(t,"string");return typeof e=="symbol"?e:e+""}function The(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ehe(t){return t.dataKey}function She(t,e){return M.isValidElement(t)?M.cloneElement(t,e):typeof t=="function"?M.createElement(t,e):M.createElement(Goe,e)}var o4=[],Ahe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Kg.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Che(t){var e=Xl(t,Ahe),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:s,content:o,filterNull:l,isAnimationActive:u,offset:d,payloadUniqBy:f,position:m,reverseDirection:v,useTranslate3d:b,wrapperStyle:T,cursor:S,shared:A,trigger:C,defaultIndex:D,portal:N,axisId:F}=e,V=Nr(),B=typeof D=="number"?String(D):D;M.useEffect(()=>{V(Zde({shared:A,trigger:C,axisId:F,active:n,defaultIndex:B}))},[V,A,C,F,n,B]);var k=CI(),R=iq(),O=Wde(A),{activeIndex:j,isActive:q}=Je(Ve=>Xfe(Ve,O,C,B)),H=Je(Ve=>Qfe(Ve,O,C,B)),G=Je(Ve=>x9(Ve,O,C,B)),he=Je(Ve=>Jfe(Ve,O,C,B)),we=H,Q=she(),ae=n!=null?n:q,[Z,Ee]=S6([we,ae]),K=O==="axis"?G:void 0;bhe(O,C,he,K,j,ae);var ue=N!=null?N:Q;if(ue==null)return null;var ce=we!=null?we:o4;ae||(ce=o4),l&&ce.length&&(ce=b6(we.filter(Ve=>Ve.value!=null&&(Ve.hide!==!0||e.includeHidden)),f,Ehe));var fe=ce.length>0,Ce=M.createElement(Xoe,{allowEscapeViewBox:r,animationDuration:i,animationEasing:s,isAnimationActive:u,active:ae,coordinate:he,hasPayload:fe,offset:d,position:m,reverseDirection:v,useTranslate3d:b,viewBox:k,wrapperStyle:T,lastBoundingBox:Z,innerRef:Ee,hasPortalFromProps:!!N},She(o,s4(s4({},e),{},{payload:ce,label:K,active:ae,coordinate:he,accessibilityLayer:R})));return M.createElement(M.Fragment,null,WB.createPortal(Ce,ue),ae&&M.createElement(ihe,{cursor:S,tooltipEventType:O,coordinate:he,payload:we,index:j}))}var gS={},yS={},vS={},a4;function Ihe(){return a4||(a4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let o,l=null;const u=s!=null&&s.includes("leading"),d=s==null||s.includes("trailing"),f=()=>{l!==null&&(n.apply(o,l),o=void 0,l=null)},m=()=>{d&&f(),S()};let v=null;const b=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,m()},r)},T=()=>{v!==null&&(clearTimeout(v),v=null)},S=()=>{T(),o=void 0,l=null},A=()=>{f()},C=function(...D){if(i!=null&&i.aborted)return;o=this,l=D;const N=v==null;b(),u&&N&&f()};return C.schedule=b,C.cancel=S,C.flush=A,i==null||i.addEventListener("abort",S,{once:!0}),C}t.debounce=e})(vS)),vS}var l4;function Rhe(){return l4||(l4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ihe();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:o=!1,trailing:l=!0,maxWait:u}=s,d=Array(2);o&&(d[0]="leading"),l&&(d[1]="trailing");let f,m=null;const v=e.debounce(function(...S){f=r.apply(this,S),m=null},i,{edges:d}),b=function(...S){return u!=null&&(m===null&&(m=Date.now()),Date.now()-m>=u)?(f=r.apply(this,S),m=Date.now(),v.cancel(),v.schedule(),f):(v.apply(this,S),f)},T=()=>(v.flush(),f);return b.cancel=v.cancel,b.flush=T,b}t.debounce=n})(yS)),yS}var u4;function Phe(){return u4||(u4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Rhe();function n(r,i=0,s={}){const{leading:o=!0,trailing:l=!0}=s;return e.debounce(r,i,{leading:o,maxWait:i,trailing:l})}t.throttle=n})(gS)),gS}var xS,c4;function Nhe(){return c4||(c4=1,xS=Phe().throttle),xS}var Mhe=Nhe();const Dhe=Eo(Mhe);var Op=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function d4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d4(Object(n),!0).forEach(function(r){khe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function khe(t,e,n){return(e=Ohe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ohe(t){var e=Vhe(t,"string");return typeof e=="symbol"?e:e+""}function Vhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lhe=M.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:o=0,minHeight:l,maxHeight:u,children:d,debounce:f=0,id:m,className:v,onResize:b,style:T={}}=t,S=M.useRef(null),A=M.useRef();A.current=b,M.useImperativeHandle(e,()=>S.current);var[C,D]=M.useState({containerWidth:r.width,containerHeight:r.height}),N=M.useCallback((V,B)=>{D(k=>{var R=Math.round(V),O=Math.round(B);return k.containerWidth===R&&k.containerHeight===O?k:{containerWidth:R,containerHeight:O}})},[]);M.useEffect(()=>{var V=O=>{var j,{width:q,height:H}=O[0].contentRect;N(q,H),(j=A.current)===null||j===void 0||j.call(A,q,H)};f>0&&(V=Dhe(V,f,{trailing:!0,leading:!1}));var B=new ResizeObserver(V),{width:k,height:R}=S.current.getBoundingClientRect();return N(k,R),B.observe(S.current),()=>{B.disconnect()}},[N,f]);var F=M.useMemo(()=>{var{containerWidth:V,containerHeight:B}=C;if(V<0||B<0)return null;Op(ic(i)||ic(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,s),Op(!n||n>0,"The aspect(%s) must be greater than zero.",n);var k=ic(i)?V:i,R=ic(s)?B:s;return n&&n>0&&(k?R=k/n:R&&(k=R*n),u&&R>u&&(R=u)),Op(k>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,R,i,s,o,l,n),M.Children.map(d,O=>M.cloneElement(O,{width:k,height:R,style:bS({width:k,height:R},O.props.style)}))},[n,d,s,u,l,o,C,i]);return M.createElement("div",{id:m?"".concat(m):void 0,className:Gt("recharts-responsive-container",v),style:bS(bS({},T),{},{width:i,height:s,minWidth:o,minHeight:l,maxHeight:u}),ref:S},M.createElement("div",{style:{width:0,height:0,overflow:"visible"}},F))});function Uhe(t,e,n){return(e=Fhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fhe(t){var e=jhe(t,"string");return typeof e=="symbol"?e:e+""}function jhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Bhe{constructor(e){Uhe(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function f4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qhe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f4(Object(n),!0).forEach(function(r){zhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zhe(t,e,n){return(e=$he(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $he(t){var e=Ghe(t,"string");return typeof e=="symbol"?e:e+""}function Ghe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hhe={cacheSize:2e3,enableCache:!0},E9=qhe({},Hhe),h4=new Bhe(E9.cacheSize),Khe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},m4="recharts_measurement_span";function Whe(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",o=e.letterSpacing||"",l=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(o,"|").concat(l)}var p4=(t,e)=>{try{var n=document.getElementById(m4);n||(n=document.createElement("span"),n.setAttribute("id",m4),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Khe,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch(i){return{width:0,height:0}}},Vp=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Kg.isSsr)return{width:0,height:0};if(!E9.enableCache)return p4(e,n);var r=Whe(e,n),i=h4.get(r);if(i)return i;var s=p4(e,n);return h4.set(r,s),s},g4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,y4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Yhe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Jhe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,S9={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Qhe=Object.keys(S9),ff="NaN";function Xhe(t,e){return t*S9[e]}class ai{static parse(e){var n,[,r,i]=(n=Jhe.exec(e))!==null&&n!==void 0?n:[];return new ai(parseFloat(r),i!=null?i:"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,hs(e)&&(this.unit=""),n!==""&&!Yhe.test(n)&&(this.num=NaN,this.unit=""),Qhe.includes(n)&&(this.num=Xhe(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new ai(NaN,""):new ai(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new ai(NaN,""):new ai(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ai(NaN,""):new ai(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ai(NaN,""):new ai(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return hs(this.num)}}function A9(t){if(t.includes(ff))return ff;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=g4.exec(e))!==null&&n!==void 0?n:[],o=ai.parse(r!=null?r:""),l=ai.parse(s!=null?s:""),u=i==="*"?o.multiply(l):o.divide(l);if(u.isNaN())return ff;e=e.replace(g4,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,f,m,v]=(d=y4.exec(e))!==null&&d!==void 0?d:[],b=ai.parse(f!=null?f:""),T=ai.parse(v!=null?v:""),S=m==="+"?b.add(T):b.subtract(T);if(S.isNaN())return ff;e=e.replace(y4,S.toString())}return e}var v4=/\(([^()]*)\)/;function Zhe(t){for(var e=t,n;(n=v4.exec(e))!=null;){var[,r]=n;e=e.replace(v4,A9(r))}return e}function eme(t){var e=t.replace(/\s+/g,"");return e=Zhe(e),e=A9(e),e}function tme(t){try{return eme(t)}catch(e){return ff}}function wS(t){var e=tme(t.slice(5,-1));return e===ff?"":e}var nme=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],rme=["dx","dy","angle","className","breakAll"];function o1(){return o1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o1.apply(null,arguments)}function x4(t,e){if(t==null)return{};var n,r,i=ime(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ime(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var C9=/[ \f\n\r\t\v\u2028\u2029]+/,I9=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];qn(e)||(n?i=e.toString().split(""):i=e.toString().split(C9));var s=i.map(l=>({word:l,width:Vp(l,r).width})),o=n?0:Vp(" ",r).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch(l){return null}},sme=(t,e,n,r,i)=>{var{maxLines:s,children:o,style:l,breakAll:u}=t,d=He(s),f=o,m=function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return q.reduce((H,G)=>{var{word:he,width:we}=G,Q=H[H.length-1];if(Q&&(r==null||i||Q.width+we+n<Number(r)))Q.words.push(he),Q.width+=we+n;else{var ae={words:[he],width:we};H.push(ae)}return H},[])},v=m(e),b=j=>j.reduce((q,H)=>q.width>H.width?q:H);if(!d||i)return v;var T=v.length>s||b(v).width>Number(r);if(!T)return v;for(var S="…",A=j=>{var q=f.slice(0,j),H=I9({breakAll:u,style:l,children:q+S}).wordsWithComputedWidth,G=m(H),he=G.length>s||b(G).width>Number(r);return[he,G]},C=0,D=f.length-1,N=0,F;C<=D&&N<=f.length-1;){var V=Math.floor((C+D)/2),B=V-1,[k,R]=A(B),[O]=A(V);if(!k&&!O&&(C=V+1),k&&O&&(D=V-1),!k&&O){F=R;break}N++}return F||v},b4=t=>{var e=qn(t)?[]:t.toString().split(C9);return[{words:e}]},ome=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:o}=t;if((e||n)&&!Kg.isSsr){var l,u,d=I9({breakAll:s,children:r,style:i});if(d){var{wordsWithComputedWidth:f,spaceWidth:m}=d;l=f,u=m}else return b4(r);return sme({breakAll:s,children:r,maxLines:o,style:i},l,u,e,n)}return b4(r)},w4="#808080",RR=M.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:o=!1,textAnchor:l="start",verticalAnchor:u="end",fill:d=w4}=t,f=x4(t,nme),m=M.useMemo(()=>ome({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:o,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,o,f.style,f.width]),{dx:v,dy:b,angle:T,className:S,breakAll:A}=f,C=x4(f,rme);if(!bo(n)||!bo(r))return null;var D=n+(He(v)?v:0),N=r+(He(b)?b:0),F;switch(u){case"start":F=wS("calc(".concat(s,")"));break;case"middle":F=wS("calc(".concat((m.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:F=wS("calc(".concat(m.length-1," * -").concat(i,")"));break}var V=[];if(o){var B=m[0].width,{width:k}=f;V.push("scale(".concat(He(k)?k/B:1,")"))}return T&&V.push("rotate(".concat(T,", ").concat(D,", ").concat(N,")")),V.length&&(C.transform=V.join(" ")),M.createElement("text",o1({},Xn(C,!0),{ref:e,x:D,y:N,className:Gt("recharts-text",S),textAnchor:l,fill:d.includes("url")?w4:d}),m.map((R,O)=>{var j=R.words.join(A?"":" ");return M.createElement("tspan",{x:D,dy:O===0?F:i,key:"".concat(j,"-").concat(O)},j)}))});RR.displayName="Text";var ame=["offset"],lme=["labelRef"];function _4(t,e){if(t==null)return{};var n,r,i=ume(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ume(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function T4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T4(Object(n),!0).forEach(function(r){cme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cme(t,e,n){return(e=dme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dme(t){var e=fme(t,"string");return typeof e=="symbol"?e:e+""}function fme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zo(){return Zo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zo.apply(null,arguments)}var hme=t=>{var{value:e,formatter:n}=t,r=qn(t.children)?e:t.children;return typeof n=="function"?n(r):r},PR=t=>t!=null&&typeof t=="function",mme=(t,e)=>{var n=os(e-t),r=Math.min(Math.abs(e-t),360);return n*r},pme=(t,e,n,r)=>{var{position:i,offset:s,className:o}=t,{cx:l,cy:u,innerRadius:d,outerRadius:f,startAngle:m,endAngle:v,clockWise:b}=r,T=(d+f)/2,S=mme(m,v),A=S>=0?1:-1,C,D;i==="insideStart"?(C=m+A*s,D=b):i==="insideEnd"?(C=v-A*s,D=!b):i==="end"&&(C=v+A*s,D=b),D=S<=0?D:!D;var N=Ir(l,u,T,C),F=Ir(l,u,T,C+(D?1:-1)*359),V="M".concat(N.x,",").concat(N.y,`
    A`).concat(T,",").concat(T,",0,1,").concat(D?0:1,`,
    `).concat(F.x,",").concat(F.y),B=qn(t.id)?sg("recharts-radial-line-"):t.id;return M.createElement("text",Zo({},n,{dominantBaseline:"central",className:Gt("recharts-radial-bar-label",o)}),M.createElement("defs",null,M.createElement("path",{id:B,d:V})),M.createElement("textPath",{xlinkHref:"#".concat(B)},e))},gme=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:o,startAngle:l,endAngle:u}=t,d=(l+u)/2;if(n==="outside"){var{x:f,y:m}=Ir(r,i,o+e,d);return{x:f,y:m,textAnchor:f>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(s+o)/2,{x:b,y:T}=Ir(r,i,v,d);return{x:b,y:T,textAnchor:"middle",verticalAnchor:"middle"}},yme=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,{x:s,y:o,width:l,height:u}=e,d=u>=0?1:-1,f=d*r,m=d>0?"end":"start",v=d>0?"start":"end",b=l>=0?1:-1,T=b*r,S=b>0?"end":"start",A=b>0?"start":"end";if(i==="top"){var C={x:s+l/2,y:o-d*r,textAnchor:"middle",verticalAnchor:m};return _n(_n({},C),n?{height:Math.max(o-n.y,0),width:l}:{})}if(i==="bottom"){var D={x:s+l/2,y:o+u+f,textAnchor:"middle",verticalAnchor:v};return _n(_n({},D),n?{height:Math.max(n.y+n.height-(o+u),0),width:l}:{})}if(i==="left"){var N={x:s-T,y:o+u/2,textAnchor:S,verticalAnchor:"middle"};return _n(_n({},N),n?{width:Math.max(N.x-n.x,0),height:u}:{})}if(i==="right"){var F={x:s+l+T,y:o+u/2,textAnchor:A,verticalAnchor:"middle"};return _n(_n({},F),n?{width:Math.max(n.x+n.width-F.x,0),height:u}:{})}var V=n?{width:l,height:u}:{};return i==="insideLeft"?_n({x:s+T,y:o+u/2,textAnchor:A,verticalAnchor:"middle"},V):i==="insideRight"?_n({x:s+l-T,y:o+u/2,textAnchor:S,verticalAnchor:"middle"},V):i==="insideTop"?_n({x:s+l/2,y:o+f,textAnchor:"middle",verticalAnchor:v},V):i==="insideBottom"?_n({x:s+l/2,y:o+u-f,textAnchor:"middle",verticalAnchor:m},V):i==="insideTopLeft"?_n({x:s+T,y:o+f,textAnchor:A,verticalAnchor:v},V):i==="insideTopRight"?_n({x:s+l-T,y:o+f,textAnchor:S,verticalAnchor:v},V):i==="insideBottomLeft"?_n({x:s+T,y:o+u-f,textAnchor:A,verticalAnchor:m},V):i==="insideBottomRight"?_n({x:s+l-T,y:o+u-f,textAnchor:S,verticalAnchor:m},V):i&&typeof i=="object"&&(He(i.x)||ic(i.x))&&(He(i.y)||ic(i.y))?_n({x:s+Ll(i.x,l),y:o+Ll(i.y,u),textAnchor:"end",verticalAnchor:"end"},V):_n({x:s+l/2,y:o+u/2,textAnchor:"middle",verticalAnchor:"middle"},V)},vme=t=>"cx"in t&&He(t.cx);function Pi(t){var{offset:e=5}=t,n=_4(t,ame),r=_n({offset:e},n),{viewBox:i,position:s,value:o,children:l,content:u,className:d="",textBreakAll:f,labelRef:m}=r,v=Je(mz),b=CI(),T=s==="center"?b:v!=null?v:b,S=i||T;if(!S||qn(o)&&qn(l)&&!M.isValidElement(u)&&typeof u!="function")return null;var A=_n(_n({},r),{},{viewBox:S});if(M.isValidElement(u)){var{labelRef:C}=A,D=_4(A,lme);return M.cloneElement(u,D)}var N;if(typeof u=="function"){if(N=M.createElement(u,A),M.isValidElement(N))return N}else N=hme(r);var F=vme(S),V=Xn(r,!0);if(F&&(s==="insideStart"||s==="insideEnd"||s==="end"))return pme(r,N,V,S);var B=F?gme(S,r.offset,r.position):yme(r,S);return M.createElement(RR,Zo({ref:m,className:Gt("recharts-label",d)},V,B,{breakAll:f}),N)}Pi.displayName="Label";var R9=t=>{var{cx:e,cy:n,angle:r,startAngle:i,endAngle:s,r:o,radius:l,innerRadius:u,outerRadius:d,x:f,y:m,top:v,left:b,width:T,height:S,clockWise:A,labelViewBox:C}=t;if(C)return C;if(He(T)&&He(S)){if(He(f)&&He(m))return{x:f,y:m,width:T,height:S};if(He(v)&&He(b))return{x:v,y:b,width:T,height:S}}if(He(f)&&He(m))return{x:f,y:m,width:0,height:0};if(He(e)&&He(n))return{cx:e,cy:n,startAngle:i||r||0,endAngle:s||r||0,innerRadius:u||0,outerRadius:d||l||o||0,clockWise:A};if(t.viewBox)return t.viewBox},xme=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?M.createElement(Pi,Zo({key:"label-implicit"},r)):bo(t)?M.createElement(Pi,Zo({key:"label-implicit",value:t},r)):M.isValidElement(t)?t.type===Pi?M.cloneElement(t,_n({key:"label-implicit"},r)):M.createElement(Pi,Zo({key:"label-implicit",content:t},r)):PR(t)?M.createElement(Pi,Zo({key:"label-implicit",content:t},r)):t&&typeof t=="object"?M.createElement(Pi,Zo({},t,{key:"label-implicit"},r)):null},bme=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:i,labelRef:s}=e,o=R9(e),l=HB(i,Pi).map((d,f)=>M.cloneElement(d,{viewBox:n||o,key:"label-".concat(f)}));if(!r)return l;var u=xme(e.label,n||o,s);return[u,...l]};Pi.parseViewBox=R9;Pi.renderCallByParent=bme;var _S={},TS={},E4;function wme(){return E4||(E4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(TS)),TS}var ES={},S4;function _me(){return S4||(S4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(ES)),ES}var A4;function Tme(){return A4||(A4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wme(),n=_me(),r=mI();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(_S)),_S}var SS,C4;function Eme(){return C4||(C4=1,SS=Tme().last),SS}var Sme=Eme();const Ame=Eo(Sme);var Cme=["valueAccessor"],Ime=["data","dataKey","clockWise","id","textBreakAll"];function Nx(){return Nx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nx.apply(null,arguments)}function I4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function R4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I4(Object(n),!0).forEach(function(r){Rme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rme(t,e,n){return(e=Pme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pme(t){var e=Nme(t,"string");return typeof e=="symbol"?e:e+""}function Nme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P4(t,e){if(t==null)return{};var n,r,i=Mme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Dme=t=>Array.isArray(t.value)?Ame(t.value):t.value;function bc(t){var{valueAccessor:e=Dme}=t,n=P4(t,Cme),{data:r,dataKey:i,clockWise:s,id:o,textBreakAll:l}=n,u=P4(n,Ime);return!r||!r.length?null:M.createElement(Ff,{className:"recharts-label-list"},r.map((d,f)=>{var m=qn(i)?e(d,f):ei(d&&d.payload,i),v=qn(o)?{}:{id:"".concat(o,"-").concat(f)};return M.createElement(Pi,Nx({},Xn(d,!0),u,v,{parentViewBox:d.parentViewBox,value:m,textBreakAll:l,viewBox:Pi.parseViewBox(qn(s)?d:R4(R4({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}bc.displayName="LabelList";function kme(t,e){return t?t===!0?M.createElement(bc,{key:"labelList-implicit",data:e}):M.isValidElement(t)||PR(t)?M.createElement(bc,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?M.createElement(bc,Nx({data:e},t,{key:"labelList-implicit"})):null:null}function Ome(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:r}=t,i=HB(r,bc).map((o,l)=>M.cloneElement(o,{data:e,key:"labelList-".concat(l)}));if(!n)return i;var s=kme(t.label,e);return[s,...i]}bc.renderCallByParent=Ome;function a1(){return a1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a1.apply(null,arguments)}var P9=t=>{var{cx:e,cy:n,r,className:i}=t,s=Gt("recharts-dot",i);return e===+e&&n===+n&&r===+r?M.createElement("circle",a1({},xh(t),aI(t),{className:s,cx:e,cy:n,r})):null},Vme={radiusAxis:{},angleAxis:{}},N9=Fi({name:"polarAxis",initialState:Vme,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:zke,removeRadiusAxis:$ke,addAngleAxis:Gke,removeAngleAxis:Hke}=N9.actions,Lme=N9.reducer;function Ume(t){var{fn:e,args:n}=t,r=Nr(),i=gs();return M.useEffect(()=>{if(!i){var s=e(n);return r(Qde(s)),()=>{r(Xde(s))}}},[e,n,r,i]),null}var Fme=()=>{};function jme(t){var{legendPayload:e}=t,n=Nr(),r=gs();return M.useEffect(()=>r?Fme:(n(Coe(e)),()=>{n(Ioe(e))}),[n,r,e]),null}function Bme(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=M.useRef(sg(e)),r=M.useRef(t);return r.current!==t&&(n.current=sg(e),r.current=t),n.current}var AS,qme=()=>{var[t]=M.useState(()=>sg("uid-"));return t},zme=(AS=XW.useId)!==null&&AS!==void 0?AS:qme;function $me(t,e){var n=zme();return e||(t?"".concat(t,"-").concat(n):n)}var Gme=M.createContext(void 0),Hme=t=>{var{id:e,type:n,children:r}=t,i=$me("recharts-".concat(n),e);return M.createElement(Gme.Provider,{value:i},r(i))},Kme={cartesianItems:[],polarItems:[]},M9=Fi({name:"graphicalItems",initialState:Kme,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=sa(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=sa(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=sa(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:Wme,replaceCartesianGraphicalItem:Yme,removeCartesianGraphicalItem:Jme,addPolarGraphicalItem:Kke,removePolarGraphicalItem:Wke}=M9.actions,Qme=M9.reducer;function Xme(t){var e=Nr(),n=M.useRef(null);return M.useEffect(()=>{n.current===null?e(Wme(t)):n.current!==t&&e(Yme({prev:n.current,next:t})),n.current=t},[e,t]),M.useEffect(()=>()=>{n.current&&(e(Jme(n.current)),n.current=null)},[e]),null}function Zme(){}var epe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},N4={t:0},CS={t:1};function tpe(t){var e=Xl(t,epe),{isActive:n,canBegin:r,duration:i,easing:s,begin:o,onAnimationEnd:l,onAnimationStart:u,children:d}=e,f=dq("JavascriptAnimate",e.animationManager),[m,v]=M.useState(n?N4:CS),b=M.useRef(null);return M.useEffect(()=>{n||v(CS)},[n]),M.useEffect(()=>{if(!n||!r)return Zme;var T=cq(N4,CS,lq(s),i,v,f.getTimeoutController()),S=()=>{b.current=T()};return f.start([u,o,S,i,l]),()=>{f.stop(),b.current&&b.current(),l()}},[n,r,i,s,o,u,l,f]),d(m.t)}var npe=me([Mr],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),rpe=me([npe,ba,wa],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),NR=()=>Je(rpe),ipe=()=>Je(Bfe);function M4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M4(Object(n),!0).forEach(function(r){spe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function spe(t,e,n){return(e=ope(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ope(t){var e=ape(t,"string");return typeof e=="symbol"?e:e+""}function ape(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lpe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:s}=t;if(i===!1||e.x==null||e.y==null)return null;var o=D4(D4({index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r!=null?r:"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},Xn(i,!1)),aI(i)),l;return M.isValidElement(i)?l=M.cloneElement(i,o):typeof i=="function"?l=i(o):l=M.createElement(P9,o),M.createElement(Ff,{className:"recharts-active-dot"},l)};function upe(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i}=t,s=Je(mg),o=ipe();if(e==null||o==null)return null;var l=e.find(u=>o.includes(u.payload));return qn(l)?null:lpe({point:l,childIndex:Number(s),mainColor:n,dataKey:i,activeDot:r})}var cpe={},D9=Fi({name:"errorBars",initialState:cpe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Yke,removeErrorBar:Jke}=D9.actions,dpe=D9.reducer,fpe=["children"];function hpe(t,e){if(t==null)return{};var n,r,i=mpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ppe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},gpe=M.createContext(ppe);function ype(t){var{children:e}=t,n=hpe(t,fpe);return M.createElement(gpe.Provider,{value:n},e)}function k9(t,e){var n,r,i=Je(d=>Ta(d,t)),s=Je(d=>nu(d,e)),o=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Si.allowDataOverflow,l=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:Ai.allowDataOverflow,u=o||l;return{needClip:u,needClipX:o,needClipY:l}}function vpe(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=NR(),{needClipX:s,needClipY:o,needClip:l}=k9(e,n);if(!l)return null;var{x:u,y:d,width:f,height:m}=i;return M.createElement("clipPath",{id:"clipPath-".concat(r)},M.createElement("rect",{x:s?u:u-f/2,y:o?d:d-m/2,width:s?f:f*2,height:o?m:m*2}))}var xpe=t=>{var{chartData:e}=t,n=Nr(),r=gs();return M.useEffect(()=>r?()=>{}:(n(r4(e)),()=>{n(r4(void 0))}),[e,n,r]),null},k4={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},O9=Fi({name:"brush",initialState:k4,reducers:{setBrushSettings(t,e){return e.payload==null?k4:e.payload}}}),{setBrushSettings:Qke}=O9.actions,bpe=O9.reducer;function wpe(t,e,n){return(e=_pe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _pe(t){var e=Tpe(t,"string");return typeof e=="symbol"?e:e+""}function Tpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class MR{static create(e){return new MR(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}wpe(MR,"EPS",1e-4);function Epe(t){return(t%180+180)%180}var Spe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Epe(i),o=s*Math.PI/180,l=Math.atan(r/n),u=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(u)},Ape={dots:[],areas:[],lines:[]},V9=Fi({name:"referenceElements",initialState:Ape,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=sa(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=sa(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=sa(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Xke,removeDot:Zke,addArea:eOe,removeArea:tOe,addLine:nOe,removeLine:rOe}=V9.actions,Cpe=V9.reducer,Ipe=M.createContext(void 0),Rpe=t=>{var{children:e}=t,[n]=M.useState("".concat(sg("recharts"),"-clip")),r=NR();if(r==null)return null;var{x:i,y:s,width:o,height:l}=r;return M.createElement(Ipe.Provider,{value:n},M.createElement("defs",null,M.createElement("clipPath",{id:n},M.createElement("rect",{x:i,y:s,height:l,width:o}))),e)};function IS(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function L9(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Ppe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Spe(r,n)}function Npe(t,e,n){var r=n==="width",{x:i,y:s,width:o,height:l}=t;return e===1?{start:r?i:s,end:r?i+o:s+l}:{start:r?i+o:s+l,end:r?i:s}}function Mx(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function Mpe(t,e){return L9(t,e+1)}function Dpe(t,e,n,r,i){for(var s=(r||[]).slice(),{start:o,end:l}=e,u=0,d=1,f=o,m=function(){var T=r==null?void 0:r[u];if(T===void 0)return{v:L9(r,d)};var S=u,A,C=()=>(A===void 0&&(A=n(T,S)),A),D=T.coordinate,N=u===0||Mx(t,D,C,f,l);N||(u=0,f=o,d+=1),N&&(f=D+t*(C()/2+i),u+=d)},v;d<=s.length;)if(v=m(),v)return v.v;return[]}function O4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O4(Object(n),!0).forEach(function(r){kpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kpe(t,e,n){return(e=Ope(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ope(t){var e=Vpe(t,"string");return typeof e=="symbol"?e:e+""}function Vpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lpe(t,e,n,r,i){for(var s=(r||[]).slice(),o=s.length,{start:l}=e,{end:u}=e,d=function(v){var b=s[v],T,S=()=>(T===void 0&&(T=n(b,v)),T);if(v===o-1){var A=t*(b.coordinate+t*S()/2-u);s[v]=b=Lr(Lr({},b),{},{tickCoord:A>0?b.coordinate-A*t:b.coordinate})}else s[v]=b=Lr(Lr({},b),{},{tickCoord:b.coordinate});var C=Mx(t,b.tickCoord,S,l,u);C&&(u=b.tickCoord-t*(S()/2+i),s[v]=Lr(Lr({},b),{},{isShow:!0}))},f=o-1;f>=0;f--)d(f);return s}function Upe(t,e,n,r,i,s){var o=(r||[]).slice(),l=o.length,{start:u,end:d}=e;if(s){var f=r[l-1],m=n(f,l-1),v=t*(f.coordinate+t*m/2-d);o[l-1]=f=Lr(Lr({},f),{},{tickCoord:v>0?f.coordinate-v*t:f.coordinate});var b=Mx(t,f.tickCoord,()=>m,u,d);b&&(d=f.tickCoord-t*(m/2+i),o[l-1]=Lr(Lr({},f),{},{isShow:!0}))}for(var T=s?l-1:l,S=function(D){var N=o[D],F,V=()=>(F===void 0&&(F=n(N,D)),F);if(D===0){var B=t*(N.coordinate-t*V()/2-u);o[D]=N=Lr(Lr({},N),{},{tickCoord:B<0?N.coordinate-B*t:N.coordinate})}else o[D]=N=Lr(Lr({},N),{},{tickCoord:N.coordinate});var k=Mx(t,N.tickCoord,V,u,d);k&&(u=N.tickCoord+t*(V()/2+i),o[D]=Lr(Lr({},N),{},{isShow:!0}))},A=0;A<T;A++)S(A);return o}function DR(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:o,orientation:l,interval:u,tickFormatter:d,unit:f,angle:m}=t;if(!i||!i.length||!r)return[];if(He(u)||Kg.isSsr){var v;return(v=Mpe(i,He(u)?u:0))!==null&&v!==void 0?v:[]}var b=[],T=l==="top"||l==="bottom"?"width":"height",S=f&&T==="width"?Vp(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=(N,F)=>{var V=typeof d=="function"?d(N.value,F):N.value;return T==="width"?Ppe(Vp(V,{fontSize:e,letterSpacing:n}),S,m):Vp(V,{fontSize:e,letterSpacing:n})[T]},C=i.length>=2?os(i[1].coordinate-i[0].coordinate):1,D=Npe(s,C,T);return u==="equidistantPreserveStart"?Dpe(C,D,A,i,o):(u==="preserveStart"||u==="preserveStartEnd"?b=Upe(C,D,A,i,o,u==="preserveStartEnd"):b=Lpe(C,D,A,i,o),b.filter(N=>N.isShow))}var Fpe=["viewBox"],jpe=["viewBox"];function hf(){return hf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hf.apply(null,arguments)}function V4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V4(Object(n),!0).forEach(function(r){kR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L4(t,e){if(t==null)return{};var n,r,i=Bpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function kR(t,e,n){return(e=qpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qpe(t){var e=zpe(t,"string");return typeof e=="symbol"?e:e+""}function zpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ru extends M.Component{constructor(e){super(e),this.tickRefs=M.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,n){var{viewBox:r}=e,i=L4(e,Fpe),s=this.props,{viewBox:o}=s,l=L4(s,jpe);return!IS(r,o)||!IS(i,l)||!IS(n,this.state)}getTickLineCoord(e){var{x:n,y:r,width:i,height:s,orientation:o,tickSize:l,mirror:u,tickMargin:d}=this.props,f,m,v,b,T,S,A=u?-1:1,C=e.tickSize||l,D=He(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":f=m=e.coordinate,b=r+ +!u*s,v=b-A*C,S=v-A*d,T=D;break;case"left":v=b=e.coordinate,m=n+ +!u*i,f=m-A*C,T=f-A*d,S=D;break;case"right":v=b=e.coordinate,m=n+ +u*i,f=m+A*C,T=f+A*d,S=D;break;default:f=m=e.coordinate,b=r+ +u*s,v=b+A*C,S=v+A*d,T=D;break}return{line:{x1:f,y1:v,x2:m,y2:b},tick:{x:T,y:S}}}getTickTextAnchor(){var{orientation:e,mirror:n}=this.props,r;switch(e){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:e,mirror:n}=this.props;switch(e){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:r,height:i,orientation:s,mirror:o,axisLine:l}=this.props,u=Jn(Jn(Jn({},Xn(this.props,!1)),Xn(l,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!o||s==="bottom"&&o);u=Jn(Jn({},u),{},{x1:e,y1:n+d*i,x2:e+r,y2:n+d*i})}else{var f=+(s==="left"&&!o||s==="right"&&o);u=Jn(Jn({},u),{},{x1:e+f*r,y1:n,x2:e+f*r,y2:n+i})}return M.createElement("line",hf({},u,{className:Gt("recharts-cartesian-axis-line",Ic(l,"className"))}))}static renderTickItem(e,n,r){var i,s=Gt(n.className,"recharts-cartesian-axis-tick-value");if(M.isValidElement(e))i=M.cloneElement(e,Jn(Jn({},n),{},{className:s}));else if(typeof e=="function")i=e(Jn(Jn({},n),{},{className:s}));else{var o="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(o=Gt(o,e.className)),i=M.createElement(RR,hf({},n,{className:o}),r)}return i}renderTicks(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:s,tick:o,tickFormatter:l,unit:u,padding:d}=this.props,f=DR(Jn(Jn({},this.props),{},{ticks:r}),e,n),m=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),b=xh(this.props),T=Xn(o,!1),S=Jn(Jn({},b),{},{fill:"none"},Xn(i,!1)),A=f.map((C,D)=>{var{line:N,tick:F}=this.getTickLineCoord(C),V=Jn(Jn(Jn(Jn({textAnchor:m,verticalAnchor:v},b),{},{stroke:"none",fill:s},T),F),{},{index:D,payload:C,visibleTicksCount:f.length,tickFormatter:l,padding:d});return M.createElement(Ff,hf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},zB(this.props,C,D)),i&&M.createElement("line",hf({},S,N,{className:Gt("recharts-cartesian-axis-tick-line",Ic(i,"className"))})),o&&ru.renderTickItem(o,V,"".concat(typeof l=="function"?l(C.value,D):C.value).concat(u||"")))});return A.length>0?M.createElement("g",{className:"recharts-cartesian-axis-ticks"},A):null}render(){var{axisLine:e,width:n,height:r,className:i,hide:s}=this.props;if(s)return null;var{ticks:o}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:M.createElement(Ff,{className:Gt("recharts-cartesian-axis",i),ref:l=>{if(l){var u=l.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(u);var d=u[0];if(d){var f=window.getComputedStyle(d).fontSize,m=window.getComputedStyle(d).letterSpacing;(f!==this.state.fontSize||m!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(d).fontSize,letterSpacing:window.getComputedStyle(d).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),Pi.renderCallByParent(this.props))}}kR(ru,"displayName","CartesianAxis");kR(ru,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var $pe=["x1","y1","x2","y2","key"],Gpe=["offset"],Hpe=["xAxisId","yAxisId"],Kpe=["xAxisId","yAxisId"];function U4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U4(Object(n),!0).forEach(function(r){Wpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wpe(t,e,n){return(e=Ype(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ype(t){var e=Jpe(t,"string");return typeof e=="symbol"?e:e+""}function Jpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lc(){return lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lc.apply(null,arguments)}function Dx(t,e){if(t==null)return{};var n,r,i=Qpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Xpe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:o,ry:l}=t;return M.createElement("rect",{x:r,y:i,ry:l,width:s,height:o,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function U9(t,e){var n;if(M.isValidElement(t))n=M.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:s,y2:o,key:l}=e,u=Dx(e,$pe),d=xh(u),{offset:f}=d,m=Dx(d,Gpe);n=M.createElement("line",lc({},m,{x1:r,y1:i,x2:s,y2:o,fill:"none",key:l}))}return n}function Zpe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:o}=t,l=Dx(t,Hpe),u=i.map((d,f)=>{var m=Fr(Fr({},l),{},{x1:e,y1:d,x2:e+n,y2:d,key:"line-".concat(f),index:f});return U9(r,m)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function ege(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:o}=t,l=Dx(t,Kpe),u=i.map((d,f)=>{var m=Fr(Fr({},l),{},{x1:d,y1:e,x2:d,y2:e+n,key:"line-".concat(f),index:f});return U9(r,m)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function tge(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:s,height:o,horizontalPoints:l,horizontal:u=!0}=t;if(!u||!e||!e.length)return null;var d=l.map(m=>Math.round(m+i-i)).sort((m,v)=>m-v);i!==d[0]&&d.unshift(0);var f=d.map((m,v)=>{var b=!d[v+1],T=b?i+o-m:d[v+1]-m;if(T<=0)return null;var S=v%e.length;return M.createElement("rect",{key:"react-".concat(v),y:m,x:r,height:T,width:s,stroke:"none",fill:e[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function nge(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:o,height:l,verticalPoints:u}=t;if(!e||!n||!n.length)return null;var d=u.map(m=>Math.round(m+i-i)).sort((m,v)=>m-v);i!==d[0]&&d.unshift(0);var f=d.map((m,v)=>{var b=!d[v+1],T=b?i+o-m:d[v+1]-m;if(T<=0)return null;var S=v%n.length;return M.createElement("rect",{key:"react-".concat(v),x:m,y:s,width:T,height:l,stroke:"none",fill:n[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var rge=(t,e)=>{var{xAxis:n,width:r,height:i,offset:s}=t;return Q6(DR(Fr(Fr(Fr({},ru.defaultProps),n),{},{ticks:X6(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},ige=(t,e)=>{var{yAxis:n,width:r,height:i,offset:s}=t;return Q6(DR(Fr(Fr(Fr({},ru.defaultProps),n),{},{ticks:X6(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},sge={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function F9(t){var e=II(),n=RI(),r=nq(),i=Fr(Fr({},Xl(t,sge)),{},{x:He(t.x)?t.x:r.left,y:He(t.y)?t.y:r.top,width:He(t.width)?t.width:r.width,height:He(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:o,x:l,y:u,width:d,height:f,syncWithTicks:m,horizontalValues:v,verticalValues:b}=i,T=gs(),S=Je(O=>WL(O,"xAxis",s,T)),A=Je(O=>WL(O,"yAxis",o,T));if(!He(d)||d<=0||!He(f)||f<=0||!He(l)||l!==+l||!He(u)||u!==+u)return null;var C=i.verticalCoordinatesGenerator||rge,D=i.horizontalCoordinatesGenerator||ige,{horizontalPoints:N,verticalPoints:F}=i;if((!N||!N.length)&&typeof D=="function"){var V=v&&v.length,B=D({yAxis:A?Fr(Fr({},A),{},{ticks:V?v:A.ticks}):void 0,width:e,height:n,offset:r},V?!0:m);Op(Array.isArray(B),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof B,"]")),Array.isArray(B)&&(N=B)}if((!F||!F.length)&&typeof C=="function"){var k=b&&b.length,R=C({xAxis:S?Fr(Fr({},S),{},{ticks:k?b:S.ticks}):void 0,width:e,height:n,offset:r},k?!0:m);Op(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof R,"]")),Array.isArray(R)&&(F=R)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(Xpe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),M.createElement(tge,lc({},i,{horizontalPoints:N})),M.createElement(nge,lc({},i,{verticalPoints:F})),M.createElement(Zpe,lc({},i,{offset:r,horizontalPoints:N,xAxis:S,yAxis:A})),M.createElement(ege,lc({},i,{offset:r,verticalPoints:F,xAxis:S,yAxis:A})))}F9.displayName="CartesianGrid";var j9=(t,e,n,r)=>Qz(t,"xAxis",e,r),B9=(t,e,n,r)=>Jz(t,"xAxis",e,r),q9=(t,e,n,r)=>Qz(t,"yAxis",n,r),z9=(t,e,n,r)=>Jz(t,"yAxis",n,r),oge=me([rn,j9,q9,B9,z9],(t,e,n,r,i)=>Ql(t,"xAxis")?VA(e,r,!1):VA(n,i,!1)),age=(t,e,n,r,i)=>i;function lge(t){return t.type==="line"}var uge=me([xz,age],(t,e)=>t.filter(lge).find(n=>n.id===e)),cge=me([rn,j9,q9,B9,z9,uge,oge,nR],(t,e,n,r,i,s,o,l)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:f}=l;if(!(s==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null)){var{dataKey:m,data:v}=s,b;if(v!=null&&v.length>0?b=v:b=u==null?void 0:u.slice(d,f+1),b!=null)return Nge({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:m,bandSize:o,displayedData:b})}}),dge=["id"],fge=["type","layout","connectNulls","needClip"],hge=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function F4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ss(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F4(Object(n),!0).forEach(function(r){mge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mge(t,e,n){return(e=pge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pge(t){var e=gge(t,"string");return typeof e=="symbol"?e:e+""}function gge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OR(t,e){if(t==null)return{};var n,r,i=yge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Mc(){return Mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mc.apply(null,arguments)}var vge=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:Z6(n,e),payload:t}]};function xge(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:o,hide:l,unit:u}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:Z6(o,e),hide:l,type:t.tooltipType,color:t.stroke,unit:u}}}var $9=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function bge(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var wge=(t,e,n)=>{var r=n.reduce((m,v)=>m+v);if(!r)return $9(e,t);for(var i=Math.floor(t/r),s=t%r,o=e-t,l=[],u=0,d=0;u<n.length;d+=n[u],++u)if(d+n[u]>s){l=[...n.slice(0,u),s-d];break}var f=l.length%2===0?[0,o]:[o];return[...bge(n,i),...l,...f].map(m=>"".concat(m,"px")).join(", ")};function _ge(t,e){var n;if(M.isValidElement(t))n=M.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=Gt("recharts-line-dot",typeof t!="boolean"?t.className:"");n=M.createElement(P9,Mc({},e,{className:r}))}return n}function Tge(t,e){return t==null?!1:e?!0:t.length===1}function Ege(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:s,needClip:o}=r;if(!Tge(n,i))return null;var{id:l}=r,u=OR(r,dge),d=KB(i),f=xh(u),m=Xn(i,!0),v=n.map((T,S)=>{var A=Ss(Ss(Ss({key:"dot-".concat(S),r:3},f),m),{},{index:S,cx:T.x,cy:T.y,dataKey:s,value:T.value,payload:T.payload,points:n});return _ge(i,A)}),b={clipPath:o?"url(#clipPath-".concat(d?"":"dots-").concat(e,")"):void 0};return M.createElement(Ff,Mc({className:"recharts-line-dots",key:"dots"},b),v)}function l1(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:s,showLabels:o}=t,{type:l,layout:u,connectNulls:d,needClip:f}=s,m=OR(s,fge),v=Ss(Ss({},Xn(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(e,")"):void 0,points:r,type:l,layout:u,connectNulls:d,strokeDasharray:i!=null?i:s.strokeDasharray});return M.createElement(M.Fragment,null,(r==null?void 0:r.length)>1&&M.createElement(sq,Mc({},v,{pathRef:n})),M.createElement(Ege,{points:r,clipPathId:e,props:s}),o&&bc.renderCallByParent(s,r))}function Sge(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch(e){return 0}}function Age(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:o,strokeDasharray:l,isAnimationActive:u,animationBegin:d,animationDuration:f,animationEasing:m,animateNewValues:v,width:b,height:T,onAnimationEnd:S,onAnimationStart:A}=n,C=i.current,D=Bme(n,"recharts-line-"),[N,F]=M.useState(!1),V=M.useCallback(()=>{typeof S=="function"&&S(),F(!1)},[S]),B=M.useCallback(()=>{typeof A=="function"&&A(),F(!0)},[A]),k=Sge(r.current),R=s.current;return M.createElement(tpe,{begin:d,duration:f,isActive:u,easing:m,onAnimationEnd:V,onAnimationStart:B,key:D},O=>{var j=ep(R,k+R,O),q=Math.min(j,k),H;if(l){var G="".concat(l).split(/[,\s]+/gim).map(Q=>parseFloat(Q));H=wge(q,k,G)}else H=$9(k,q);if(C){var he=C.length/o.length,we=O===1?o:o.map((Q,ae)=>{var Z=Math.floor(ae*he);if(C[Z]){var Ee=C[Z];return Ss(Ss({},Q),{},{x:ep(Ee.x,Q.x,O),y:ep(Ee.y,Q.y,O)})}return v?Ss(Ss({},Q),{},{x:ep(b*2,Q.x,O),y:ep(T/2,Q.y,O)}):Ss(Ss({},Q),{},{x:Q.x,y:Q.y})});return i.current=we,M.createElement(l1,{props:n,points:we,clipPathId:e,pathRef:r,showLabels:!N,strokeDasharray:H})}return O>0&&k>0&&(i.current=o,s.current=q),M.createElement(l1,{props:n,points:o,clipPathId:e,pathRef:r,showLabels:!N,strokeDasharray:H})})}function Cge(t){var{clipPathId:e,props:n}=t,{points:r,isAnimationActive:i}=n,s=M.useRef(null),o=M.useRef(0),l=M.useRef(null),u=s.current;return i&&r&&r.length&&u!==r?M.createElement(Age,{props:n,clipPathId:e,previousPointsRef:s,longestAnimatedLengthRef:o,pathRef:l}):M.createElement(l1,{props:n,points:r,clipPathId:e,pathRef:l,showLabels:!0})}var Ige=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:ei(t.payload,e)});class Rge extends M.Component{render(){var e,{hide:n,dot:r,points:i,className:s,xAxisId:o,yAxisId:l,top:u,left:d,width:f,height:m,id:v,needClip:b}=this.props;if(n)return null;var T=Gt("recharts-line",s),S=v,{r:A=3,strokeWidth:C=2}=(e=Xn(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},D=KB(r),N=A*2+C;return M.createElement(M.Fragment,null,M.createElement(Ff,{className:T},b&&M.createElement("defs",null,M.createElement(vpe,{clipPathId:S,xAxisId:o,yAxisId:l}),!D&&M.createElement("clipPath",{id:"clipPath-dots-".concat(S)},M.createElement("rect",{x:d-N/2,y:u-N/2,width:f+N,height:m+N}))),M.createElement(Cge,{props:this.props,clipPathId:S}),M.createElement(ype,{xAxisId:o,yAxisId:l,data:i,dataPointFormatter:Ige,errorBarOffset:0},this.props.children)),M.createElement(upe,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var G9={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Kg.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Pge(t){var e=Xl(t,G9),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:o,connectNulls:l,dot:u,hide:d,isAnimationActive:f,label:m,legendType:v,xAxisId:b,yAxisId:T,id:S}=e,A=OR(e,hge),{needClip:C}=k9(b,T),D=NR(),N=PI(),F=gs(),V=Je(j=>cge(j,b,T,F,S));if(N!=="horizontal"&&N!=="vertical"||V==null||D==null)return null;var{height:B,width:k,x:R,y:O}=D;return M.createElement(Rge,Mc({},A,{id:S,connectNulls:l,dot:u,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:o,isAnimationActive:f,hide:d,label:m,legendType:v,xAxisId:b,yAxisId:T,points:V,layout:N,height:B,width:k,left:R,top:O,needClip:C}))}function Nge(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:o,bandSize:l,displayedData:u}=t;return u.map((d,f)=>{var m=ei(d,o);if(e==="horizontal"){var v=CV({axis:n,ticks:i,bandSize:l,entry:d,index:f}),b=qn(m)?null:r.scale(m);return{x:v,y:b,value:m,payload:d}}var T=qn(m)?null:n.scale(m),S=CV({axis:r,ticks:s,bandSize:l,entry:d,index:f});return T==null||S==null?null:{x:T,y:S,value:m,payload:d}}).filter(Boolean)}function H9(t){var e=Xl(t,G9),n=gs();return M.createElement(Hme,{id:e.id,type:"line"},r=>M.createElement(M.Fragment,null,M.createElement(jme,{legendPayload:vge(e)}),M.createElement(Ume,{fn:xge,args:e}),M.createElement(Xme,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),M.createElement(Pge,Mc({},e,{id:r}))))}H9.displayName="Line";function j4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j4(Object(n),!0).forEach(function(r){Mge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mge(t,e,n){return(e=Dge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dge(t){var e=kge(t,"string");return typeof e=="symbol"?e:e+""}function kge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oge={xAxis:{},yAxis:{},zAxis:{}},K9=Fi({name:"cartesianAxis",initialState:Oge,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=B4(B4({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:Vge,removeXAxis:Lge,addYAxis:Uge,removeYAxis:Fge,addZAxis:iOe,removeZAxis:sOe,updateYAxisWidth:jge}=K9.actions,Bge=K9.reducer,qge=["children"],zge=["dangerouslySetInnerHTML","ticks"];function W9(t,e,n){return(e=$ge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ge(t){var e=Gge(t,"string");return typeof e=="symbol"?e:e+""}function Gge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function u1(){return u1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u1.apply(null,arguments)}function Y9(t,e){if(t==null)return{};var n,r,i=Hge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Hge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Kge(t){var e=Nr(),n=M.useMemo(()=>{var{children:s}=t,o=Y9(t,qge);return o},[t]),r=Je(s=>Ta(s,n.id)),i=n===r;return M.useEffect(()=>(e(Vge(n)),()=>{e(Lge(n))}),[n,e]),i?t.children:null}var Wge=t=>{var{xAxisId:e,className:n}=t,r=Je(tq),i=gs(),s="xAxis",o=Je(b=>Sh(b,s,e,i)),l=Je(b=>Yz(b,s,e,i)),u=Je(b=>Vde(b,e)),d=Je(b=>Bde(b,e));if(u==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:m}=t,v=Y9(t,zge);return M.createElement(ru,u1({},v,{scale:o,x:d.x,y:d.y,width:u.width,height:u.height,className:Gt("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:l}))},Yge=t=>{var e,n,r,i,s;return M.createElement(Kge,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(s=t.tick)!==null&&s!==void 0?s:!0,tickFormatter:t.tickFormatter},M.createElement(Wge,t))};class VR extends M.Component{render(){return M.createElement(Yge,this.props)}}W9(VR,"displayName","XAxis");W9(VR,"defaultProps",{allowDataOverflow:Si.allowDataOverflow,allowDecimals:Si.allowDecimals,allowDuplicatedCategory:Si.allowDuplicatedCategory,height:Si.height,hide:!1,mirror:Si.mirror,orientation:Si.orientation,padding:Si.padding,reversed:Si.reversed,scale:Si.scale,tickCount:Si.tickCount,type:Si.type,xAxisId:0});var Jge=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,o=0;if(e){e.forEach(f=>{if(f){var m=f.getBoundingClientRect();m.width>o&&(o=m.width)}});var l=n?n.getBoundingClientRect().width:0,u=i+s,d=o+u+l+(n?r:0);return Math.round(d)}return 0},Qge=["dangerouslySetInnerHTML","ticks"];function J9(t,e,n){return(e=Xge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xge(t){var e=Zge(t,"string");return typeof e=="symbol"?e:e+""}function Zge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c1(){return c1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c1.apply(null,arguments)}function eye(t,e){if(t==null)return{};var n,r,i=tye(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function nye(t){var e=Nr();return M.useEffect(()=>(e(Uge(t)),()=>{e(Fge(t))}),[t,e]),null}var rye=t=>{var e,{yAxisId:n,className:r,width:i,label:s}=t,o=M.useRef(null),l=M.useRef(null),u=Je(tq),d=gs(),f=Nr(),m="yAxis",v=Je(N=>Sh(N,m,n,d)),b=Je(N=>zde(N,n)),T=Je(N=>qde(N,n)),S=Je(N=>Yz(N,m,n,d));if(M.useLayoutEffect(()=>{var N;if(!(i!=="auto"||!b||PR(s)||M.isValidElement(s))){var F=o.current,V=F==null||(N=F.tickRefs)===null||N===void 0?void 0:N.current,{tickSize:B,tickMargin:k}=F.props,R=Jge({ticks:V,label:l.current,labelGapWithTick:5,tickSize:B,tickMargin:k});Math.round(b.width)!==Math.round(R)&&f(jge({id:n,width:R}))}},[o,o==null||(e=o.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,b==null?void 0:b.width,b,f,s,n,i]),b==null||T==null)return null;var{dangerouslySetInnerHTML:A,ticks:C}=t,D=eye(t,Qge);return M.createElement(ru,c1({},D,{ref:o,labelRef:l,scale:v,x:T.x,y:T.y,width:b.width,height:b.height,className:Gt("recharts-".concat(m," ").concat(m),r),viewBox:u,ticks:S}))},iye=t=>{var e,n,r,i,s;return M.createElement(M.Fragment,null,M.createElement(nye,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(r=t.angle)!==null&&r!==void 0?r:0,minTickGap:(i=t.minTickGap)!==null&&i!==void 0?i:5,tick:(s=t.tick)!==null&&s!==void 0?s:!0,tickFormatter:t.tickFormatter}),M.createElement(rye,t))},sye={allowDataOverflow:Ai.allowDataOverflow,allowDecimals:Ai.allowDecimals,allowDuplicatedCategory:Ai.allowDuplicatedCategory,hide:!1,mirror:Ai.mirror,orientation:Ai.orientation,padding:Ai.padding,reversed:Ai.reversed,scale:Ai.scale,tickCount:Ai.tickCount,type:Ai.type,width:Ai.width,yAxisId:0};class LR extends M.Component{render(){return M.createElement(iye,this.props)}}J9(LR,"displayName","YAxis");J9(LR,"defaultProps",sye);var RS={exports:{}},PS={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q4;function oye(){if(q4)return PS;q4=1;var t=hh();function e(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,o=t.useMemo,l=t.useDebugValue;return PS.useSyncExternalStoreWithSelector=function(u,d,f,m,v){var b=i(null);if(b.current===null){var T={hasValue:!1,value:null};b.current=T}else T=b.current;b=o(function(){function A(V){if(!C){if(C=!0,D=V,V=m(V),v!==void 0&&T.hasValue){var B=T.value;if(v(B,V))return N=B}return N=V}if(B=N,n(D,V))return B;var k=m(V);return v!==void 0&&v(B,k)?(D=V,B):(D=V,N=k)}var C=!1,D,N,F=f===void 0?null:f;return[function(){return A(d())},F===null?void 0:function(){return A(F())}]},[d,f,m,v]);var S=r(u,b[0],b[1]);return s(function(){T.hasValue=!0,T.value=S},[S]),l(S),S},PS}var z4;function aye(){return z4||(z4=1,RS.exports=oye()),RS.exports}aye();function lye(t){t()}function uye(){let t=null,e=null;return{clear(){t=null,e=null},notify(){lye(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var $4={notify(){},get:()=>[]};function cye(t,e){let n,r=$4,i=0,s=!1;function o(S){f();const A=r.subscribe(S);let C=!1;return()=>{C||(C=!0,A(),m())}}function l(){r.notify()}function u(){T.onStateChange&&T.onStateChange()}function d(){return s}function f(){i++,n||(n=t.subscribe(u),r=uye())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=$4)}function v(){s||(s=!0,f())}function b(){s&&(s=!1,m())}const T={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:d,trySubscribe:v,tryUnsubscribe:b,getListeners:()=>r};return T}var dye=()=>typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",fye=dye(),hye=()=>typeof navigator!="undefined"&&navigator.product==="ReactNative",mye=hye(),pye=()=>fye||mye?M.useLayoutEffect:M.useEffect,gye=pye(),NS=Symbol.for("react-redux-context"),MS=typeof globalThis!="undefined"?globalThis:{};function yye(){var n;if(!M.createContext)return{};const t=(n=MS[NS])!=null?n:MS[NS]=new Map;let e=t.get(M.createContext);return e||(e=M.createContext(null),t.set(M.createContext,e)),e}var vye=yye();function xye(t){const{children:e,context:n,serverState:r,store:i}=t,s=M.useMemo(()=>{const u=cye(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),o=M.useMemo(()=>i.getState(),[i]);gye(()=>{const{subscription:u}=s;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[s,o]);const l=n||vye;return M.createElement(l.Provider,{value:s},e)}var bye=xye,wye=(t,e)=>e,UR=me([wye,rn,mz,tr,d9,Ea,Wfe,Mr],Zfe),FR=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},Q9=ms("mouseClick"),X9=Hg();X9.startListening({actionCreator:Q9,effect:(t,e)=>{var n=t.payload,r=UR(e.getState(),FR(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(tfe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var d1=ms("mouseMove"),Z9=Hg();Z9.startListening({actionCreator:d1,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=bR(r,r.tooltip.settings.shared),s=UR(r,FR(n));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?e.dispatch(i9({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(r9()))}});function _ye(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var G4={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},e$=Fi({name:"rootProps",initialState:G4,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:G4.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),Tye=e$.reducer,{updateOptions:Eye}=e$.actions,t$=Fi({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:oOe}=t$.actions,Sye=t$.reducer,n$=ms("keyDown"),r$=ms("focus"),jR=Hg();jR.startListening({actionCreator:n$,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var o=Number(wR(i,Ch(n))),l=Ea(n);if(s==="Enter"){var u=Px(n,"axis","hover",String(i.index));e.dispatch(r1({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:u}));return}var d=Kde(n),f=d==="left-to-right"?1:-1,m=s==="ArrowRight"?1:-1,v=o+m*f;if(!(l==null||v>=l.length||v<0)){var b=Px(n,"axis","hover",String(v));e.dispatch(r1({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:b}))}}}}});jR.startListening({actionCreator:r$,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",o=Px(n,"axis","hover",String(s));e.dispatch(r1({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:o}))}}}});var rs=ms("externalEvent"),i$=Hg();i$.startListening({actionCreator:rs,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:Ufe(n),activeDataKey:Vfe(n),activeIndex:mg(n),activeLabel:m9(n),activeTooltipIndex:mg(n),isTooltipActive:Ffe(n)};t.payload.handler(r,t.payload.reactEvent)}}});var Aye=me([Ah],t=>t.tooltipItemPayloads),Cye=me([Aye,ny,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(l=>l.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var o=e(s,n);return o}}}),s$=ms("touchMove"),o$=Hg();o$.startListening({actionCreator:s$,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=bR(r,r.tooltip.settings.shared);if(i==="axis"){var s=UR(r,FR({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(i9({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0],u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(moe),f=(o=u.getAttribute(poe))!==null&&o!==void 0?o:void 0,m=Cye(e.getState(),d,f);e.dispatch(efe({activeDataKey:f,activeIndex:d,activeCoordinate:m}))}}});var Iye=C6({brush:bpe,cartesianAxis:Bge,chartData:ghe,errorBars:dpe,graphicalItems:Qme,layout:jse,legend:Roe,options:dhe,polarAxis:Lme,polarOptions:Sye,referenceElements:Cpe,rootProps:Tye,tooltip:nfe}),Rye=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return dse({reducer:Iye,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([X9.middleware,Z9.middleware,jR.middleware,i$.middleware,o$.middleware]),devTools:{serialize:{replacer:_ye},name:"recharts-".concat(n)}})};function Pye(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=gs(),s=M.useRef(null);if(i)return n;s.current==null&&(s.current=Rye(e,r));var o=xI;return M.createElement(bye,{context:o,store:s.current},n)}function Nye(t){var{layout:e,width:n,height:r,margin:i}=t,s=Nr(),o=gs();return M.useEffect(()=>{o||(s(Lse(e)),s(Use({width:n,height:r})),s(Vse(i)))},[s,o,e,n,r,i]),null}function Mye(t){var e=Nr();return M.useEffect(()=>{e(Eye(t))},[e,t]),null}var Dye=["children"];function kye(t,e){if(t==null)return{};var n,r,i=Oye(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Oye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function kx(){return kx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kx.apply(null,arguments)}var Vye={width:"100%",height:"100%"},Lye=M.forwardRef((t,e)=>{var n=II(),r=RI(),i=iq();if(!px(n)||!px(r))return null;var{children:s,otherAttributes:o,title:l,desc:u}=t,d,f;return typeof o.tabIndex=="number"?d=o.tabIndex:d=i?0:void 0,typeof o.role=="string"?f=o.role:f=i?"application":void 0,M.createElement(lI,kx({},o,{title:l,desc:u,role:f,tabIndex:d,width:n,height:r,style:Vye,ref:e}),s)}),Uye=t=>{var{children:e}=t,n=Je(Nb);if(!n)return null;var{width:r,height:i,y:s,x:o}=n;return M.createElement(lI,{width:r,height:i,x:o,y:s},e)},H4=M.forwardRef((t,e)=>{var{children:n}=t,r=kye(t,Dye),i=gs();return i?M.createElement(Uye,null,n):M.createElement(Lye,kx({ref:e},r),n)});function Fye(){var t=Nr(),[e,n]=M.useState(null),r=Je(hoe);return M.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;ks(s)&&s!==r&&t(Fse(s))}},[e,t,r]),n}function K4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jye(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K4(Object(n),!0).forEach(function(r){Bye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bye(t,e,n){return(e=qye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qye(t){var e=zye(t,"string");return typeof e=="symbol"?e:e+""}function zye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $ye=M.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:o,onDoubleClick:l,onMouseDown:u,onMouseEnter:d,onMouseLeave:f,onMouseMove:m,onMouseUp:v,onTouchEnd:b,onTouchMove:T,onTouchStart:S,style:A,width:C}=t,D=Nr(),[N,F]=M.useState(null),[V,B]=M.useState(null);xhe();var k=Fye(),R=M.useCallback(ce=>{k(ce),typeof e=="function"&&e(ce),F(ce),B(ce)},[k,e,F,B]),O=M.useCallback(ce=>{D(Q9(ce)),D(rs({handler:s,reactEvent:ce}))},[D,s]),j=M.useCallback(ce=>{D(d1(ce)),D(rs({handler:d,reactEvent:ce}))},[D,d]),q=M.useCallback(ce=>{D(r9()),D(rs({handler:f,reactEvent:ce}))},[D,f]),H=M.useCallback(ce=>{D(d1(ce)),D(rs({handler:m,reactEvent:ce}))},[D,m]),G=M.useCallback(()=>{D(r$())},[D]),he=M.useCallback(ce=>{D(n$(ce.key))},[D]),we=M.useCallback(ce=>{D(rs({handler:o,reactEvent:ce}))},[D,o]),Q=M.useCallback(ce=>{D(rs({handler:l,reactEvent:ce}))},[D,l]),ae=M.useCallback(ce=>{D(rs({handler:u,reactEvent:ce}))},[D,u]),Z=M.useCallback(ce=>{D(rs({handler:v,reactEvent:ce}))},[D,v]),Ee=M.useCallback(ce=>{D(rs({handler:S,reactEvent:ce}))},[D,S]),K=M.useCallback(ce=>{D(s$(ce)),D(rs({handler:T,reactEvent:ce}))},[D,T]),ue=M.useCallback(ce=>{D(rs({handler:b,reactEvent:ce}))},[D,b]);return M.createElement(b9.Provider,{value:N},M.createElement(YB.Provider,{value:V},M.createElement("div",{className:Gt("recharts-wrapper",r),style:jye({position:"relative",cursor:"default",width:C,height:i},A),onClick:O,onContextMenu:we,onDoubleClick:Q,onFocus:G,onKeyDown:he,onMouseDown:ae,onMouseEnter:j,onMouseLeave:q,onMouseMove:H,onMouseUp:Z,onTouchEnd:ue,onTouchMove:K,onTouchStart:Ee,ref:R},n)))}),Gye=["children","className","width","height","style","compact","title","desc"];function Hye(t,e){if(t==null)return{};var n,r,i=Kye(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Wye=M.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:s,style:o,compact:l,title:u,desc:d}=t,f=Hye(t,Gye),m=xh(f);return l?M.createElement(H4,{otherAttributes:m,title:u,desc:d},n):M.createElement($ye,{className:r,style:o,width:i,height:s,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},M.createElement(H4,{otherAttributes:m,title:u,desc:d,ref:e},M.createElement(Rpe,null,n)))}),Yye=["width","height"];function f1(){return f1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f1.apply(null,arguments)}function Jye(t,e){if(t==null)return{};var n,r,i=Qye(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Xye={top:5,right:5,bottom:5,left:5},Zye={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Xye,reverseStackOrder:!1,syncMethod:"index"},eve=M.forwardRef(function(e,n){var r,i=Xl(e.categoricalChartProps,Zye),{width:s,height:o}=i,l=Jye(i,Yye);if(!px(s)||!px(o))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:m,categoricalChartProps:v}=e,b={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:m,eventEmitter:void 0};return M.createElement(Pye,{preloadedState:{options:b},reduxStoreName:(r=v.id)!==null&&r!==void 0?r:u},M.createElement(xpe,{chartData:v.data}),M.createElement(Nye,{width:s,height:o,layout:i.layout,margin:i.margin}),M.createElement(Mye,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),M.createElement(Wye,f1({},l,{width:s,height:o,ref:n})))}),tve=["axis"],nve=M.forwardRef((t,e)=>M.createElement(eve,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:tve,tooltipPayloadSearcher:uhe,categoricalChartProps:t,ref:e}));const Bu=({title:t,value:e,icon:n,subtext:r})=>x.jsxs("div",{className:"bg-neutral-900 border border-neutral-800 p-6 rounded-2xl flex items-start justify-between",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-neutral-400 text-sm font-medium uppercase",children:t}),x.jsx("p",{className:"text-3xl font-bold text-white mt-2",children:e}),x.jsx("p",{className:"text-neutral-500 text-sm mt-1",children:r})]}),x.jsx("div",{className:"bg-purple-900/50 p-3 rounded-lg text-purple-400",children:n})]}),a$=({data:t,founderEngagement:e,totalIdeas:n,totalNegotiations:r,totalDealsAccepted:i})=>x.jsxs("div",{className:"space-y-8 mt-9",children:[x.jsx("h1",{className:"text-3xl font-bold text-white",children:"Platform Analytics"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[x.jsx(Bu,{title:"Daily Active Users",value:t.userEngagement.dailyActiveUsers,icon:x.jsx(uo,{className:"w-6 h-6"}),subtext:"Last 24 hours"}),x.jsx(Bu,{title:"Match Success Rate",value:`${t.matchSuccess.successRate}%`,icon:x.jsx(uf,{className:"w-6 h-6"}),subtext:"Total successful connections"}),x.jsx(Bu,{title:"Total Ideas Posted",value:typeof n=="number"?n:0,icon:x.jsx(Ar,{className:"w-6 h-6"}),subtext:"All time"}),x.jsx(Bu,{title:"Total Negotiations Started",value:typeof r=="number"?r:0,icon:x.jsx(MB,{className:"w-6 h-6"}),subtext:"All time"}),x.jsx(Bu,{title:"Total Deals Accepted",value:typeof i=="number"?i:0,icon:x.jsx(uf,{className:"w-6 h-6"}),subtext:"All time"}),e&&x.jsxs(x.Fragment,{children:[x.jsx(Bu,{title:"Total Likes on Your Ideas",value:e.totalLikes,icon:x.jsx(cf,{className:"w-6 h-6"}),subtext:"All your ideas"}),x.jsx(Bu,{title:"Total Comments on Your Ideas",value:e.totalComments,icon:x.jsx(df,{className:"w-6 h-6"}),subtext:"All your ideas"})]})]}),x.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:x.jsxs("div",{className:"bg-neutral-900 border border-neutral-800 p-6 rounded-2xl",children:[x.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Daily Active Users (Last 7 Days)"}),x.jsx(Lhe,{width:"100%",height:300,children:x.jsxs(nve,{data:t.platformPerformance.dau_data,margin:{top:5,right:20,left:-10,bottom:5},children:[x.jsx(F9,{strokeDasharray:"3 3",stroke:"#374151"}),x.jsx(VR,{dataKey:"name",stroke:"#9ca3af",fontSize:12}),x.jsx(LR,{stroke:"#9ca3af",fontSize:12}),x.jsx(Che,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem"},labelStyle:{color:"#f3f4f6"}}),x.jsx(Mb,{}),x.jsx(H9,{type:"monotone",dataKey:"users",stroke:"#8b5cf6",strokeWidth:2,activeDot:{r:8}})]})})]})})]}),BR=M.createContext({});function qR(t){const e=M.useRef(null);return e.current===null&&(e.current=t()),e.current}const zR=typeof window!="undefined",l$=zR?M.useLayoutEffect:M.useEffect,Yb=M.createContext(null);function $R(t,e){t.indexOf(e)===-1&&t.push(e)}function GR(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ha=(t,e,n)=>n>e?e:n<t?t:n;let HR=()=>{};const ma={},u$=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function c$(t){return typeof t=="object"&&t!==null}const d$=t=>/^0[^.\s]+$/u.test(t);function KR(t){let e;return()=>(e===void 0&&(e=t()),e)}const us=t=>t,rve=(t,e)=>n=>e(t(n)),iy=(...t)=>t.reduce(rve),gg=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class WR{constructor(){this.subscriptions=[]}add(e){return $R(this.subscriptions,e),()=>GR(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fo=t=>t*1e3,ho=t=>t/1e3;function f$(t,e){return e?t*(1e3/e):0}const h$=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,ive=1e-7,sve=12;function ove(t,e,n,r,i){let s,o,l=0;do o=e+(n-e)/2,s=h$(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>ive&&++l<sve);return o}function sy(t,e,n,r){if(t===e&&n===r)return us;const i=s=>ove(s,0,1,t,n);return s=>s===0||s===1?s:h$(i(s),e,r)}const m$=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,p$=t=>e=>1-t(1-e),g$=sy(.33,1.53,.69,.99),YR=p$(g$),y$=m$(YR),v$=t=>(t*=2)<1?.5*YR(t):.5*(2-Math.pow(2,-10*(t-1))),JR=t=>1-Math.sin(Math.acos(t)),x$=p$(JR),b$=m$(JR),ave=sy(.42,0,1,1),lve=sy(0,0,.58,1),w$=sy(.42,0,.58,1),uve=t=>Array.isArray(t)&&typeof t[0]!="number",_$=t=>Array.isArray(t)&&typeof t[0]=="number",cve={linear:us,easeIn:ave,easeInOut:w$,easeOut:lve,circIn:JR,circInOut:b$,circOut:x$,backIn:YR,backInOut:y$,backOut:g$,anticipate:v$},dve=t=>typeof t=="string",W4=t=>{if(_$(t)){HR(t.length===4);const[e,n,r,i]=t;return sy(e,n,r,i)}else if(dve(t))return cve[t];return t},o0=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function fve(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(f){o.has(f)&&(d.schedule(f),t()),f(l)}const d={schedule:(f,m=!1,v=!1)=>{const T=v&&i?n:r;return m&&o.add(f),T.has(f)||T.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(l=f,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),n.clear(),i=!1,s&&(s=!1,d.process(f))}};return d}const hve=40;function T$(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=o0.reduce((N,F)=>(N[F]=fve(s),N),{}),{setup:l,read:u,resolveKeyframes:d,preUpdate:f,update:m,preRender:v,render:b,postRender:T}=o,S=()=>{const N=ma.useManualTiming?i.timestamp:performance.now();n=!1,ma.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(N-i.timestamp,hve),1)),i.timestamp=N,i.isProcessing=!0,l.process(i),u.process(i),d.process(i),f.process(i),m.process(i),v.process(i),b.process(i),T.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(S))},A=()=>{n=!0,r=!0,i.isProcessing||t(S)};return{schedule:o0.reduce((N,F)=>{const V=o[F];return N[F]=(B,k=!1,R=!1)=>(n||A(),V.schedule(B,k,R)),N},{}),cancel:N=>{for(let F=0;F<o0.length;F++)o[o0[F]].cancel(N)},state:i,steps:o}}const{schedule:fn,cancel:Ul,state:Tr,steps:DS}=T$(typeof requestAnimationFrame!="undefined"?requestAnimationFrame:us,!0);let C0;function mve(){C0=void 0}const ci={now:()=>(C0===void 0&&ci.set(Tr.isProcessing||ma.useManualTiming?Tr.timestamp:performance.now()),C0),set:t=>{C0=t,queueMicrotask(mve)}},E$=t=>e=>typeof e=="string"&&e.startsWith(t),QR=E$("--"),pve=E$("var(--"),XR=t=>pve(t)?gve.test(t.split("/*")[0].trim()):!1,gve=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ih={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},yg=xe(Y({},Ih),{transform:t=>ha(0,1,t)}),a0=xe(Y({},Ih),{default:1}),Lp=t=>Math.round(t*1e5)/1e5,ZR=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function yve(t){return t==null}const vve=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,eP=(t,e)=>n=>!!(typeof n=="string"&&vve.test(n)&&n.startsWith(t)||e&&!yve(n)&&Object.prototype.hasOwnProperty.call(n,e)),S$=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,l]=r.match(ZR);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},xve=t=>ha(0,255,t),kS=xe(Y({},Ih),{transform:t=>Math.round(xve(t))}),uc={test:eP("rgb","red"),parse:S$("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+kS.transform(t)+", "+kS.transform(e)+", "+kS.transform(n)+", "+Lp(yg.transform(r))+")"};function bve(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const h1={test:eP("#"),parse:bve,transform:uc.transform},oy=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),vl=oy("deg"),mo=oy("%"),rt=oy("px"),wve=oy("vh"),_ve=oy("vw"),Y4=xe(Y({},mo),{parse:t=>mo.parse(t)/100,transform:t=>mo.transform(t*100)}),mf={test:eP("hsl","hue"),parse:S$("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+mo.transform(Lp(e))+", "+mo.transform(Lp(n))+", "+Lp(yg.transform(r))+")"},Fn={test:t=>uc.test(t)||h1.test(t)||mf.test(t),parse:t=>uc.test(t)?uc.parse(t):mf.test(t)?mf.parse(t):h1.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?uc.transform(t):mf.transform(t),getAnimatableNone:t=>{const e=Fn.parse(t);return e.alpha=0,Fn.transform(e)}},Tve=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Eve(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(ZR))==null?void 0:e.length)||0)+(((n=t.match(Tve))==null?void 0:n.length)||0)>0}const A$="number",C$="color",Sve="var",Ave="var(",J4="${}",Cve=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function vg(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const l=e.replace(Cve,u=>(Fn.test(u)?(r.color.push(s),i.push(C$),n.push(Fn.parse(u))):u.startsWith(Ave)?(r.var.push(s),i.push(Sve),n.push(u)):(r.number.push(s),i.push(A$),n.push(parseFloat(u))),++s,J4)).split(J4);return{values:n,split:l,indexes:r,types:i}}function I$(t){return vg(t).values}function R$(t){const{split:e,types:n}=vg(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const l=n[o];l===A$?s+=Lp(i[o]):l===C$?s+=Fn.transform(i[o]):s+=i[o]}return s}}const Ive=t=>typeof t=="number"?0:Fn.test(t)?Fn.getAnimatableNone(t):t;function Rve(t){const e=I$(t);return R$(t)(e.map(Ive))}const Fl={test:Eve,parse:I$,createTransformer:R$,getAnimatableNone:Rve};function OS(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Pve({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const l=n<.5?n*(1+e):n+e-n*e,u=2*n-l;i=OS(u,l,t+1/3),s=OS(u,l,t),o=OS(u,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function Ox(t,e){return n=>n>0?e:t}const yn=(t,e,n)=>t+(e-t)*n,VS=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Nve=[h1,uc,mf],Mve=t=>Nve.find(e=>e.test(t));function Q4(t){const e=Mve(t);if(!e)return!1;let n=e.parse(t);return e===mf&&(n=Pve(n)),n}const X4=(t,e)=>{const n=Q4(t),r=Q4(e);if(!n||!r)return Ox(t,e);const i=Y({},n);return s=>(i.red=VS(n.red,r.red,s),i.green=VS(n.green,r.green,s),i.blue=VS(n.blue,r.blue,s),i.alpha=yn(n.alpha,r.alpha,s),uc.transform(i))},m1=new Set(["none","hidden"]);function Dve(t,e){return m1.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function kve(t,e){return n=>yn(t,e,n)}function tP(t){return typeof t=="number"?kve:typeof t=="string"?XR(t)?Ox:Fn.test(t)?X4:Lve:Array.isArray(t)?P$:typeof t=="object"?Fn.test(t)?X4:Ove:Ox}function P$(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>tP(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function Ove(t,e){const n=Y(Y({},t),e),r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=tP(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function Vve(t,e){var i;const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],l=t.indexes[o][r[o]],u=(i=t.values[l])!=null?i:0;n[s]=u,r[o]++}return n}const Lve=(t,e)=>{const n=Fl.createTransformer(e),r=vg(t),i=vg(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?m1.has(t)&&!i.values.length||m1.has(e)&&!r.values.length?Dve(t,e):iy(P$(Vve(r,i),i.values),n):Ox(t,e)};function N$(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?yn(t,e,n):tP(t)(t,e)}const Uve=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>fn.update(e,n),stop:()=>Ul(e),now:()=>Tr.isProcessing?Tr.timestamp:ci.now()}},M$=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Vx=2e4;function nP(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Vx;)e+=n,r=t.next(e);return e>=Vx?1/0:e}function Fve(t,e=100,n){const r=n(xe(Y({},t),{keyframes:[0,e]})),i=Math.min(nP(r),Vx);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:ho(i)}}const jve=5;function D$(t,e,n){const r=Math.max(e-jve,0);return f$(n-t(r),e-r)}const Tn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},LS=.001;function Bve({duration:t=Tn.duration,bounce:e=Tn.bounce,velocity:n=Tn.velocity,mass:r=Tn.mass}){let i,s,o=1-e;o=ha(Tn.minDamping,Tn.maxDamping,o),t=ha(Tn.minDuration,Tn.maxDuration,ho(t)),o<1?(i=d=>{const f=d*o,m=f*t,v=f-n,b=p1(d,o),T=Math.exp(-m);return LS-v/b*T},s=d=>{const m=d*o*t,v=m*n+n,b=Math.pow(o,2)*Math.pow(d,2)*t,T=Math.exp(-m),S=p1(Math.pow(d,2),o);return(-i(d)+LS>0?-1:1)*((v-b)*T)/S}):(i=d=>{const f=Math.exp(-d*t),m=(d-n)*t+1;return-LS+f*m},s=d=>{const f=Math.exp(-d*t),m=(n-d)*(t*t);return f*m});const l=5/t,u=zve(i,s,l);if(t=fo(t),isNaN(u))return{stiffness:Tn.stiffness,damping:Tn.damping,duration:t};{const d=Math.pow(u,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const qve=12;function zve(t,e,n){let r=n;for(let i=1;i<qve;i++)r=r-t(r)/e(r);return r}function p1(t,e){return t*Math.sqrt(1-e*e)}const $ve=["duration","bounce"],Gve=["stiffness","damping","mass"];function Z4(t,e){return e.some(n=>t[n]!==void 0)}function Hve(t){let e=Y({velocity:Tn.velocity,stiffness:Tn.stiffness,damping:Tn.damping,mass:Tn.mass,isResolvedFromDuration:!1},t);if(!Z4(t,Gve)&&Z4(t,$ve))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*ha(.05,1,1-(t.bounce||0))*Math.sqrt(i);e=xe(Y({},e),{mass:Tn.mass,stiffness:i,damping:s})}else{const n=Bve(t);e=xe(Y(Y({},e),n),{mass:Tn.mass}),e.isResolvedFromDuration=!0}return e}function Lx(t=Tn.visualDuration,e=Tn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:s},{stiffness:u,damping:d,mass:f,duration:m,velocity:v,isResolvedFromDuration:b}=Hve(xe(Y({},n),{velocity:-ho(n.velocity||0)})),T=v||0,S=d/(2*Math.sqrt(u*f)),A=o-s,C=ho(Math.sqrt(u/f)),D=Math.abs(A)<5;r||(r=D?Tn.restSpeed.granular:Tn.restSpeed.default),i||(i=D?Tn.restDelta.granular:Tn.restDelta.default);let N;if(S<1){const V=p1(C,S);N=B=>{const k=Math.exp(-S*C*B);return o-k*((T+S*C*A)/V*Math.sin(V*B)+A*Math.cos(V*B))}}else if(S===1)N=V=>o-Math.exp(-C*V)*(A+(T+C*A)*V);else{const V=C*Math.sqrt(S*S-1);N=B=>{const k=Math.exp(-S*C*B),R=Math.min(V*B,300);return o-k*((T+S*C*A)*Math.sinh(R)+V*A*Math.cosh(R))/V}}const F={calculatedDuration:b&&m||null,next:V=>{const B=N(V);if(b)l.done=V>=m;else{let k=V===0?T:0;S<1&&(k=V===0?fo(T):D$(N,V,B));const R=Math.abs(k)<=r,O=Math.abs(o-B)<=i;l.done=R&&O}return l.value=l.done?o:B,l},toString:()=>{const V=Math.min(nP(F),Vx),B=M$(k=>F.next(V*k).value,V,30);return V+"ms "+B},toTransition:()=>{}};return F}Lx.applyToOptions=t=>{const e=Fve(t,100,Lx);return t.ease=e.ease,t.duration=fo(e.duration),t.type="keyframes",t};function g1({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:u,restDelta:d=.5,restSpeed:f}){const m=t[0],v={done:!1,value:m},b=R=>l!==void 0&&R<l||u!==void 0&&R>u,T=R=>l===void 0?u:u===void 0||Math.abs(l-R)<Math.abs(u-R)?l:u;let S=n*e;const A=m+S,C=o===void 0?A:o(A);C!==A&&(S=C-m);const D=R=>-S*Math.exp(-R/r),N=R=>C+D(R),F=R=>{const O=D(R),j=N(R);v.done=Math.abs(O)<=d,v.value=v.done?C:j};let V,B;const k=R=>{b(v.value)&&(V=R,B=Lx({keyframes:[v.value,T(v.value)],velocity:D$(N,R,v.value),damping:i,stiffness:s,restDelta:d,restSpeed:f}))};return k(0),{calculatedDuration:null,next:R=>{let O=!1;return!B&&V===void 0&&(O=!0,F(R),k(R)),V!==void 0&&R>=V?B.next(R-V):(!O&&F(R),v)}}}function Kve(t,e,n){const r=[],i=n||ma.mix||N$,s=t.length-1;for(let o=0;o<s;o++){let l=i(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||us:e;l=iy(u,l)}r.push(l)}return r}function Wve(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(HR(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=Kve(e,r,i),u=l.length,d=f=>{if(o&&f<t[0])return e[0];let m=0;if(u>1)for(;m<t.length-2&&!(f<t[m+1]);m++);const v=gg(t[m],t[m+1],f);return l[m](v)};return n?f=>d(ha(t[0],t[s-1],f)):d}function Yve(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=gg(0,e,r);t.push(yn(n,1,i))}}function Jve(t){const e=[0];return Yve(e,t.length-1),e}function Qve(t,e){return t.map(n=>n*e)}function Xve(t,e){return t.map(()=>e||w$).splice(0,t.length-1)}function Up({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=uve(r)?r.map(W4):W4(r),s={done:!1,value:e[0]},o=Qve(n&&n.length===e.length?n:Jve(e),t),l=Wve(o,e,{ease:Array.isArray(i)?i:Xve(e,i)});return{calculatedDuration:t,next:u=>(s.value=l(u),s.done=u>=t,s)}}const Zve=t=>t!==null;function rP(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(Zve),l=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!l||r===void 0?s[l]:r}const e0e={decay:g1,inertia:g1,tween:Up,keyframes:Up,spring:Lx};function k$(t){typeof t.type=="string"&&(t.type=e0e[t.type])}class iP{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const t0e=t=>t/100;class sP extends iP{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==ci.now()&&this.tick(ci.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;k$(e);const{type:n=Up,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:l}=e;const u=n||Up;u!==Up&&typeof l[0]!="number"&&(this.mixKeyframes=iy(t0e,N$(l[0],l[1])),l=[0,100]);const d=u(xe(Y({},e),{keyframes:l}));s==="mirror"&&(this.mirroredGenerator=u(xe(Y({},e),{keyframes:[...l].reverse(),velocity:-o}))),d.calculatedDuration===null&&(d.calculatedDuration=nP(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:f,repeat:m,repeatType:v,repeatDelay:b,type:T,onUpdate:S,finalKeyframe:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const C=this.currentTime-d*(this.playbackSpeed>=0?1:-1),D=this.playbackSpeed>=0?C<0:C>i;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let N=this.currentTime,F=r;if(m){const R=Math.min(this.currentTime,i)/l;let O=Math.floor(R),j=R%1;!j&&R>=1&&(j=1),j===1&&O--,O=Math.min(O,m+1),!!(O%2)&&(v==="reverse"?(j=1-j,b&&(j-=b/l)):v==="mirror"&&(F=o)),N=ha(0,1,j)*l}const V=D?{done:!1,value:f[0]}:F.next(N);s&&(V.value=s(V.value));let{done:B}=V;!D&&u!==null&&(B=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return k&&T!==g1&&(V.value=rP(f,this.options,A,this.speed)),S&&S(V.value),k&&this.finish(),V}then(e,n){return this.finished.then(e,n)}get duration(){return ho(this.calculatedDuration)}get time(){return ho(this.currentTime)}set time(e){var n;e=fo(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ci.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ho(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=Uve,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n!=null?n:r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ci.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function n0e(t){var e;for(let n=1;n<t.length;n++)(e=t[n])!=null||(t[n]=t[n-1])}const cc=t=>t*180/Math.PI,y1=t=>{const e=cc(Math.atan2(t[1],t[0]));return v1(e)},r0e={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:y1,rotateZ:y1,skewX:t=>cc(Math.atan(t[1])),skewY:t=>cc(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},v1=t=>(t=t%360,t<0&&(t+=360),t),e3=y1,t3=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),n3=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),i0e={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:t3,scaleY:n3,scale:t=>(t3(t)+n3(t))/2,rotateX:t=>v1(cc(Math.atan2(t[6],t[5]))),rotateY:t=>v1(cc(Math.atan2(-t[2],t[0]))),rotateZ:e3,rotate:e3,skewX:t=>cc(Math.atan(t[4])),skewY:t=>cc(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function x1(t){return t.includes("scale")?1:0}function b1(t,e){if(!t||t==="none")return x1(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=i0e,i=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=r0e,i=l}if(!i)return x1(e);const s=r[e],o=i[1].split(",").map(o0e);return typeof s=="function"?s(o):o[s]}const s0e=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return b1(n,e)};function o0e(t){return parseFloat(t.trim())}const Rh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ph=new Set(Rh),r3=t=>t===Ih||t===rt,a0e=new Set(["x","y","z"]),l0e=Rh.filter(t=>!a0e.has(t));function u0e(t){const e=[];return l0e.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const wc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>b1(e,"x"),y:(t,{transform:e})=>b1(e,"y")};wc.translateX=wc.x;wc.translateY=wc.y;const _c=new Set;let w1=!1,_1=!1,T1=!1;function O$(){if(_1){const t=Array.from(_c).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=u0e(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var l;(l=r.getValue(s))==null||l.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}_1=!1,w1=!1,_c.forEach(t=>t.complete(T1)),_c.clear()}function V$(){_c.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(_1=!0)})}function c0e(){T1=!0,V$(),O$(),T1=!1}class oP{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(_c.add(this),w1||(w1=!0,fn.read(V$),fn.resolveKeyframes(O$))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const l=r.readValue(n,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}n0e(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),_c.delete(this)}cancel(){this.state==="scheduled"&&(_c.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const d0e=t=>t.startsWith("--");function f0e(t,e,n){d0e(e)?t.style.setProperty(e,n):t.style[e]=n}const h0e=KR(()=>window.ScrollTimeline!==void 0),m0e={};function p0e(t,e){const n=KR(t);return()=>{var r;return(r=m0e[e])!=null?r:n()}}const L$=p0e(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(t){return!1}return!0},"linearEasing"),wp=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,i3={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wp([0,.65,.55,1]),circOut:wp([.55,0,1,.45]),backIn:wp([.31,.01,.66,-.59]),backOut:wp([.33,1.53,.69,.99])};function U$(t,e){if(t)return typeof t=="function"?L$()?M$(t,e):"ease-out":_$(t)?wp(t):Array.isArray(t)?t.map(n=>U$(n,e)||i3.easeOut):i3[t]}function g0e(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:l="easeOut",times:u}={},d=void 0){const f={[e]:n};u&&(f.offset=u);const m=U$(l,i);Array.isArray(m)&&(f.easing=m);const v={delay:r,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return d&&(v.pseudoElement=d),t.animate(f,v)}function F$(t){return typeof t=="function"&&"applyToOptions"in t}function y0e(n){var r=n,{type:t}=r,e=kr(r,["type"]);var i,s;return F$(t)&&L$()?t.applyToOptions(e):((i=e.duration)!=null||(e.duration=300),(s=e.ease)!=null||(e.ease="easeOut"),e)}class v0e extends iP{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:l,onComplete:u}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,HR(typeof e.type!="string");const d=y0e(e);this.animation=g0e(n,r,i,d,s),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const f=rP(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(f):f0e(n,r,f),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch(e){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return ho(Number(e))}get time(){return ho(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=fo(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&h0e()?(this.animation.timeline=e,us):n(this)}}const j$={anticipate:v$,backInOut:y$,circInOut:b$};function x0e(t){return t in j$}function b0e(t){typeof t.ease=="string"&&x0e(t.ease)&&(t.ease=j$[t.ease])}const s3=10;class w0e extends v0e{constructor(e){b0e(e),k$(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){var f;const d=this.options,{motionValue:n,onUpdate:r,onComplete:i,element:s}=d,o=kr(d,["motionValue","onUpdate","onComplete","element"]);if(!n)return;if(e!==void 0){n.set(e);return}const l=new sP(xe(Y({},o),{autoplay:!1})),u=fo((f=this.finishedTime)!=null?f:this.time);n.setWithVelocity(l.sample(u-s3).value,l.sample(u).value,s3),l.stop()}}const o3=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Fl.test(t)||t==="0")&&!t.startsWith("url("));function _0e(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function T0e(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=o3(i,e),l=o3(s,e);return!o||!l?!1:_0e(t)||(n==="spring"||F$(n))&&r}function E1(t){t.duration=0,t.type}const E0e=new Set(["opacity","clipPath","filter","transform"]),S0e=KR(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function A0e(t){var f;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!(((f=e==null?void 0:e.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:d}=e.owner.getProps();return S0e()&&n&&E0e.has(n)&&(n!=="transform"||!d)&&!u&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const C0e=40;class I0e extends iP{constructor(v){var b=v,{autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:l,name:u,motionValue:d,element:f}=b,m=kr(b,["autoplay","delay","type","repeat","repeatDelay","repeatType","keyframes","name","motionValue","element"]);var A;super(),this.stop=()=>{var C,D;this._animation&&(this._animation.stop(),(C=this.stopTimeline)==null||C.call(this)),(D=this.keyframeResolver)==null||D.cancel()},this.createdAt=ci.now();const T=Y({autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:u,motionValue:d,element:f},m),S=(f==null?void 0:f.KeyframeResolver)||oP;this.keyframeResolver=new S(l,(C,D,N)=>this.onKeyframesResolved(C,D,T,!N),u,d,f),(A=this.keyframeResolver)==null||A.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:l,delay:u,isHandoff:d,onUpdate:f}=r;this.resolvedAt=ci.now(),T0e(e,s,o,l)||((ma.instantAnimations||!u)&&(f==null||f(rP(e,r,n))),e[0]=e[e.length-1],E1(r),r.repeat=0);const m=i?this.resolvedAt?this.resolvedAt-this.createdAt>C0e?this.resolvedAt:this.createdAt:this.createdAt:void 0,v=xe(Y({startTime:m,finalKeyframe:n},r),{keyframes:e}),b=!d&&A0e(v)?new w0e(xe(Y({},v),{element:v.motionValue.owner.current})):new sP(v);b.finished.then(()=>this.notifyFinished()).catch(us),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),c0e()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const R0e=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function P0e(t){const e=R0e.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n!=null?n:r}`,i]}function B$(t,e,n=1){const[r,i]=P0e(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return u$(o)?parseFloat(o):o}return XR(i)?B$(i,e,n+1):i}function aP(t,e){var n,r;return(r=(n=t==null?void 0:t[e])!=null?n:t==null?void 0:t.default)!=null?r:t}const q$=new Set(["width","height","top","left","right","bottom",...Rh]),N0e={test:t=>t==="auto",parse:t=>t},z$=t=>e=>e.test(t),$$=[Ih,rt,mo,vl,_ve,wve,N0e],a3=t=>$$.find(z$(t));function M0e(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||d$(t):!0}const D0e=new Set(["brightness","contrast","saturate","opacity"]);function k0e(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(ZR)||[];if(!r)return t;const i=n.replace(r,"");let s=D0e.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const O0e=/\b([a-z-]*)\(.*?\)/gu,S1=xe(Y({},Fl),{getAnimatableNone:t=>{const e=t.match(O0e);return e?e.map(k0e).join(" "):t}}),l3=xe(Y({},Ih),{transform:Math.round}),V0e={rotate:vl,rotateX:vl,rotateY:vl,rotateZ:vl,scale:a0,scaleX:a0,scaleY:a0,scaleZ:a0,skew:vl,skewX:vl,skewY:vl,distance:rt,translateX:rt,translateY:rt,translateZ:rt,x:rt,y:rt,z:rt,perspective:rt,transformPerspective:rt,opacity:yg,originX:Y4,originY:Y4,originZ:rt},lP=xe(Y({borderWidth:rt,borderTopWidth:rt,borderRightWidth:rt,borderBottomWidth:rt,borderLeftWidth:rt,borderRadius:rt,radius:rt,borderTopLeftRadius:rt,borderTopRightRadius:rt,borderBottomRightRadius:rt,borderBottomLeftRadius:rt,width:rt,maxWidth:rt,height:rt,maxHeight:rt,top:rt,right:rt,bottom:rt,left:rt,padding:rt,paddingTop:rt,paddingRight:rt,paddingBottom:rt,paddingLeft:rt,margin:rt,marginTop:rt,marginRight:rt,marginBottom:rt,marginLeft:rt,backgroundPositionX:rt,backgroundPositionY:rt},V0e),{zIndex:l3,fillOpacity:yg,strokeOpacity:yg,numOctaves:l3}),L0e=xe(Y({},lP),{color:Fn,backgroundColor:Fn,outlineColor:Fn,fill:Fn,stroke:Fn,borderColor:Fn,borderTopColor:Fn,borderRightColor:Fn,borderBottomColor:Fn,borderLeftColor:Fn,filter:S1,WebkitFilter:S1}),G$=t=>L0e[t];function H$(t,e){let n=G$(t);return n!==S1&&(n=Fl),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const U0e=new Set(["auto","none","0"]);function F0e(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!U0e.has(s)&&vg(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=H$(n,i)}class j0e extends oP{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let d=e[u];if(typeof d=="string"&&(d=d.trim(),XR(d))){const f=B$(d,n.current);f!==void 0&&(e[u]=f),u===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!q$.has(r)||e.length!==2)return;const[i,s]=e,o=a3(i),l=a3(s);if(o!==l)if(r3(o)&&r3(l))for(let u=0;u<e.length;u++){const d=e[u];typeof d=="string"&&(e[u]=parseFloat(d))}else wc[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||M0e(e[i]))&&r.push(i);r.length&&F0e(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=wc[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var l;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=wc[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([u,d])=>{e.getValue(u).set(d)}),this.resolveNoneKeyframes()}}function B0e(t,e,n){var r;if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const s=(r=n==null?void 0:n[t])!=null?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const K$=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function W$(t){return c$(t)&&"offsetHeight"in t}const u3=30,q0e=t=>!isNaN(parseFloat(t));class z0e{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=ci.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ci.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=q0e(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new WR);const r=this.events[e].add(n);return e==="change"?()=>{r(),fn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ci.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>u3)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,u3);return f$(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hf(t,e){return new z0e(t,e)}const{schedule:uP}=T$(queueMicrotask,!1),Ts={x:!1,y:!1};function Y$(){return Ts.x||Ts.y}function $0e(t){return t==="x"||t==="y"?Ts[t]?null:(Ts[t]=!0,()=>{Ts[t]=!1}):Ts.x||Ts.y?null:(Ts.x=Ts.y=!0,()=>{Ts.x=Ts.y=!1})}function J$(t,e){const n=B0e(t),r=new AbortController,i=xe(Y({passive:!0},e),{signal:r.signal});return[n,i,()=>r.abort()]}function c3(t){return!(t.pointerType==="touch"||Y$())}function G0e(t,e,n={}){const[r,i,s]=J$(t,n),o=l=>{if(!c3(l))return;const{target:u}=l,d=e(u,l);if(typeof d!="function"||!u)return;const f=m=>{c3(m)&&(d(m),u.removeEventListener("pointerleave",f))};u.addEventListener("pointerleave",f,i)};return r.forEach(l=>{l.addEventListener("pointerenter",o,i)}),s}const Q$=(t,e)=>e?t===e?!0:Q$(t,e.parentElement):!1,cP=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,H0e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function K0e(t){return H0e.has(t.tagName)||t.tabIndex!==-1}const I0=new WeakSet;function d3(t){return e=>{e.key==="Enter"&&t(e)}}function US(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const W0e=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=d3(()=>{if(I0.has(n))return;US(n,"down");const i=d3(()=>{US(n,"up")}),s=()=>US(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function f3(t){return cP(t)&&!Y$()}function Y0e(t,e,n={}){const[r,i,s]=J$(t,n),o=l=>{const u=l.currentTarget;if(!f3(l))return;I0.add(u);const d=e(u,l),f=(b,T)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",v),I0.has(u)&&I0.delete(u),f3(b)&&typeof d=="function"&&d(b,{success:T})},m=b=>{f(b,u===window||u===document||n.useGlobalTarget||Q$(u,b.target))},v=b=>{f(b,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",v,i)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),W$(l)&&(l.addEventListener("focus",d=>W0e(d,i)),!K0e(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function X$(t){return c$(t)&&"ownerSVGElement"in t}function J0e(t){return X$(t)&&t.tagName==="svg"}const Br=t=>!!(t&&t.getVelocity),Q0e=[...$$,Fn,Fl],X0e=t=>Q0e.find(z$(t)),dP=M.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class Z0e extends M.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=W$(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function exe({children:t,isPresent:e,anchorX:n,root:r}){const i=M.useId(),s=M.useRef(null),o=M.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=M.useContext(dP);return M.useInsertionEffect(()=>{const{width:u,height:d,top:f,left:m,right:v}=o.current;if(e||!s.current||!u||!d)return;const b=n==="left"?`left: ${m}`:`right: ${v}`;s.current.dataset.motionPopId=i;const T=document.createElement("style");l&&(T.nonce=l);const S=r!=null?r:document.head;return S.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${b}px !important;
            top: ${f}px !important;
          }
        `),()=>{S.contains(T)&&S.removeChild(T)}},[e]),x.jsx(Z0e,{isPresent:e,childRef:s,sizeRef:o,children:M.cloneElement(t,{ref:s})})}const txe=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:l,root:u})=>{const d=qR(nxe),f=M.useId();let m=!0,v=M.useMemo(()=>(m=!1,{id:f,initial:e,isPresent:n,custom:i,onExitComplete:b=>{d.set(b,!0);for(const T of d.values())if(!T)return;r&&r()},register:b=>(d.set(b,!1),()=>d.delete(b))}),[n,d,r]);return s&&m&&(v=Y({},v)),M.useMemo(()=>{d.forEach((b,T)=>d.set(T,!1))},[n]),M.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),o==="popLayout"&&(t=x.jsx(exe,{isPresent:n,anchorX:l,root:u,children:t})),x.jsx(Yb.Provider,{value:v,children:t})};function nxe(){return new Map}function Z$(t=!0){const e=M.useContext(Yb);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=M.useId();M.useEffect(()=>{if(t)return i(s)},[t]);const o=M.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const l0=t=>t.key||"";function h3(t){const e=[];return M.Children.forEach(t,n=>{M.isValidElement(n)&&e.push(n)}),e}const jl=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:l="left",root:u})=>{const[d,f]=Z$(o),m=M.useMemo(()=>h3(t),[t]),v=o&&!d?[]:m.map(l0),b=M.useRef(!0),T=M.useRef(m),S=qR(()=>new Map),[A,C]=M.useState(m),[D,N]=M.useState(m);l$(()=>{b.current=!1,T.current=m;for(let B=0;B<D.length;B++){const k=l0(D[B]);v.includes(k)?S.delete(k):S.get(k)!==!0&&S.set(k,!1)}},[D,v.length,v.join("-")]);const F=[];if(m!==A){let B=[...m];for(let k=0;k<D.length;k++){const R=D[k],O=l0(R);v.includes(O)||(B.splice(k,0,R),F.push(R))}return s==="wait"&&F.length&&(B=F),N(h3(B)),C(m),null}const{forceRender:V}=M.useContext(BR);return x.jsx(x.Fragment,{children:D.map(B=>{const k=l0(B),R=o&&!d?!1:m===D||v.includes(k),O=()=>{if(S.has(k))S.set(k,!0);else return;let j=!0;S.forEach(q=>{q||(j=!1)}),j&&(V==null||V(),N(T.current),o&&(f==null||f()),r&&r())};return x.jsx(txe,{isPresent:R,initial:!b.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:u,onExitComplete:R?void 0:O,anchorX:l,children:B},k)})})},eG=M.createContext({strict:!1}),m3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Kf={};for(const t in m3)Kf[t]={isEnabled:e=>m3[t].some(n=>!!e[n])};function rxe(t){for(const e in t)Kf[e]=Y(Y({},Kf[e]),t[e])}const ixe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ux(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||ixe.has(t)}let tG=t=>!Ux(t);function sxe(t){typeof t=="function"&&(tG=e=>e.startsWith("on")?!Ux(e):t(e))}try{sxe(require("@emotion/is-prop-valid").default)}catch(t){}function oxe(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(tG(i)||n===!0&&Ux(i)||!e&&!Ux(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const Jb=M.createContext({});function Qb(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function xg(t){return typeof t=="string"||Array.isArray(t)}const fP=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],hP=["initial",...fP];function Xb(t){return Qb(t.animate)||hP.some(e=>xg(t[e]))}function nG(t){return!!(Xb(t)||t.variants)}function axe(t,e){if(Xb(t)){const{initial:n,animate:r}=t;return{initial:n===!1||xg(n)?n:void 0,animate:xg(r)?r:void 0}}return t.inherit!==!1?e:{}}function lxe(t){const{initial:e,animate:n}=axe(t,M.useContext(Jb));return M.useMemo(()=>({initial:e,animate:n}),[p3(e),p3(n)])}function p3(t){return Array.isArray(t)?t.join(" "):t}const bg={};function uxe(t){for(const e in t)bg[e]=t[e],QR(e)&&(bg[e].isCSSVariable=!0)}function rG(t,{layout:e,layoutId:n}){return Ph.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!bg[t]||t==="opacity")}const cxe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},dxe=Rh.length;function fxe(t,e,n){let r="",i=!0;for(let s=0;s<dxe;s++){const o=Rh[s],l=t[o];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(o.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||n){const d=K$(l,lP[o]);if(!u){i=!1;const f=cxe[o]||o;r+=`${f}(${d}) `}n&&(e[o]=d)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function mP(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,l=!1;for(const u in e){const d=e[u];if(Ph.has(u)){o=!0;continue}else if(QR(u)){i[u]=d;continue}else{const f=K$(d,lP[u]);u.startsWith("origin")?(l=!0,s[u]=f):r[u]=f}}if(e.transform||(o||n?r.transform=fxe(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:u="50%",originY:d="50%",originZ:f=0}=s;r.transformOrigin=`${u} ${d} ${f}`}}const pP=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function iG(t,e,n){for(const r in e)!Br(e[r])&&!rG(r,n)&&(t[r]=e[r])}function hxe({transformTemplate:t},e){return M.useMemo(()=>{const n=pP();return mP(n,e,t),Object.assign({},n.vars,n.style)},[e])}function mxe(t,e){const n=t.style||{},r={};return iG(r,n,t),Object.assign(r,hxe(t,e)),r}function pxe(t,e){const n={},r=mxe(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const gxe={offset:"stroke-dashoffset",array:"stroke-dasharray"},yxe={offset:"strokeDashoffset",array:"strokeDasharray"};function vxe(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?gxe:yxe;t[s.offset]=rt.transform(-r);const o=rt.transform(e),l=rt.transform(n);t[s.array]=`${o} ${l}`}function sG(t,m,u,d,f){var v=m,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0}=v,l=kr(v,["attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset"]);var S,A;if(mP(t,l,d),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:T}=t;b.transform&&(T.transform=b.transform,delete b.transform),(T.transform||b.transformOrigin)&&(T.transformOrigin=(S=b.transformOrigin)!=null?S:"50% 50%",delete b.transformOrigin),T.transform&&(T.transformBox=(A=f==null?void 0:f.transformBox)!=null?A:"fill-box",delete b.transformBox),e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),r!==void 0&&(b.scale=r),i!==void 0&&vxe(b,i,s,o,!1)}const oG=()=>xe(Y({},pP()),{attrs:{}}),aG=t=>typeof t=="string"&&t.toLowerCase()==="svg";function xxe(t,e,n,r){const i=M.useMemo(()=>{const s=oG();return sG(s,e,aG(r),t.transformTemplate,t.style),xe(Y({},s.attrs),{style:Y({},s.style)})},[e]);if(t.style){const s={};iG(s,t.style,t),i.style=Y(Y({},s),i.style)}return i}const bxe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function gP(t){return typeof t!="string"||t.includes("-")?!1:!!(bxe.indexOf(t)>-1||/[A-Z]/u.test(t))}function wxe(t,e,n,{latestValues:r},i,s=!1){const l=(gP(t)?xxe:pxe)(e,r,i,t),u=oxe(e,typeof t=="string",s),d=t!==M.Fragment?xe(Y(Y({},u),l),{ref:n}):{},{children:f}=e,m=M.useMemo(()=>Br(f)?f.get():f,[f]);return M.createElement(t,xe(Y({},d),{children:m}))}function g3(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function yP(t,e,n,r){if(typeof e=="function"){const[i,s]=g3(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=g3(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function R0(t){return Br(t)?t.get():t}function _xe({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:Txe(n,r,i,t),renderState:e()}}function Txe(t,e,n,r){const i={},s=r(t,{});for(const b in s)i[b]=R0(s[b]);let{initial:o,animate:l}=t;const u=Xb(t),d=nG(t);e&&d&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const m=f?l:o;if(m&&typeof m!="boolean"&&!Qb(m)){const b=Array.isArray(m)?m:[m];for(let T=0;T<b.length;T++){const S=yP(t,b[T]);if(S){const v=S,{transitionEnd:A,transition:C}=v,D=kr(v,["transitionEnd","transition"]);for(const N in D){let F=D[N];if(Array.isArray(F)){const V=f?F.length-1:0;F=F[V]}F!==null&&(i[N]=F)}for(const N in A)i[N]=A[N]}}}return i}const lG=t=>(e,n)=>{const r=M.useContext(Jb),i=M.useContext(Yb),s=()=>_xe(t,e,r,i);return n?s():qR(s)};function vP(t,e,n){var s;const{style:r}=t,i={};for(const o in r)(Br(r[o])||e.style&&Br(e.style[o])||rG(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const Exe=lG({scrapeMotionValuesFromProps:vP,createRenderState:pP});function uG(t,e,n){const r=vP(t,e,n);for(const i in t)if(Br(t[i])||Br(e[i])){const s=Rh.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const Sxe=lG({scrapeMotionValuesFromProps:uG,createRenderState:oG}),Axe=Symbol.for("motionComponentSymbol");function pf(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Cxe(t,e,n){return M.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):pf(n)&&(n.current=r))},[e])}const xP=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Ixe="framerAppearId",cG="data-"+xP(Ixe),dG=M.createContext({});function Rxe(t,e,n,r,i){var S,A;const{visualElement:s}=M.useContext(Jb),o=M.useContext(eG),l=M.useContext(Yb),u=M.useContext(dP).reducedMotion,d=M.useRef(null);r=r||o.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:s,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const f=d.current,m=M.useContext(dG);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&Pxe(d.current,n,i,m);const v=M.useRef(!1);M.useInsertionEffect(()=>{f&&v.current&&f.update(n,l)});const b=n[cG],T=M.useRef(!!b&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,b))&&((A=window.MotionHasOptimisedAnimation)==null?void 0:A.call(window,b)));return l$(()=>{f&&(v.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),T.current&&f.animationState&&f.animationState.animateChanges())}),M.useEffect(()=>{f&&(!T.current&&f.animationState&&f.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)==null||C.call(window,b)}),T.current=!1),f.enteringChildren=void 0)}),f}function Pxe(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:l,layoutScroll:u,layoutRoot:d,layoutCrossfade:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:fG(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||l&&pf(l),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:u,layoutRoot:d})}function fG(t){if(t)return t.options.allowProjection!==!1?t.projection:fG(t.parent)}function FS(t,{forwardMotionProps:e=!1}={},n,r){var l,u;n&&rxe(n);const i=gP(t)?Sxe:Exe;function s(d,f){let m;const v=xe(Y(Y({},M.useContext(dP)),d),{layoutId:Nxe(d)}),{isStatic:b}=v,T=lxe(d),S=i(d,b);if(!b&&zR){Mxe();const A=Dxe(v);m=A.MeasureLayout,T.visualElement=Rxe(t,S,v,r,A.ProjectionNode)}return x.jsxs(Jb.Provider,{value:T,children:[m&&T.visualElement?x.jsx(m,Y({visualElement:T.visualElement},v)):null,wxe(t,d,Cxe(S,T.visualElement,f),S,b,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${(u=(l=t.displayName)!=null?l:t.name)!=null?u:""})`}`;const o=M.forwardRef(s);return o[Axe]=t,o}function Nxe({layoutId:t}){const e=M.useContext(BR).id;return e&&t!==void 0?e+"-"+t:t}function Mxe(t,e){M.useContext(eG).strict}function Dxe(t){const{drag:e,layout:n}=Kf;if(!e&&!n)return{};const r=Y(Y({},e),n);return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function kxe(t,e){if(typeof Proxy=="undefined")return FS;const n=new Map,r=(s,o)=>FS(s,o,t,e),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,FS(o,void 0,t,e)),n.get(o))})}function hG({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Oxe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Vxe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function jS(t){return t===void 0||t===1}function A1({scale:t,scaleX:e,scaleY:n}){return!jS(t)||!jS(e)||!jS(n)}function Yu(t){return A1(t)||mG(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function mG(t){return y3(t.x)||y3(t.y)}function y3(t){return t&&t!=="0%"}function Fx(t,e,n){const r=t-n,i=e*r;return n+i}function v3(t,e,n,r,i){return i!==void 0&&(t=Fx(t,i,r)),Fx(t,n,r)+e}function C1(t,e=0,n=1,r,i){t.min=v3(t.min,e,n,r,i),t.max=v3(t.max,e,n,r,i)}function pG(t,{x:e,y:n}){C1(t.x,e.translate,e.scale,e.originPoint),C1(t.y,n.translate,n.scale,n.originPoint)}const x3=.999999999999,b3=1.0000000000001;function Lxe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let l=0;l<i;l++){s=n[l],o=s.projectionDelta;const{visualElement:u}=s.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&yf(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,pG(t,o)),r&&Yu(s.latestValues)&&yf(t,s.latestValues))}e.x<b3&&e.x>x3&&(e.x=1),e.y<b3&&e.y>x3&&(e.y=1)}function gf(t,e){t.min=t.min+e,t.max=t.max+e}function w3(t,e,n,r,i=.5){const s=yn(t.min,t.max,i);C1(t,e,n,s,r)}function yf(t,e){w3(t.x,e.x,e.scaleX,e.scale,e.originX),w3(t.y,e.y,e.scaleY,e.scale,e.originY)}function gG(t,e){return hG(Vxe(t.getBoundingClientRect(),e))}function Uxe(t,e,n){const r=gG(t,n),{scroll:i}=e;return i&&(gf(r.x,i.offset.x),gf(r.y,i.offset.y)),r}const _3=()=>({translate:0,scale:1,origin:0,originPoint:0}),vf=()=>({x:_3(),y:_3()}),T3=()=>({min:0,max:0}),Pn=()=>({x:T3(),y:T3()}),I1={current:null},yG={current:!1};function Fxe(){if(yG.current=!0,!!zR)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>I1.current=t.matches;t.addEventListener("change",e),e()}else I1.current=!1}const jxe=new WeakMap;function Bxe(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Br(i))t.addValue(r,i);else if(Br(s))t.addValue(r,Hf(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Hf(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const E3=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class qxe{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=oP,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=ci.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,fn.render(this.render,!1,!0))};const{latestValues:u,renderState:d}=o;this.latestValues=u,this.baseTarget=Y({},u),this.initialValues=n.initial?Y({},u):{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=Xb(n),this.isVariantNode=nG(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const v=this.scrapeMotionValuesFromProps(n,{},this),{willChange:f}=v,m=kr(v,["willChange"]);for(const b in m){const T=m[b];u[b]!==void 0&&Br(T)&&T.set(u[b])}}mount(e){var n;this.current=e,jxe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),yG.current||Fxe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:I1.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ul(this.notifyUpdate),Ul(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){var n;this.children.add(e),(n=this.enteringChildren)!=null||(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ph.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&fn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Kf){const n=Kf[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<E3.length;r++){const i=E3[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Bxe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Hf(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var i;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!=null?i:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(u$(r)||d$(r))?r=parseFloat(r):!X0e(r)&&Fl.test(n)&&(r=H$(e,n)),this.setBaseTarget(e,Br(r)?r.get():r)),Br(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=yP(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Br(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new WR),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){uP.render(this.render)}}class vG extends qxe{constructor(){super(...arguments),this.KeyframeResolver=j0e}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Br(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function xG(t,{style:e,vars:n},r,i){const s=t.style;let o;for(o in e)s[o]=e[o];i==null||i.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function zxe(t){return window.getComputedStyle(t)}class $xe extends vG{constructor(){super(...arguments),this.type="html",this.renderInstance=xG}readValueFromInstance(e,n){var r;if(Ph.has(n))return(r=this.projection)!=null&&r.isProjecting?x1(n):s0e(e,n);{const i=zxe(e),s=(QR(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return gG(e,n)}build(e,n,r){mP(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return vP(e,n,r)}}const bG=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Gxe(t,e,n,r){xG(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(bG.has(i)?i:xP(i),e.attrs[i])}class Hxe extends vG{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Pn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ph.has(n)){const r=G$(n);return r&&r.default||0}return n=bG.has(n)?n:xP(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return uG(e,n,r)}build(e,n,r){sG(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){Gxe(e,n,r,i)}mount(e){this.isSVGTag=aG(e.tagName),super.mount(e)}}const Kxe=(t,e)=>gP(t)?new Hxe(e):new $xe(e,{allowProjection:t!==M.Fragment});function If(t,e,n){const r=t.getProps();return yP(r,e,n!==void 0?n:r.custom,t)}const R1=t=>Array.isArray(t);function Wxe(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Hf(n))}function Yxe(t){return R1(t)?t[t.length-1]||0:t}function Jxe(t,e){let o=If(t,e)||{},{transitionEnd:r={},transition:i={}}=o,s=kr(o,["transitionEnd","transition"]);s=Y(Y({},s),r);for(const l in s){const u=Yxe(s[l]);Wxe(t,l,u)}}function Qxe(t){return!!(Br(t)&&t.add)}function P1(t,e){const n=t.getValue("willChange");if(Qxe(n))return n.add(e);if(!n&&ma.WillChange){const r=new ma.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function wG(t){return t.props[cG]}const Xxe=t=>t!==null;function Zxe(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Xxe),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const ebe={type:"spring",stiffness:500,damping:25,restSpeed:10},tbe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),nbe={type:"keyframes",duration:.8},rbe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ibe=(t,{keyframes:e})=>e.length>2?nbe:Ph.has(t)?t.startsWith("scale")?tbe(e[1]):ebe:rbe;function sbe(m){var v=m,{when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:l,from:u,elapsed:d}=v,f=kr(v,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"]);return!!Object.keys(f).length}const bP=(t,e,n,r={},i,s)=>o=>{const l=aP(r,t)||{},u=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-fo(u);const f=xe(Y({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity()},l),{delay:-d,onUpdate:v=>{e.set(v),l.onUpdate&&l.onUpdate(v)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:s?void 0:i});sbe(l)||Object.assign(f,ibe(t,f)),f.duration&&(f.duration=fo(f.duration)),f.repeatDelay&&(f.repeatDelay=fo(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let m=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(E1(f),f.delay===0&&(m=!0)),(ma.instantAnimations||ma.skipAnimations)&&(m=!0,E1(f),f.delay=0),f.allowFlatten=!l.type&&!l.ease,m&&!s&&e.get()!==void 0){const v=Zxe(f.keyframes,l);if(v!==void 0){fn.update(()=>{f.onUpdate(v),f.onComplete()});return}}return l.isSync?new sP(f):new I0e(f)};function obe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function _G(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var m;let f=e,{transition:s=t.getDefaultTransition(),transitionEnd:o}=f,l=kr(f,["transition","transitionEnd"]);r&&(s=r);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const v in l){const b=t.getValue(v,(m=t.latestValues[v])!=null?m:null),T=l[v];if(T===void 0||d&&obe(d,v))continue;const S=Y({delay:n},aP(s||{},v)),A=b.get();if(A!==void 0&&!b.isAnimating&&!Array.isArray(T)&&T===A&&!S.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const N=wG(t);if(N){const F=window.MotionHandoffAnimation(N,v,fn);F!==null&&(S.startTime=F,C=!0)}}P1(t,v),b.start(bP(v,b,T,t.shouldReduceMotion&&q$.has(v)?{type:!1}:S,t,C));const D=b.animation;D&&u.push(D)}return o&&Promise.all(u).then(()=>{fn.update(()=>{o&&Jxe(t,o)})}),u}function TG(t,e,n,r=0,i=1){const s=Array.from(t).sort((d,f)=>d.sortNodePosition(f)).indexOf(e),o=t.size,l=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:l-s*r}function N1(t,e,n={}){var u;const r=If(t,e,n.type==="exit"?(u=t.presenceContext)==null?void 0:u.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(_G(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:m,staggerDirection:v}=i;return abe(t,e,d,f,m,v,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[d,f]=l==="beforeChildren"?[s,o]:[o,s];return d().then(()=>f())}else return Promise.all([s(),o(n.delay)])}function abe(t,e,n=0,r=0,i=0,s=1,o){const l=[];for(const u of t.variantChildren)u.notify("AnimationStart",e),l.push(N1(u,e,xe(Y({},o),{delay:n+(typeof r=="function"?0:r)+TG(t.variantChildren,u,r,i,s)})).then(()=>u.notify("AnimationComplete",e)));return Promise.all(l)}function lbe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>N1(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=N1(t,e,n);else{const i=typeof e=="function"?If(t,e,n.custom):e;r=Promise.all(_G(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function EG(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const ube=hP.length;function SG(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?SG(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<ube;n++){const r=hP[n],i=t.props[r];(xg(i)||i===!1)&&(e[r]=i)}return e}const cbe=[...fP].reverse(),dbe=fP.length;function fbe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>lbe(t,n,r)))}function hbe(t){let e=fbe(t),n=S3(),r=!0;const i=u=>(d,f)=>{var v;const m=If(t,f,u==="exit"?(v=t.presenceContext)==null?void 0:v.custom:void 0);if(m){const b=m,{transition:T,transitionEnd:S}=b,A=kr(b,["transition","transitionEnd"]);d=Y(Y(Y({},d),A),S)}return d};function s(u){e=u(t)}function o(u){const{props:d}=t,f=SG(t.parent)||{},m=[],v=new Set;let b={},T=1/0;for(let A=0;A<dbe;A++){const C=cbe[A],D=n[C],N=d[C]!==void 0?d[C]:f[C],F=xg(N),V=C===u?D.isActive:null;V===!1&&(T=A);let B=N===f[C]&&N!==d[C]&&F;if(B&&r&&t.manuallyAnimateOnMount&&(B=!1),D.protectedKeys=Y({},b),!D.isActive&&V===null||!N&&!D.prevProp||Qb(N)||typeof N=="boolean")continue;const k=mbe(D.prevProp,N);let R=k||C===u&&D.isActive&&!B&&F||A>T&&F,O=!1;const j=Array.isArray(N)?N:[N];let q=j.reduce(i(C),{});V===!1&&(q={});const{prevResolvedValues:H={}}=D,G=Y(Y({},H),q),he=ae=>{R=!0,v.has(ae)&&(O=!0,v.delete(ae)),D.needsAnimating[ae]=!0;const Z=t.getValue(ae);Z&&(Z.liveStyle=!1)};for(const ae in G){const Z=q[ae],Ee=H[ae];if(b.hasOwnProperty(ae))continue;let K=!1;R1(Z)&&R1(Ee)?K=!EG(Z,Ee):K=Z!==Ee,K?Z!=null?he(ae):v.add(ae):Z!==void 0&&v.has(ae)?he(ae):D.protectedKeys[ae]=!0}D.prevProp=N,D.prevResolvedValues=q,D.isActive&&(b=Y(Y({},b),q)),r&&t.blockInitialAnimation&&(R=!1);const we=B&&k;R&&(!we||O)&&m.push(...j.map(ae=>{const Z={type:C};if(typeof ae=="string"&&r&&!we&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ee}=t,K=If(Ee,ae);if(Ee.enteringChildren&&K){const{delayChildren:ue}=K.transition||{};Z.delay=TG(Ee.enteringChildren,t,ue)}}return{animation:ae,options:Z}}))}if(v.size){const A={};if(typeof d.initial!="boolean"){const C=If(t,Array.isArray(d.initial)?d.initial[0]:d.initial);C&&C.transition&&(A.transition=C.transition)}v.forEach(C=>{const D=t.getBaseTarget(C),N=t.getValue(C);N&&(N.liveStyle=!0),A[C]=D!=null?D:null}),m.push({animation:A})}let S=!!m.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(m):Promise.resolve()}function l(u,d){var m;if(n[u].isActive===d)return Promise.resolve();(m=t.variantChildren)==null||m.forEach(v=>{var b;return(b=v.animationState)==null?void 0:b.setActive(u,d)}),n[u].isActive=d;const f=o(u);for(const v in n)n[v].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>n,reset:()=>{n=S3(),r=!0}}}function mbe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!EG(e,t):!1}function qu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function S3(){return{animate:qu(!0),whileInView:qu(),whileHover:qu(),whileTap:qu(),whileDrag:qu(),whileFocus:qu(),exit:qu()}}class iu{constructor(e){this.isMounted=!1,this.node=e}update(){}}class pbe extends iu{constructor(e){super(e),e.animationState||(e.animationState=hbe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Qb(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let gbe=0;class ybe extends iu{constructor(){super(...arguments),this.id=gbe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const vbe={animation:{Feature:pbe},exit:{Feature:ybe}};function wg(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function ay(t){return{point:{x:t.pageX,y:t.pageY}}}const xbe=t=>e=>cP(e)&&t(e,ay(e));function Fp(t,e,n,r){return wg(t,e,xbe(n),r)}const AG=1e-4,bbe=1-AG,wbe=1+AG,CG=.01,_be=0-CG,Tbe=0+CG;function Xr(t){return t.max-t.min}function Ebe(t,e,n){return Math.abs(t-e)<=n}function A3(t,e,n,r=.5){t.origin=r,t.originPoint=yn(e.min,e.max,t.origin),t.scale=Xr(n)/Xr(e),t.translate=yn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=bbe&&t.scale<=wbe||isNaN(t.scale))&&(t.scale=1),(t.translate>=_be&&t.translate<=Tbe||isNaN(t.translate))&&(t.translate=0)}function jp(t,e,n,r){A3(t.x,e.x,n.x,r?r.originX:void 0),A3(t.y,e.y,n.y,r?r.originY:void 0)}function C3(t,e,n){t.min=n.min+e.min,t.max=t.min+Xr(e)}function Sbe(t,e,n){C3(t.x,e.x,n.x),C3(t.y,e.y,n.y)}function I3(t,e,n){t.min=e.min-n.min,t.max=t.min+Xr(e)}function Bp(t,e,n){I3(t.x,e.x,n.x),I3(t.y,e.y,n.y)}function is(t){return[t("x"),t("y")]}const IG=({current:t})=>t?t.ownerDocument.defaultView:null,R3=(t,e)=>Math.abs(t-e);function Abe(t,e){const n=R3(t.x,e.x),r=R3(t.y,e.y);return Math.sqrt(ll(n,2)+ll(r,2))}class RG{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=qS(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,T=Abe(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!T)return;const{point:S}=v,{timestamp:A}=Tr;this.history.push(xe(Y({},S),{timestamp:A}));const{onStart:C,onMove:D}=this.handlers;b||(C&&C(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,v)},this.handlePointerMove=(v,b)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=BS(b,this.transformPagePoint),fn.update(this.updatePoint,!0)},this.handlePointerUp=(v,b)=>{this.end();const{onEnd:T,onSessionEnd:S,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=qS(v.type==="pointercancel"?this.lastMoveEventInfo:BS(b,this.transformPagePoint),this.history);this.startEvent&&T&&T(v,C),S&&S(v,C)},!cP(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const l=ay(e),u=BS(l,this.transformPagePoint),{point:d}=u,{timestamp:f}=Tr;this.history=[xe(Y({},d),{timestamp:f})];const{onSessionStart:m}=n;m&&m(e,qS(u,this.history)),this.removeListeners=iy(Fp(this.contextWindow,"pointermove",this.handlePointerMove),Fp(this.contextWindow,"pointerup",this.handlePointerUp),Fp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ul(this.updatePoint)}}function BS(t,e){return e?{point:e(t.point)}:t}function P3(t,e){return{x:t.x-e.x,y:t.y-e.y}}function qS({point:t},e){return{point:t,delta:P3(t,PG(e)),offset:P3(t,Cbe(e)),velocity:Ibe(e,.1)}}function Cbe(t){return t[0]}function PG(t){return t[t.length-1]}function Ibe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=PG(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>fo(e)));)n--;if(!r)return{x:0,y:0};const s=ho(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Rbe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?yn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?yn(n,t,r.max):Math.min(t,n)),t}function N3(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Pbe(t,{top:e,left:n,bottom:r,right:i}){return{x:N3(t.x,n,i),y:N3(t.y,e,r)}}function M3(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Nbe(t,e){return{x:M3(t.x,e.x),y:M3(t.y,e.y)}}function Mbe(t,e){let n=.5;const r=Xr(t),i=Xr(e);return i>r?n=gg(e.min,e.max-r,t.min):r>i&&(n=gg(t.min,t.max-i,e.min)),ha(0,1,n)}function Dbe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const M1=.35;function kbe(t=M1){return t===!1?t=0:t===!0&&(t=M1),{x:D3(t,"left","right"),y:D3(t,"top","bottom")}}function D3(t,e,n){return{min:k3(t,e),max:k3(t,n)}}function k3(t,e){return typeof t=="number"?t:t[e]||0}const Obe=new WeakMap;class Vbe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=m=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ay(m).point)},o=(m,v)=>{const{drag:b,dragPropagation:T,onDragStart:S}=this.getProps();if(b&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$0e(b),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),is(C=>{let D=this.getAxisMotionValue(C).get()||0;if(mo.test(D)){const{projection:N}=this.visualElement;if(N&&N.layout){const F=N.layout.layoutBox[C];F&&(D=Xr(F)*(parseFloat(D)/100))}}this.originPoint[C]=D}),S&&fn.postRender(()=>S(m,v)),P1(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},l=(m,v)=>{this.latestPointerEvent=m,this.latestPanInfo=v;const{dragPropagation:b,dragDirectionLock:T,onDirectionLock:S,onDrag:A}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:C}=v;if(T&&this.currentDirection===null){this.currentDirection=Lbe(C),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",v.point,C),this.updateAxis("y",v.point,C),this.visualElement.render(),A&&A(m,v)},u=(m,v)=>{this.latestPointerEvent=m,this.latestPanInfo=v,this.stop(m,v),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>is(m=>{var v;return this.getAnimationState(m)==="paused"&&((v=this.getAxisMotionValue(m).animation)==null?void 0:v.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new RG(e,{onSessionStart:s,onStart:o,onMove:l,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:r,contextWindow:IG(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&fn.postRender(()=>l(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!u0(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Rbe(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&pf(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Pbe(r.layoutBox,e):this.constraints=!1,this.elastic=kbe(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&is(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Dbe(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!pf(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Uxe(r,i.root,this.visualElement.getTransformPagePoint());let o=Nbe(i.layout.layoutBox,s);if(n){const l=n(Oxe(o));this.hasMutatedConstraints=!!l,l&&(o=hG(l))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},d=is(f=>{if(!u0(f,n,this.currentDirection))return;let m=u&&u[f]||{};o&&(m={min:0,max:0});const v=i?200:1e6,b=i?40:1e7,T=Y(Y({type:"inertia",velocity:r?e[f]:0,bounceStiffness:v,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10},s),m);return this.startAxisValueAnimation(f,T)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return P1(this.visualElement,e),r.start(bP(e,r,0,n,this.visualElement,!1))}stopAnimation(){is(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){is(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){is(n=>{const{drag:r}=this.getProps();if(!u0(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n];s.set(e[n]-yn(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!pf(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};is(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const u=l.get();i[o]=Mbe({min:u,max:u},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),is(o=>{if(!u0(o,e,null))return;const l=this.getAxisMotionValue(o),{min:u,max:d}=this.constraints[o];l.set(yn(u,d,i[o]))})}addListeners(){if(!this.visualElement.current)return;Obe.set(this.visualElement,this);const e=this.visualElement.current,n=Fp(e,"pointerdown",u=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();pf(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),fn.read(r);const o=wg(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(is(f=>{const m=this.getAxisMotionValue(f);m&&(this.originPoint[f]+=u[f].translate,m.set(m.get()+u[f].translate))}),this.visualElement.render())}));return()=>{o(),n(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=M1,dragMomentum:l=!0}=e;return xe(Y({},e),{drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:l})}}function u0(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Lbe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Ube extends iu{constructor(e){super(e),this.removeGroupControls=us,this.removeListeners=us,this.controls=new Vbe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||us}unmount(){this.removeGroupControls(),this.removeListeners()}}const O3=t=>(e,n)=>{t&&fn.postRender(()=>t(e,n))};class Fbe extends iu{constructor(){super(...arguments),this.removePointerDownListener=us}onPointerDown(e){this.session=new RG(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:IG(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:O3(e),onStart:O3(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&fn.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Fp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const P0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function V3(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const lp={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(rt.test(t))t=parseFloat(t);else return t;const n=V3(t,e.target.x),r=V3(t,e.target.y);return`${n}% ${r}%`}},jbe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Fl.parse(t);if(i.length>5)return r;const s=Fl.createTransformer(t),o=typeof i[0]!="number"?1:0,l=n.x.scale*e.x,u=n.y.scale*e.y;i[0+o]/=l,i[1+o]/=u;const d=yn(l,u,.5);return typeof i[2+o]=="number"&&(i[2+o]/=d),typeof i[3+o]=="number"&&(i[3+o]/=d),s(i)}};let zS=!1;class Bbe extends M.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;uxe(qbe),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),zS&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions(xe(Y({},s.options),{onExitComplete:()=>this.safeToRemove()}))),P0.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,zS=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||fn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),uP.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;zS=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function NG(t){const[e,n]=Z$(),r=M.useContext(BR);return x.jsx(Bbe,xe(Y({},t),{layoutGroup:r,switchLayoutGroup:M.useContext(dG),isPresent:e,safeToRemove:n}))}const qbe={borderRadius:xe(Y({},lp),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:lp,borderTopRightRadius:lp,borderBottomLeftRadius:lp,borderBottomRightRadius:lp,boxShadow:jbe};function zbe(t,e,n){const r=Br(t)?t:Hf(t);return r.start(bP("",r,e,n)),r.animation}const $be=(t,e)=>t.depth-e.depth;class Gbe{constructor(){this.children=[],this.isDirty=!1}add(e){$R(this.children,e),this.isDirty=!0}remove(e){GR(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort($be),this.isDirty=!1,this.children.forEach(e)}}function Hbe(t,e){const n=ci.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Ul(r),t(s-e))};return fn.setup(r,!0),()=>Ul(r)}const MG=["TopLeft","TopRight","BottomLeft","BottomRight"],Kbe=MG.length,L3=t=>typeof t=="string"?parseFloat(t):t,U3=t=>typeof t=="number"||rt.test(t);function Wbe(t,e,n,r,i,s){var o,l,u,d;i?(t.opacity=yn(0,(o=n.opacity)!=null?o:1,Ybe(r)),t.opacityExit=yn((l=e.opacity)!=null?l:1,0,Jbe(r))):s&&(t.opacity=yn((u=e.opacity)!=null?u:1,(d=n.opacity)!=null?d:1,r));for(let f=0;f<Kbe;f++){const m=`border${MG[f]}Radius`;let v=F3(e,m),b=F3(n,m);if(v===void 0&&b===void 0)continue;v||(v=0),b||(b=0),v===0||b===0||U3(v)===U3(b)?(t[m]=Math.max(yn(L3(v),L3(b),r),0),(mo.test(b)||mo.test(v))&&(t[m]+="%")):t[m]=b}(e.rotate||n.rotate)&&(t.rotate=yn(e.rotate||0,n.rotate||0,r))}function F3(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Ybe=DG(0,.5,x$),Jbe=DG(.5,.95,us);function DG(t,e,n){return r=>r<t?0:r>e?1:n(gg(t,e,r))}function j3(t,e){t.min=e.min,t.max=e.max}function ns(t,e){j3(t.x,e.x),j3(t.y,e.y)}function B3(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function q3(t,e,n,r,i){return t-=e,t=Fx(t,1/n,r),i!==void 0&&(t=Fx(t,1/i,r)),t}function Qbe(t,e=0,n=1,r=.5,i,s=t,o=t){if(mo.test(e)&&(e=parseFloat(e),e=yn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=yn(s.min,s.max,r);t===s&&(l-=e),t.min=q3(t.min,e,n,l,i),t.max=q3(t.max,e,n,l,i)}function z3(t,e,[n,r,i],s,o){Qbe(t,e[n],e[r],e[i],e.scale,s,o)}const Xbe=["x","scaleX","originX"],Zbe=["y","scaleY","originY"];function $3(t,e,n,r){z3(t.x,e,Xbe,n?n.x:void 0,r?r.x:void 0),z3(t.y,e,Zbe,n?n.y:void 0,r?r.y:void 0)}function G3(t){return t.translate===0&&t.scale===1}function kG(t){return G3(t.x)&&G3(t.y)}function H3(t,e){return t.min===e.min&&t.max===e.max}function ewe(t,e){return H3(t.x,e.x)&&H3(t.y,e.y)}function K3(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function OG(t,e){return K3(t.x,e.x)&&K3(t.y,e.y)}function W3(t){return Xr(t.x)/Xr(t.y)}function Y3(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class twe{constructor(){this.members=[]}add(e){$R(this.members,e),e.scheduleRender()}remove(e){if(GR(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function nwe(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:f,rotateX:m,rotateY:v,skewX:b,skewY:T}=n;d&&(r=`perspective(${d}px) ${r}`),f&&(r+=`rotate(${f}deg) `),m&&(r+=`rotateX(${m}deg) `),v&&(r+=`rotateY(${v}deg) `),b&&(r+=`skewX(${b}deg) `),T&&(r+=`skewY(${T}deg) `)}const l=t.x.scale*e.x,u=t.y.scale*e.y;return(l!==1||u!==1)&&(r+=`scale(${l}, ${u})`),r||"none"}const $S=["","X","Y","Z"],rwe=1e3;let iwe=0;function GS(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function VG(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=wG(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",fn,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&VG(r)}function LG({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},l=e==null?void 0:e()){this.id=iwe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(awe),this.nodes.forEach(dwe),this.nodes.forEach(fwe),this.nodes.forEach(lwe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new Gbe)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new WR),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const u=this.eventHandlers.get(o);u&&u.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=X$(o)&&!J0e(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||l)&&(this.isLayoutDirty=!0),t){let f,m=0;const v=()=>this.root.updateBlockedByResize=!1;fn.read(()=>{m=window.innerWidth}),t(o,()=>{const b=window.innerWidth;b!==m&&(m=b,this.root.updateBlockedByResize=!0,f&&f(),f=Hbe(v,250),P0.hasAnimatedSinceResize&&(P0.hasAnimatedSinceResize=!1,this.nodes.forEach(X3)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:v,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||d.getDefaultTransition()||ywe,{onLayoutAnimationStart:S,onLayoutAnimationComplete:A}=d.getProps(),C=!this.targetLayout||!OG(this.targetLayout,b),D=!m&&v;if(this.options.layoutRoot||this.resumeFrom||D||m&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N=xe(Y({},aP(T,"layout")),{onPlay:S,onComplete:A});(d.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(f,D)}else m||X3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ul(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(hwe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&VG(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const m=this.path[f];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(J3);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Q3);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(cwe),this.nodes.forEach(swe),this.nodes.forEach(owe)):this.nodes.forEach(Q3),this.clearAllSnapshots();const l=ci.now();Tr.delta=ha(0,1e3/60,l-Tr.timestamp),Tr.timestamp=l,Tr.isProcessing=!0,DS.update.process(Tr),DS.preRender.process(Tr),DS.render.process(Tr),Tr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,uP.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(uwe),this.sharedNodes.forEach(mwe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,fn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){fn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Xr(this.snapshot.measuredBox.x)&&!Xr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Pn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!kG(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||Yu(this.latestValues)||f)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return o&&(u=this.removeTransform(u)),vwe(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return Pn();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(xwe))){const{scroll:f}=this.root;f&&(gf(l.x,f.offset.x),gf(l.y,f.offset.y))}return l}removeElementScroll(o){var u;const l=Pn();if(ns(l,o),(u=this.scroll)!=null&&u.wasRoot)return l;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:m,options:v}=f;f!==this.root&&m&&v.layoutScroll&&(m.wasRoot&&ns(l,o),gf(l.x,m.offset.x),gf(l.y,m.offset.y))}return l}applyTransform(o,l=!1){const u=Pn();ns(u,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&yf(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Yu(f.latestValues)&&yf(u,f.latestValues)}return Yu(this.latestValues)&&yf(u,this.latestValues),u}removeTransform(o){const l=Pn();ns(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!Yu(d.latestValues))continue;A1(d.latestValues)&&d.updateSnapshot();const f=Pn(),m=d.measurePageBox();ns(f,m),$3(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return Yu(this.latestValues)&&$3(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options=xe(Y(Y({},this.options),o),{crossfade:o.crossfade!==void 0?o.crossfade:!0})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Tr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var v;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=Tr.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pn(),this.relativeTargetOrigin=Pn(),Bp(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),ns(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Pn(),this.targetWithTransforms=Pn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Sbe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ns(this.target,this.layout.layoutBox),pG(this.target,this.targetDelta)):ns(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pn(),this.relativeTargetOrigin=Pn(),Bp(this.relativeTargetOrigin,this.target,b.target),ns(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||A1(this.parent.latestValues)||mG(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var T;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Tr.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;ns(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,v=this.treeScale.y;Lxe(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Pn());const{target:b}=o;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(B3(this.prevProjectionDelta.x,this.projectionDelta.x),B3(this.prevProjectionDelta.y,this.projectionDelta.y)),jp(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==v||!Y3(this.projectionDelta.x,this.prevProjectionDelta.x)||!Y3(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=vf(),this.projectionDelta=vf(),this.projectionDeltaWithTransform=vf()}setAnimationOrigin(o,l=!1){const u=this.snapshot,d=u?u.latestValues:{},f=Y({},this.latestValues),m=vf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const v=Pn(),b=u?u.source:void 0,T=this.layout?this.layout.source:void 0,S=b!==T,A=this.getStack(),C=!A||A.members.length<=1,D=!!(S&&!C&&this.options.crossfade===!0&&!this.path.some(gwe));this.animationProgress=0;let N;this.mixTargetDelta=F=>{const V=F/1e3;Z3(m.x,o.x,V),Z3(m.y,o.y,V),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Bp(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),pwe(this.relativeTarget,this.relativeTargetOrigin,v,V),N&&ewe(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=Pn()),ns(N,this.relativeTarget)),S&&(this.animationValues=f,Wbe(f,d,this.latestValues,V,D,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,u,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Ul(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=fn.update(()=>{P0.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Hf(0)),this.currentAnimation=zbe(this.motionValue,[0,1e3],xe(Y({},o),{velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),o.onUpdate&&o.onUpdate(f)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(rwe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:u,layout:d,latestValues:f}=o;if(!(!l||!u||!d)){if(this!==o&&this.layout&&d&&UG(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||Pn();const m=Xr(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+m;const v=Xr(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+v}ns(l,u),yf(l,f),jp(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new twe),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const d={};u.z&&GS("z",o,d,this.animationValues);for(let f=0;f<$S.length;f++)GS(`rotate${$S[f]}`,o,d,this.animationValues),GS(`skew${$S[f]}`,o,d,this.animationValues);o.render();for(const f in d)o.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);o.scheduleRender()}applyProjectionStyles(o,l){var T,S;if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=R0(l==null?void 0:l.pointerEvents)||"",o.transform=u?u(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=R0(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Yu(this.latestValues)&&(o.transform=u?u({},""):"none",this.hasProjected=!1);return}o.visibility="";const f=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=nwe(this.projectionDeltaWithTransform,this.treeScale,f);u&&(m=u(f,m)),o.transform=m;const{x:v,y:b}=this.projectionDelta;o.transformOrigin=`${v.origin*100}% ${b.origin*100}% 0`,d.animationValues?o.opacity=d===this?(S=(T=f.opacity)!=null?T:this.latestValues.opacity)!=null?S:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:o.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const A in bg){if(f[A]===void 0)continue;const{correct:C,applyTo:D,isCSSVariable:N}=bg[A],F=m==="none"?f[A]:C(f[A],d);if(D){const V=D.length;for(let B=0;B<V;B++)o[D[B]]=F}else N?this.options.visualElement.renderState.vars[A]=F:o[A]=F}this.options.layoutId&&(o.pointerEvents=d===this?R0(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(J3),this.root.sharedNodes.clear()}}}function swe(t){t.updateLayout()}function owe(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?is(m=>{const v=o?e.measuredBox[m]:e.layoutBox[m],b=Xr(v);v.min=r[m].min,v.max=v.min+b}):UG(s,e.layoutBox,r)&&is(m=>{const v=o?e.measuredBox[m]:e.layoutBox[m],b=Xr(r[m]);v.max=v.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+b)});const l=vf();jp(l,r,e.layoutBox);const u=vf();o?jp(u,t.applyTransform(i,!0),e.measuredBox):jp(u,r,e.layoutBox);const d=!kG(l);let f=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:v,layout:b}=m;if(v&&b){const T=Pn();Bp(T,e.layoutBox,v.layoutBox);const S=Pn();Bp(S,r,b.layoutBox),OG(T,S)||(f=!0),m.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=T,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function awe(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function lwe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function uwe(t){t.clearSnapshot()}function J3(t){t.clearMeasurements()}function Q3(t){t.isLayoutDirty=!1}function cwe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function X3(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function dwe(t){t.resolveTargetDelta()}function fwe(t){t.calcProjection()}function hwe(t){t.resetSkewAndRotation()}function mwe(t){t.removeLeadSnapshot()}function Z3(t,e,n){t.translate=yn(e.translate,0,n),t.scale=yn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function eU(t,e,n,r){t.min=yn(e.min,n.min,r),t.max=yn(e.max,n.max,r)}function pwe(t,e,n,r){eU(t.x,e.x,n.x,r),eU(t.y,e.y,n.y,r)}function gwe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const ywe={duration:.45,ease:[.4,0,.1,1]},tU=t=>typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),nU=tU("applewebkit/")&&!tU("chrome/")?Math.round:us;function rU(t){t.min=nU(t.min),t.max=nU(t.max)}function vwe(t){rU(t.x),rU(t.y)}function UG(t,e,n){return t==="position"||t==="preserve-aspect"&&!Ebe(W3(e),W3(n),.2)}function xwe(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const bwe=LG({attachResizeListener:(t,e)=>wg(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),HS={current:void 0},FG=LG({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!HS.current){const t=new bwe({});t.mount(window),t.setOptions({layoutScroll:!0}),HS.current=t}return HS.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),wwe={pan:{Feature:Fbe},drag:{Feature:Ube,ProjectionNode:FG,MeasureLayout:NG}};function iU(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&fn.postRender(()=>s(e,ay(e)))}class _we extends iu{mount(){const{current:e}=this.node;e&&(this.unmount=G0e(e,(n,r)=>(iU(this.node,r,"Start"),i=>iU(this.node,i,"End"))))}unmount(){}}class Twe extends iu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(n){e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=iy(wg(this.node.current,"focus",()=>this.onFocus()),wg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function sU(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&fn.postRender(()=>s(e,ay(e)))}class Ewe extends iu{mount(){const{current:e}=this.node;e&&(this.unmount=Y0e(e,(n,r)=>(sU(this.node,r,"Start"),(i,{success:s})=>sU(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const D1=new WeakMap,KS=new WeakMap,Swe=t=>{const e=D1.get(t.target);e&&e(t)},Awe=t=>{t.forEach(Swe)};function Cwe(n){var r=n,{root:t}=r,e=kr(r,["root"]);const i=t||document;KS.has(i)||KS.set(i,{});const s=KS.get(i),o=JSON.stringify(e);return s[o]||(s[o]=new IntersectionObserver(Awe,Y({root:t},e))),s[o]}function Iwe(t,e,n){const r=Cwe(e);return D1.set(t,n),r.observe(t),()=>{D1.delete(t),r.unobserve(t)}}const Rwe={some:0,all:1};class Pwe extends iu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Rwe[i]},l=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:m}=this.node.getProps(),v=d?f:m;v&&v(u)};return Iwe(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver=="undefined")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Nwe(e,n))&&this.startObserver()}unmount(){}}function Nwe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Mwe={inView:{Feature:Pwe},tap:{Feature:Ewe},focus:{Feature:Twe},hover:{Feature:_we}},Dwe={layout:{ProjectionNode:FG,MeasureLayout:NG}},kwe=Y(Y(Y(Y({},vbe),Mwe),wwe),Dwe),ot=kxe(kwe,Kxe),wP="-",Owe=t=>{const e=Lwe(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(wP);return l[0]===""&&l.length!==1&&l.shift(),jG(l,e)||Vwe(o)},getConflictingClassGroupIds:(o,l)=>{const u=n[o]||[];return l&&r[o]?[...u,...r[o]]:u}}},jG=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?jG(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(wP);return(o=e.validators.find(({validator:l})=>l(s)))==null?void 0:o.classGroupId},oU=/^\[(.+)\]$/,Vwe=t=>{if(oU.test(t)){const e=oU.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Lwe=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)k1(n[i],r,i,e);return r},k1=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:aU(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(Uwe(i)){k1(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{k1(o,aU(e,s),n,r)})})},aU=(t,e)=>{let n=t;return e.split(wP).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Uwe=t=>t.isThemeGetter,Fwe=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},O1="!",V1=":",jwe=V1.length,Bwe=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let o=0,l=0,u=0,d;for(let T=0;T<i.length;T++){let S=i[T];if(o===0&&l===0){if(S===V1){s.push(i.slice(u,T)),u=T+jwe;continue}if(S==="/"){d=T;continue}}S==="["?o++:S==="]"?o--:S==="("?l++:S===")"&&l--}const f=s.length===0?i:i.substring(u),m=qwe(f),v=m!==f,b=d&&d>u?d-u:void 0;return{modifiers:s,hasImportantModifier:v,baseClassName:m,maybePostfixModifierPosition:b}};if(e){const i=e+V1,s=r;r=o=>o.startsWith(i)?s(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},qwe=t=>t.endsWith(O1)?t.substring(0,t.length-1):t.startsWith(O1)?t.substring(1):t,zwe=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(o=>{o[0]==="["||e[o]?(i.push(...s.sort(),o),s=[]):s.push(o)}),i.push(...s.sort()),i}},$we=t=>Y({cache:Fwe(t.cacheSize),parseClassName:Bwe(t),sortModifiers:zwe(t)},Owe(t)),Gwe=/\s+/,Hwe=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],l=t.trim().split(Gwe);let u="";for(let d=l.length-1;d>=0;d-=1){const f=l[d],{isExternal:m,modifiers:v,hasImportantModifier:b,baseClassName:T,maybePostfixModifierPosition:S}=n(f);if(m){u=f+(u.length>0?" "+u:u);continue}let A=!!S,C=r(A?T.substring(0,S):T);if(!C){if(!A){u=f+(u.length>0?" "+u:u);continue}if(C=r(T),!C){u=f+(u.length>0?" "+u:u);continue}A=!1}const D=s(v).join(":"),N=b?D+O1:D,F=N+C;if(o.includes(F))continue;o.push(F);const V=i(C,A);for(let B=0;B<V.length;++B){const k=V[B];o.push(N+k)}u=f+(u.length>0?" "+u:u)}return u};function Kwe(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=BG(e))&&(r&&(r+=" "),r+=n);return r}const BG=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=BG(t[r]))&&(n&&(n+=" "),n+=e);return n};function Wwe(t,...e){let n,r,i,s=o;function o(u){const d=e.reduce((f,m)=>m(f),t());return n=$we(d),r=n.cache.get,i=n.cache.set,s=l,l(u)}function l(u){const d=r(u);if(d)return d;const f=Hwe(u,n);return i(u,f),f}return function(){return s(Kwe.apply(null,arguments))}}const Qn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},qG=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,zG=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Ywe=/^\d+\/\d+$/,Jwe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Qwe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Xwe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Zwe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,e_e=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Kd=t=>Ywe.test(t),ft=t=>!!t&&!Number.isNaN(Number(t)),fl=t=>!!t&&Number.isInteger(Number(t)),WS=t=>t.endsWith("%")&&ft(t.slice(0,-1)),Qo=t=>Jwe.test(t),t_e=()=>!0,n_e=t=>Qwe.test(t)&&!Xwe.test(t),$G=()=>!1,r_e=t=>Zwe.test(t),i_e=t=>e_e.test(t),s_e=t=>!je(t)&&!Be(t),o_e=t=>Nh(t,KG,$G),je=t=>qG.test(t),zu=t=>Nh(t,WG,n_e),YS=t=>Nh(t,d_e,ft),lU=t=>Nh(t,GG,$G),a_e=t=>Nh(t,HG,i_e),c0=t=>Nh(t,YG,r_e),Be=t=>zG.test(t),up=t=>Mh(t,WG),l_e=t=>Mh(t,f_e),uU=t=>Mh(t,GG),u_e=t=>Mh(t,KG),c_e=t=>Mh(t,HG),d0=t=>Mh(t,YG,!0),Nh=(t,e,n)=>{const r=qG.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Mh=(t,e,n=!1)=>{const r=zG.exec(t);return r?r[1]?e(r[1]):n:!1},GG=t=>t==="position"||t==="percentage",HG=t=>t==="image"||t==="url",KG=t=>t==="length"||t==="size"||t==="bg-size",WG=t=>t==="length",d_e=t=>t==="number",f_e=t=>t==="family-name",YG=t=>t==="shadow",h_e=()=>{const t=Qn("color"),e=Qn("font"),n=Qn("text"),r=Qn("font-weight"),i=Qn("tracking"),s=Qn("leading"),o=Qn("breakpoint"),l=Qn("container"),u=Qn("spacing"),d=Qn("radius"),f=Qn("shadow"),m=Qn("inset-shadow"),v=Qn("text-shadow"),b=Qn("drop-shadow"),T=Qn("blur"),S=Qn("perspective"),A=Qn("aspect"),C=Qn("ease"),D=Qn("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],V=()=>[...F(),Be,je],B=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],R=()=>[Be,je,u],O=()=>[Kd,"full","auto",...R()],j=()=>[fl,"none","subgrid",Be,je],q=()=>["auto",{span:["full",fl,Be,je]},fl,Be,je],H=()=>[fl,"auto",Be,je],G=()=>["auto","min","max","fr",Be,je],he=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],we=()=>["start","end","center","stretch","center-safe","end-safe"],Q=()=>["auto",...R()],ae=()=>[Kd,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...R()],Z=()=>[t,Be,je],Ee=()=>[...F(),uU,lU,{position:[Be,je]}],K=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ue=()=>["auto","cover","contain",u_e,o_e,{size:[Be,je]}],ce=()=>[WS,up,zu],fe=()=>["","none","full",d,Be,je],Ce=()=>["",ft,up,zu],Ve=()=>["solid","dashed","dotted","double"],$e=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],_e=()=>[ft,WS,uU,lU],ct=()=>["","none",T,Be,je],Ae=()=>["none",ft,Be,je],Se=()=>["none",ft,Be,je],ke=()=>[ft,Be,je],de=()=>[Kd,"full",...R()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Qo],breakpoint:[Qo],color:[t_e],container:[Qo],"drop-shadow":[Qo],ease:["in","out","in-out"],font:[s_e],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Qo],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Qo],shadow:[Qo],spacing:["px",ft],text:[Qo],"text-shadow":[Qo],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Kd,je,Be,A]}],container:["container"],columns:[{columns:[ft,je,Be,l]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:V()}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:O()}],"inset-x":[{"inset-x":O()}],"inset-y":[{"inset-y":O()}],start:[{start:O()}],end:[{end:O()}],top:[{top:O()}],right:[{right:O()}],bottom:[{bottom:O()}],left:[{left:O()}],visibility:["visible","invisible","collapse"],z:[{z:[fl,"auto",Be,je]}],basis:[{basis:[Kd,"full","auto",l,...R()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ft,Kd,"auto","initial","none",je]}],grow:[{grow:["",ft,Be,je]}],shrink:[{shrink:["",ft,Be,je]}],order:[{order:[fl,"first","last","none",Be,je]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:q()}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:q()}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":G()}],"auto-rows":[{"auto-rows":G()}],gap:[{gap:R()}],"gap-x":[{"gap-x":R()}],"gap-y":[{"gap-y":R()}],"justify-content":[{justify:[...he(),"normal"]}],"justify-items":[{"justify-items":[...we(),"normal"]}],"justify-self":[{"justify-self":["auto",...we()]}],"align-content":[{content:["normal",...he()]}],"align-items":[{items:[...we(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...we(),{baseline:["","last"]}]}],"place-content":[{"place-content":he()}],"place-items":[{"place-items":[...we(),"baseline"]}],"place-self":[{"place-self":["auto",...we()]}],p:[{p:R()}],px:[{px:R()}],py:[{py:R()}],ps:[{ps:R()}],pe:[{pe:R()}],pt:[{pt:R()}],pr:[{pr:R()}],pb:[{pb:R()}],pl:[{pl:R()}],m:[{m:Q()}],mx:[{mx:Q()}],my:[{my:Q()}],ms:[{ms:Q()}],me:[{me:Q()}],mt:[{mt:Q()}],mr:[{mr:Q()}],mb:[{mb:Q()}],ml:[{ml:Q()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:ae()}],w:[{w:[l,"screen",...ae()]}],"min-w":[{"min-w":[l,"screen","none",...ae()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...ae()]}],h:[{h:["screen","lh",...ae()]}],"min-h":[{"min-h":["screen","lh","none",...ae()]}],"max-h":[{"max-h":["screen","lh",...ae()]}],"font-size":[{text:["base",n,up,zu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Be,YS]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",WS,je]}],"font-family":[{font:[l_e,je,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Be,je]}],"line-clamp":[{"line-clamp":[ft,"none",Be,YS]}],leading:[{leading:[s,...R()]}],"list-image":[{"list-image":["none",Be,je]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Be,je]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Z()}],"text-color":[{text:Z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ve(),"wavy"]}],"text-decoration-thickness":[{decoration:[ft,"from-font","auto",Be,zu]}],"text-decoration-color":[{decoration:Z()}],"underline-offset":[{"underline-offset":[ft,"auto",Be,je]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Be,je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Be,je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ee()}],"bg-repeat":[{bg:K()}],"bg-size":[{bg:ue()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},fl,Be,je],radial:["",Be,je],conic:[fl,Be,je]},c_e,a_e]}],"bg-color":[{bg:Z()}],"gradient-from-pos":[{from:ce()}],"gradient-via-pos":[{via:ce()}],"gradient-to-pos":[{to:ce()}],"gradient-from":[{from:Z()}],"gradient-via":[{via:Z()}],"gradient-to":[{to:Z()}],rounded:[{rounded:fe()}],"rounded-s":[{"rounded-s":fe()}],"rounded-e":[{"rounded-e":fe()}],"rounded-t":[{"rounded-t":fe()}],"rounded-r":[{"rounded-r":fe()}],"rounded-b":[{"rounded-b":fe()}],"rounded-l":[{"rounded-l":fe()}],"rounded-ss":[{"rounded-ss":fe()}],"rounded-se":[{"rounded-se":fe()}],"rounded-ee":[{"rounded-ee":fe()}],"rounded-es":[{"rounded-es":fe()}],"rounded-tl":[{"rounded-tl":fe()}],"rounded-tr":[{"rounded-tr":fe()}],"rounded-br":[{"rounded-br":fe()}],"rounded-bl":[{"rounded-bl":fe()}],"border-w":[{border:Ce()}],"border-w-x":[{"border-x":Ce()}],"border-w-y":[{"border-y":Ce()}],"border-w-s":[{"border-s":Ce()}],"border-w-e":[{"border-e":Ce()}],"border-w-t":[{"border-t":Ce()}],"border-w-r":[{"border-r":Ce()}],"border-w-b":[{"border-b":Ce()}],"border-w-l":[{"border-l":Ce()}],"divide-x":[{"divide-x":Ce()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Ce()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ve(),"hidden","none"]}],"divide-style":[{divide:[...Ve(),"hidden","none"]}],"border-color":[{border:Z()}],"border-color-x":[{"border-x":Z()}],"border-color-y":[{"border-y":Z()}],"border-color-s":[{"border-s":Z()}],"border-color-e":[{"border-e":Z()}],"border-color-t":[{"border-t":Z()}],"border-color-r":[{"border-r":Z()}],"border-color-b":[{"border-b":Z()}],"border-color-l":[{"border-l":Z()}],"divide-color":[{divide:Z()}],"outline-style":[{outline:[...Ve(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ft,Be,je]}],"outline-w":[{outline:["",ft,up,zu]}],"outline-color":[{outline:Z()}],shadow:[{shadow:["","none",f,d0,c0]}],"shadow-color":[{shadow:Z()}],"inset-shadow":[{"inset-shadow":["none",m,d0,c0]}],"inset-shadow-color":[{"inset-shadow":Z()}],"ring-w":[{ring:Ce()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Z()}],"ring-offset-w":[{"ring-offset":[ft,zu]}],"ring-offset-color":[{"ring-offset":Z()}],"inset-ring-w":[{"inset-ring":Ce()}],"inset-ring-color":[{"inset-ring":Z()}],"text-shadow":[{"text-shadow":["none",v,d0,c0]}],"text-shadow-color":[{"text-shadow":Z()}],opacity:[{opacity:[ft,Be,je]}],"mix-blend":[{"mix-blend":[...$e(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":$e()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ft]}],"mask-image-linear-from-pos":[{"mask-linear-from":_e()}],"mask-image-linear-to-pos":[{"mask-linear-to":_e()}],"mask-image-linear-from-color":[{"mask-linear-from":Z()}],"mask-image-linear-to-color":[{"mask-linear-to":Z()}],"mask-image-t-from-pos":[{"mask-t-from":_e()}],"mask-image-t-to-pos":[{"mask-t-to":_e()}],"mask-image-t-from-color":[{"mask-t-from":Z()}],"mask-image-t-to-color":[{"mask-t-to":Z()}],"mask-image-r-from-pos":[{"mask-r-from":_e()}],"mask-image-r-to-pos":[{"mask-r-to":_e()}],"mask-image-r-from-color":[{"mask-r-from":Z()}],"mask-image-r-to-color":[{"mask-r-to":Z()}],"mask-image-b-from-pos":[{"mask-b-from":_e()}],"mask-image-b-to-pos":[{"mask-b-to":_e()}],"mask-image-b-from-color":[{"mask-b-from":Z()}],"mask-image-b-to-color":[{"mask-b-to":Z()}],"mask-image-l-from-pos":[{"mask-l-from":_e()}],"mask-image-l-to-pos":[{"mask-l-to":_e()}],"mask-image-l-from-color":[{"mask-l-from":Z()}],"mask-image-l-to-color":[{"mask-l-to":Z()}],"mask-image-x-from-pos":[{"mask-x-from":_e()}],"mask-image-x-to-pos":[{"mask-x-to":_e()}],"mask-image-x-from-color":[{"mask-x-from":Z()}],"mask-image-x-to-color":[{"mask-x-to":Z()}],"mask-image-y-from-pos":[{"mask-y-from":_e()}],"mask-image-y-to-pos":[{"mask-y-to":_e()}],"mask-image-y-from-color":[{"mask-y-from":Z()}],"mask-image-y-to-color":[{"mask-y-to":Z()}],"mask-image-radial":[{"mask-radial":[Be,je]}],"mask-image-radial-from-pos":[{"mask-radial-from":_e()}],"mask-image-radial-to-pos":[{"mask-radial-to":_e()}],"mask-image-radial-from-color":[{"mask-radial-from":Z()}],"mask-image-radial-to-color":[{"mask-radial-to":Z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":F()}],"mask-image-conic-pos":[{"mask-conic":[ft]}],"mask-image-conic-from-pos":[{"mask-conic-from":_e()}],"mask-image-conic-to-pos":[{"mask-conic-to":_e()}],"mask-image-conic-from-color":[{"mask-conic-from":Z()}],"mask-image-conic-to-color":[{"mask-conic-to":Z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ee()}],"mask-repeat":[{mask:K()}],"mask-size":[{mask:ue()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Be,je]}],filter:[{filter:["","none",Be,je]}],blur:[{blur:ct()}],brightness:[{brightness:[ft,Be,je]}],contrast:[{contrast:[ft,Be,je]}],"drop-shadow":[{"drop-shadow":["","none",b,d0,c0]}],"drop-shadow-color":[{"drop-shadow":Z()}],grayscale:[{grayscale:["",ft,Be,je]}],"hue-rotate":[{"hue-rotate":[ft,Be,je]}],invert:[{invert:["",ft,Be,je]}],saturate:[{saturate:[ft,Be,je]}],sepia:[{sepia:["",ft,Be,je]}],"backdrop-filter":[{"backdrop-filter":["","none",Be,je]}],"backdrop-blur":[{"backdrop-blur":ct()}],"backdrop-brightness":[{"backdrop-brightness":[ft,Be,je]}],"backdrop-contrast":[{"backdrop-contrast":[ft,Be,je]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ft,Be,je]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ft,Be,je]}],"backdrop-invert":[{"backdrop-invert":["",ft,Be,je]}],"backdrop-opacity":[{"backdrop-opacity":[ft,Be,je]}],"backdrop-saturate":[{"backdrop-saturate":[ft,Be,je]}],"backdrop-sepia":[{"backdrop-sepia":["",ft,Be,je]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Be,je]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ft,"initial",Be,je]}],ease:[{ease:["linear","initial",C,Be,je]}],delay:[{delay:[ft,Be,je]}],animate:[{animate:["none",D,Be,je]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,Be,je]}],"perspective-origin":[{"perspective-origin":V()}],rotate:[{rotate:Ae()}],"rotate-x":[{"rotate-x":Ae()}],"rotate-y":[{"rotate-y":Ae()}],"rotate-z":[{"rotate-z":Ae()}],scale:[{scale:Se()}],"scale-x":[{"scale-x":Se()}],"scale-y":[{"scale-y":Se()}],"scale-z":[{"scale-z":Se()}],"scale-3d":["scale-3d"],skew:[{skew:ke()}],"skew-x":[{"skew-x":ke()}],"skew-y":[{"skew-y":ke()}],transform:[{transform:[Be,je,"","none","gpu","cpu"]}],"transform-origin":[{origin:V()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:de()}],"translate-x":[{"translate-x":de()}],"translate-y":[{"translate-y":de()}],"translate-z":[{"translate-z":de()}],"translate-none":["translate-none"],accent:[{accent:Z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Be,je]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Be,je]}],fill:[{fill:["none",...Z()]}],"stroke-w":[{stroke:[ft,up,zu,YS]}],stroke:[{stroke:["none",...Z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},m_e=Wwe(h_e);function Et(...t){return m_e(Gt(t))}var cU=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pl,JG;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,R){function O(){}O.prototype=R.prototype,k.D=R.prototype,k.prototype=new O,k.prototype.constructor=k,k.C=function(j,q,H){for(var G=Array(arguments.length-2),he=2;he<arguments.length;he++)G[he-2]=arguments[he];return R.prototype[q].apply(j,G)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,R,O){O||(O=0);var j=Array(16);if(typeof R=="string")for(var q=0;16>q;++q)j[q]=R.charCodeAt(O++)|R.charCodeAt(O++)<<8|R.charCodeAt(O++)<<16|R.charCodeAt(O++)<<24;else for(q=0;16>q;++q)j[q]=R[O++]|R[O++]<<8|R[O++]<<16|R[O++]<<24;R=k.g[0],O=k.g[1],q=k.g[2];var H=k.g[3],G=R+(H^O&(q^H))+j[0]+3614090360&4294967295;R=O+(G<<7&4294967295|G>>>25),G=H+(q^R&(O^q))+j[1]+3905402710&4294967295,H=R+(G<<12&4294967295|G>>>20),G=q+(O^H&(R^O))+j[2]+606105819&4294967295,q=H+(G<<17&4294967295|G>>>15),G=O+(R^q&(H^R))+j[3]+3250441966&4294967295,O=q+(G<<22&4294967295|G>>>10),G=R+(H^O&(q^H))+j[4]+4118548399&4294967295,R=O+(G<<7&4294967295|G>>>25),G=H+(q^R&(O^q))+j[5]+1200080426&4294967295,H=R+(G<<12&4294967295|G>>>20),G=q+(O^H&(R^O))+j[6]+2821735955&4294967295,q=H+(G<<17&4294967295|G>>>15),G=O+(R^q&(H^R))+j[7]+4249261313&4294967295,O=q+(G<<22&4294967295|G>>>10),G=R+(H^O&(q^H))+j[8]+1770035416&4294967295,R=O+(G<<7&4294967295|G>>>25),G=H+(q^R&(O^q))+j[9]+2336552879&4294967295,H=R+(G<<12&4294967295|G>>>20),G=q+(O^H&(R^O))+j[10]+4294925233&4294967295,q=H+(G<<17&4294967295|G>>>15),G=O+(R^q&(H^R))+j[11]+2304563134&4294967295,O=q+(G<<22&4294967295|G>>>10),G=R+(H^O&(q^H))+j[12]+1804603682&4294967295,R=O+(G<<7&4294967295|G>>>25),G=H+(q^R&(O^q))+j[13]+4254626195&4294967295,H=R+(G<<12&4294967295|G>>>20),G=q+(O^H&(R^O))+j[14]+2792965006&4294967295,q=H+(G<<17&4294967295|G>>>15),G=O+(R^q&(H^R))+j[15]+1236535329&4294967295,O=q+(G<<22&4294967295|G>>>10),G=R+(q^H&(O^q))+j[1]+4129170786&4294967295,R=O+(G<<5&4294967295|G>>>27),G=H+(O^q&(R^O))+j[6]+3225465664&4294967295,H=R+(G<<9&4294967295|G>>>23),G=q+(R^O&(H^R))+j[11]+643717713&4294967295,q=H+(G<<14&4294967295|G>>>18),G=O+(H^R&(q^H))+j[0]+3921069994&4294967295,O=q+(G<<20&4294967295|G>>>12),G=R+(q^H&(O^q))+j[5]+3593408605&4294967295,R=O+(G<<5&4294967295|G>>>27),G=H+(O^q&(R^O))+j[10]+38016083&4294967295,H=R+(G<<9&4294967295|G>>>23),G=q+(R^O&(H^R))+j[15]+3634488961&4294967295,q=H+(G<<14&4294967295|G>>>18),G=O+(H^R&(q^H))+j[4]+3889429448&4294967295,O=q+(G<<20&4294967295|G>>>12),G=R+(q^H&(O^q))+j[9]+568446438&4294967295,R=O+(G<<5&4294967295|G>>>27),G=H+(O^q&(R^O))+j[14]+3275163606&4294967295,H=R+(G<<9&4294967295|G>>>23),G=q+(R^O&(H^R))+j[3]+4107603335&4294967295,q=H+(G<<14&4294967295|G>>>18),G=O+(H^R&(q^H))+j[8]+1163531501&4294967295,O=q+(G<<20&4294967295|G>>>12),G=R+(q^H&(O^q))+j[13]+2850285829&4294967295,R=O+(G<<5&4294967295|G>>>27),G=H+(O^q&(R^O))+j[2]+4243563512&4294967295,H=R+(G<<9&4294967295|G>>>23),G=q+(R^O&(H^R))+j[7]+1735328473&4294967295,q=H+(G<<14&4294967295|G>>>18),G=O+(H^R&(q^H))+j[12]+2368359562&4294967295,O=q+(G<<20&4294967295|G>>>12),G=R+(O^q^H)+j[5]+4294588738&4294967295,R=O+(G<<4&4294967295|G>>>28),G=H+(R^O^q)+j[8]+2272392833&4294967295,H=R+(G<<11&4294967295|G>>>21),G=q+(H^R^O)+j[11]+1839030562&4294967295,q=H+(G<<16&4294967295|G>>>16),G=O+(q^H^R)+j[14]+4259657740&4294967295,O=q+(G<<23&4294967295|G>>>9),G=R+(O^q^H)+j[1]+2763975236&4294967295,R=O+(G<<4&4294967295|G>>>28),G=H+(R^O^q)+j[4]+1272893353&4294967295,H=R+(G<<11&4294967295|G>>>21),G=q+(H^R^O)+j[7]+4139469664&4294967295,q=H+(G<<16&4294967295|G>>>16),G=O+(q^H^R)+j[10]+3200236656&4294967295,O=q+(G<<23&4294967295|G>>>9),G=R+(O^q^H)+j[13]+681279174&4294967295,R=O+(G<<4&4294967295|G>>>28),G=H+(R^O^q)+j[0]+3936430074&4294967295,H=R+(G<<11&4294967295|G>>>21),G=q+(H^R^O)+j[3]+3572445317&4294967295,q=H+(G<<16&4294967295|G>>>16),G=O+(q^H^R)+j[6]+76029189&4294967295,O=q+(G<<23&4294967295|G>>>9),G=R+(O^q^H)+j[9]+3654602809&4294967295,R=O+(G<<4&4294967295|G>>>28),G=H+(R^O^q)+j[12]+3873151461&4294967295,H=R+(G<<11&4294967295|G>>>21),G=q+(H^R^O)+j[15]+530742520&4294967295,q=H+(G<<16&4294967295|G>>>16),G=O+(q^H^R)+j[2]+3299628645&4294967295,O=q+(G<<23&4294967295|G>>>9),G=R+(q^(O|~H))+j[0]+4096336452&4294967295,R=O+(G<<6&4294967295|G>>>26),G=H+(O^(R|~q))+j[7]+1126891415&4294967295,H=R+(G<<10&4294967295|G>>>22),G=q+(R^(H|~O))+j[14]+2878612391&4294967295,q=H+(G<<15&4294967295|G>>>17),G=O+(H^(q|~R))+j[5]+4237533241&4294967295,O=q+(G<<21&4294967295|G>>>11),G=R+(q^(O|~H))+j[12]+1700485571&4294967295,R=O+(G<<6&4294967295|G>>>26),G=H+(O^(R|~q))+j[3]+2399980690&4294967295,H=R+(G<<10&4294967295|G>>>22),G=q+(R^(H|~O))+j[10]+4293915773&4294967295,q=H+(G<<15&4294967295|G>>>17),G=O+(H^(q|~R))+j[1]+2240044497&4294967295,O=q+(G<<21&4294967295|G>>>11),G=R+(q^(O|~H))+j[8]+1873313359&4294967295,R=O+(G<<6&4294967295|G>>>26),G=H+(O^(R|~q))+j[15]+4264355552&4294967295,H=R+(G<<10&4294967295|G>>>22),G=q+(R^(H|~O))+j[6]+2734768916&4294967295,q=H+(G<<15&4294967295|G>>>17),G=O+(H^(q|~R))+j[13]+1309151649&4294967295,O=q+(G<<21&4294967295|G>>>11),G=R+(q^(O|~H))+j[4]+4149444226&4294967295,R=O+(G<<6&4294967295|G>>>26),G=H+(O^(R|~q))+j[11]+3174756917&4294967295,H=R+(G<<10&4294967295|G>>>22),G=q+(R^(H|~O))+j[2]+718787259&4294967295,q=H+(G<<15&4294967295|G>>>17),G=O+(H^(q|~R))+j[9]+3951481745&4294967295,k.g[0]=k.g[0]+R&4294967295,k.g[1]=k.g[1]+(q+(G<<21&4294967295|G>>>11))&4294967295,k.g[2]=k.g[2]+q&4294967295,k.g[3]=k.g[3]+H&4294967295}r.prototype.u=function(k,R){R===void 0&&(R=k.length);for(var O=R-this.blockSize,j=this.B,q=this.h,H=0;H<R;){if(q==0)for(;H<=O;)i(this,k,H),H+=this.blockSize;if(typeof k=="string"){for(;H<R;)if(j[q++]=k.charCodeAt(H++),q==this.blockSize){i(this,j),q=0;break}}else for(;H<R;)if(j[q++]=k[H++],q==this.blockSize){i(this,j),q=0;break}}this.h=q,this.o+=R},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var R=1;R<k.length-8;++R)k[R]=0;var O=8*this.o;for(R=k.length-8;R<k.length;++R)k[R]=O&255,O/=256;for(this.u(k),k=Array(16),R=O=0;4>R;++R)for(var j=0;32>j;j+=8)k[O++]=this.g[R]>>>j&255;return k};function s(k,R){var O=l;return Object.prototype.hasOwnProperty.call(O,k)?O[k]:O[k]=R(k)}function o(k,R){this.h=R;for(var O=[],j=!0,q=k.length-1;0<=q;q--){var H=k[q]|0;j&&H==R||(O[q]=H,j=!1)}this.g=O}var l={};function u(k){return-128<=k&&128>k?s(k,function(R){return new o([R|0],0>R?-1:0)}):new o([k|0],0>k?-1:0)}function d(k){if(isNaN(k)||!isFinite(k))return m;if(0>k)return A(d(-k));for(var R=[],O=1,j=0;k>=O;j++)R[j]=k/O|0,O*=4294967296;return new o(R,0)}function f(k,R){if(k.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(k.charAt(0)=="-")return A(f(k.substring(1),R));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=d(Math.pow(R,8)),j=m,q=0;q<k.length;q+=8){var H=Math.min(8,k.length-q),G=parseInt(k.substring(q,q+H),R);8>H?(H=d(Math.pow(R,H)),j=j.j(H).add(d(G))):(j=j.j(O),j=j.add(d(G)))}return j}var m=u(0),v=u(1),b=u(16777216);t=o.prototype,t.m=function(){if(S(this))return-A(this).m();for(var k=0,R=1,O=0;O<this.g.length;O++){var j=this.i(O);k+=(0<=j?j:4294967296+j)*R,R*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(T(this))return"0";if(S(this))return"-"+A(this).toString(k);for(var R=d(Math.pow(k,6)),O=this,j="";;){var q=F(O,R).g;O=C(O,q.j(R));var H=((0<O.g.length?O.g[0]:O.h)>>>0).toString(k);if(O=q,T(O))return H+j;for(;6>H.length;)H="0"+H;j=H+j}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function T(k){if(k.h!=0)return!1;for(var R=0;R<k.g.length;R++)if(k.g[R]!=0)return!1;return!0}function S(k){return k.h==-1}t.l=function(k){return k=C(this,k),S(k)?-1:T(k)?0:1};function A(k){for(var R=k.g.length,O=[],j=0;j<R;j++)O[j]=~k.g[j];return new o(O,~k.h).add(v)}t.abs=function(){return S(this)?A(this):this},t.add=function(k){for(var R=Math.max(this.g.length,k.g.length),O=[],j=0,q=0;q<=R;q++){var H=j+(this.i(q)&65535)+(k.i(q)&65535),G=(H>>>16)+(this.i(q)>>>16)+(k.i(q)>>>16);j=G>>>16,H&=65535,G&=65535,O[q]=G<<16|H}return new o(O,O[O.length-1]&-2147483648?-1:0)};function C(k,R){return k.add(A(R))}t.j=function(k){if(T(this)||T(k))return m;if(S(this))return S(k)?A(this).j(A(k)):A(A(this).j(k));if(S(k))return A(this.j(A(k)));if(0>this.l(b)&&0>k.l(b))return d(this.m()*k.m());for(var R=this.g.length+k.g.length,O=[],j=0;j<2*R;j++)O[j]=0;for(j=0;j<this.g.length;j++)for(var q=0;q<k.g.length;q++){var H=this.i(j)>>>16,G=this.i(j)&65535,he=k.i(q)>>>16,we=k.i(q)&65535;O[2*j+2*q]+=G*we,D(O,2*j+2*q),O[2*j+2*q+1]+=H*we,D(O,2*j+2*q+1),O[2*j+2*q+1]+=G*he,D(O,2*j+2*q+1),O[2*j+2*q+2]+=H*he,D(O,2*j+2*q+2)}for(j=0;j<R;j++)O[j]=O[2*j+1]<<16|O[2*j];for(j=R;j<2*R;j++)O[j]=0;return new o(O,0)};function D(k,R){for(;(k[R]&65535)!=k[R];)k[R+1]+=k[R]>>>16,k[R]&=65535,R++}function N(k,R){this.g=k,this.h=R}function F(k,R){if(T(R))throw Error("division by zero");if(T(k))return new N(m,m);if(S(k))return R=F(A(k),R),new N(A(R.g),A(R.h));if(S(R))return R=F(k,A(R)),new N(A(R.g),R.h);if(30<k.g.length){if(S(k)||S(R))throw Error("slowDivide_ only works with positive integers.");for(var O=v,j=R;0>=j.l(k);)O=V(O),j=V(j);var q=B(O,1),H=B(j,1);for(j=B(j,2),O=B(O,2);!T(j);){var G=H.add(j);0>=G.l(k)&&(q=q.add(O),H=G),j=B(j,1),O=B(O,1)}return R=C(k,q.j(R)),new N(q,R)}for(q=m;0<=k.l(R);){for(O=Math.max(1,Math.floor(k.m()/R.m())),j=Math.ceil(Math.log(O)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),H=d(O),G=H.j(R);S(G)||0<G.l(k);)O-=j,H=d(O),G=H.j(R);T(H)&&(H=v),q=q.add(H),k=C(k,G)}return new N(q,k)}t.A=function(k){return F(this,k).h},t.and=function(k){for(var R=Math.max(this.g.length,k.g.length),O=[],j=0;j<R;j++)O[j]=this.i(j)&k.i(j);return new o(O,this.h&k.h)},t.or=function(k){for(var R=Math.max(this.g.length,k.g.length),O=[],j=0;j<R;j++)O[j]=this.i(j)|k.i(j);return new o(O,this.h|k.h)},t.xor=function(k){for(var R=Math.max(this.g.length,k.g.length),O=[],j=0;j<R;j++)O[j]=this.i(j)^k.i(j);return new o(O,this.h^k.h)};function V(k){for(var R=k.g.length+1,O=[],j=0;j<R;j++)O[j]=k.i(j)<<1|k.i(j-1)>>>31;return new o(O,k.h)}function B(k,R){var O=R>>5;R%=32;for(var j=k.g.length-O,q=[],H=0;H<j;H++)q[H]=0<R?k.i(H+O)>>>R|k.i(H+O+1)<<32-R:k.i(H+O);return new o(q,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,JG=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,Pl=o}).apply(typeof cU!="undefined"?cU:typeof self!="undefined"?self:typeof window!="undefined"?window:{});var f0=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var QG,_p,XG,N0,L1,ZG,e8,t8;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(w,I,L){return w==Array.prototype||w==Object.prototype||(w[I]=L.value),w};function n(w){w=[typeof globalThis=="object"&&globalThis,w,typeof window=="object"&&window,typeof self=="object"&&self,typeof f0=="object"&&f0];for(var I=0;I<w.length;++I){var L=w[I];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var r=n(this);function i(w,I){if(I)e:{var L=r;w=w.split(".");for(var $=0;$<w.length-1;$++){var ee=w[$];if(!(ee in L))break e;L=L[ee]}w=w[w.length-1],$=L[w],I=I($),I!=$&&I!=null&&e(L,w,{configurable:!0,writable:!0,value:I})}}function s(w,I){w instanceof String&&(w+="");var L=0,$=!1,ee={next:function(){if(!$&&L<w.length){var le=L++;return{value:I(le,w[le]),done:!1}}return $=!0,{done:!0,value:void 0}}};return ee[Symbol.iterator]=function(){return ee},ee}i("Array.prototype.values",function(w){return w||function(){return s(this,function(I,L){return L})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(w){var I=typeof w;return I=I!="object"?I:w?Array.isArray(w)?"array":I:"null",I=="array"||I=="object"&&typeof w.length=="number"}function d(w){var I=typeof w;return I=="object"&&w!=null||I=="function"}function f(w,I,L){return w.call.apply(w.bind,arguments)}function m(w,I,L){if(!w)throw Error();if(2<arguments.length){var $=Array.prototype.slice.call(arguments,2);return function(){var ee=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ee,$),w.apply(I,ee)}}return function(){return w.apply(I,arguments)}}function v(w,I,L){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,v.apply(null,arguments)}function b(w,I){var L=Array.prototype.slice.call(arguments,1);return function(){var $=L.slice();return $.push.apply($,arguments),w.apply(this,$)}}function T(w,I){function L(){}L.prototype=I.prototype,w.aa=I.prototype,w.prototype=new L,w.prototype.constructor=w,w.Qb=function($,ee,le){for(var Re=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)Re[bt-2]=arguments[bt];return I.prototype[ee].apply($,Re)}}function S(w){const I=w.length;if(0<I){const L=Array(I);for(let $=0;$<I;$++)L[$]=w[$];return L}return[]}function A(w,I){for(let L=1;L<arguments.length;L++){const $=arguments[L];if(u($)){const ee=w.length||0,le=$.length||0;w.length=ee+le;for(let Re=0;Re<le;Re++)w[ee+Re]=$[Re]}else w.push($)}}class C{constructor(I,L){this.i=I,this.j=L,this.h=0,this.g=null}get(){let I;return 0<this.h?(this.h--,I=this.g,this.g=I.next,I.next=null):I=this.i(),I}}function D(w){return/^[\s\xa0]*$/.test(w)}function N(){var w=l.navigator;return w&&(w=w.userAgent)?w:""}function F(w){return F[" "](w),w}F[" "]=function(){};var V=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function B(w,I,L){for(const $ in w)I.call(L,w[$],$,w)}function k(w,I){for(const L in w)I.call(void 0,w[L],L,w)}function R(w){const I={};for(const L in w)I[L]=w[L];return I}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(w,I){let L,$;for(let ee=1;ee<arguments.length;ee++){$=arguments[ee];for(L in $)w[L]=$[L];for(let le=0;le<O.length;le++)L=O[le],Object.prototype.hasOwnProperty.call($,L)&&(w[L]=$[L])}}function q(w){var I=1;w=w.split(":");const L=[];for(;0<I&&w.length;)L.push(w.shift()),I--;return w.length&&L.push(w.join(":")),L}function H(w){l.setTimeout(()=>{throw w},0)}function G(){var w=Ee;let I=null;return w.g&&(I=w.g,w.g=w.g.next,w.g||(w.h=null),I.next=null),I}class he{constructor(){this.h=this.g=null}add(I,L){const $=we.get();$.set(I,L),this.h?this.h.next=$:this.g=$,this.h=$}}var we=new C(()=>new Q,w=>w.reset());class Q{constructor(){this.next=this.g=this.h=null}set(I,L){this.h=I,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,Z=!1,Ee=new he,K=()=>{const w=l.Promise.resolve(void 0);ae=()=>{w.then(ue)}};var ue=()=>{for(var w;w=G();){try{w.h.call(w.g)}catch(L){H(L)}var I=we;I.j(w),100>I.h&&(I.h++,w.next=I.g,I.g=w)}Z=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(w,I){this.type=w,this.g=this.target=I,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Ce=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var w=!1,I=Object.defineProperty({},"passive",{get:function(){w=!0}});try{const L=()=>{};l.addEventListener("test",L,I),l.removeEventListener("test",L,I)}catch(L){}return w})();function Ve(w,I){if(fe.call(this,w?w.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,w){var L=this.type=w.type,$=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;if(this.target=w.target||w.srcElement,this.g=I,I=w.relatedTarget){if(V){e:{try{F(I.nodeName);var ee=!0;break e}catch(le){}ee=!1}ee||(I=null)}}else L=="mouseover"?I=w.fromElement:L=="mouseout"&&(I=w.toElement);this.relatedTarget=I,$?(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType=typeof w.pointerType=="string"?w.pointerType:$e[w.pointerType]||"",this.state=w.state,this.i=w,w.defaultPrevented&&Ve.aa.h.call(this)}}T(Ve,fe);var $e={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var w=this.i;w.preventDefault?w.preventDefault():w.returnValue=!1};var _e="closure_listenable_"+(1e6*Math.random()|0),ct=0;function Ae(w,I,L,$,ee){this.listener=w,this.proxy=null,this.src=I,this.type=L,this.capture=!!$,this.ha=ee,this.key=++ct,this.da=this.fa=!1}function Se(w){w.da=!0,w.listener=null,w.proxy=null,w.src=null,w.ha=null}function ke(w){this.src=w,this.g={},this.h=0}ke.prototype.add=function(w,I,L,$,ee){var le=w.toString();w=this.g[le],w||(w=this.g[le]=[],this.h++);var Re=Mt(w,I,$,ee);return-1<Re?(I=w[Re],L||(I.fa=!1)):(I=new Ae(I,this.src,le,!!$,ee),I.fa=L,w.push(I)),I};function de(w,I){var L=I.type;if(L in w.g){var $=w.g[L],ee=Array.prototype.indexOf.call($,I,void 0),le;(le=0<=ee)&&Array.prototype.splice.call($,ee,1),le&&(Se(I),w.g[L].length==0&&(delete w.g[L],w.h--))}}function Mt(w,I,L,$){for(var ee=0;ee<w.length;++ee){var le=w[ee];if(!le.da&&le.listener==I&&le.capture==!!L&&le.ha==$)return ee}return-1}var lt="closure_lm_"+(1e6*Math.random()|0),Xt={};function hn(w,I,L,$,ee){if(Array.isArray(I)){for(var le=0;le<I.length;le++)hn(w,I[le],L,$,ee);return null}return L=td(L),w&&w[_e]?w.K(I,L,d($)?!!$.capture:!1,ee):mn(w,I,L,!1,$,ee)}function mn(w,I,L,$,ee,le){if(!I)throw Error("Invalid event type");var Re=d(ee)?!!ee.capture:!!ee,bt=Ma(w);if(bt||(w[lt]=bt=new ke(w)),L=bt.add(I,L,$,Re,le),L.proxy)return L;if($=Na(),L.proxy=$,$.src=w,$.listener=L,w.addEventListener)Ce||(ee=Re),ee===void 0&&(ee=!1),w.addEventListener(I.toString(),$,ee);else if(w.attachEvent)w.attachEvent(pn(I.toString()),$);else if(w.addListener&&w.removeListener)w.addListener($);else throw Error("addEventListener and attachEvent are unavailable.");return L}function Na(){function w(L){return I.call(w.src,w.listener,L)}const I=ed;return w}function cu(w,I,L,$,ee){if(Array.isArray(I))for(var le=0;le<I.length;le++)cu(w,I[le],L,$,ee);else $=d($)?!!$.capture:!!$,L=td(L),w&&w[_e]?(w=w.i,I=String(I).toString(),I in w.g&&(le=w.g[I],L=Mt(le,L,$,ee),-1<L&&(Se(le[L]),Array.prototype.splice.call(le,L,1),le.length==0&&(delete w.g[I],w.h--)))):w&&(w=Ma(w))&&(I=w.g[I.toString()],w=-1,I&&(w=Mt(I,L,$,ee)),(L=-1<w?I[w]:null)&&ji(L))}function ji(w){if(typeof w!="number"&&w&&!w.da){var I=w.src;if(I&&I[_e])de(I.i,w);else{var L=w.type,$=w.proxy;I.removeEventListener?I.removeEventListener(L,$,w.capture):I.detachEvent?I.detachEvent(pn(L),$):I.addListener&&I.removeListener&&I.removeListener($),(L=Ma(I))?(de(L,w),L.h==0&&(L.src=null,I[lt]=null)):Se(w)}}}function pn(w){return w in Xt?Xt[w]:Xt[w]="on"+w}function ed(w,I){if(w.da)w=!0;else{I=new Ve(I,this);var L=w.listener,$=w.ha||w.src;w.fa&&ji(w),w=L.call($,I)}return w}function Ma(w){return w=w[lt],w instanceof ke?w:null}var du="__closure_events_fn_"+(1e9*Math.random()>>>0);function td(w){return typeof w=="function"?w:(w[du]||(w[du]=function(I){return w.handleEvent(I)}),w[du])}function Zt(){ce.call(this),this.i=new ke(this),this.M=this,this.F=null}T(Zt,ce),Zt.prototype[_e]=!0,Zt.prototype.removeEventListener=function(w,I,L,$){cu(this,w,I,L,$)};function Rt(w,I){var L,$=w.F;if($)for(L=[];$;$=$.F)L.push($);if(w=w.M,$=I.type||I,typeof I=="string")I=new fe(I,w);else if(I instanceof fe)I.target=I.target||w;else{var ee=I;I=new fe($,w),j(I,ee)}if(ee=!0,L)for(var le=L.length-1;0<=le;le--){var Re=I.g=L[le];ee=ir(Re,$,!0,I)&&ee}if(Re=I.g=w,ee=ir(Re,$,!0,I)&&ee,ee=ir(Re,$,!1,I)&&ee,L)for(le=0;le<L.length;le++)Re=I.g=L[le],ee=ir(Re,$,!1,I)&&ee}Zt.prototype.N=function(){if(Zt.aa.N.call(this),this.i){var w=this.i,I;for(I in w.g){for(var L=w.g[I],$=0;$<L.length;$++)Se(L[$]);delete w.g[I],w.h--}}this.F=null},Zt.prototype.K=function(w,I,L,$){return this.i.add(String(w),I,!1,L,$)},Zt.prototype.L=function(w,I,L,$){return this.i.add(String(w),I,!0,L,$)};function ir(w,I,L,$){if(I=w.i.g[String(I)],!I)return!0;I=I.concat();for(var ee=!0,le=0;le<I.length;++le){var Re=I[le];if(Re&&!Re.da&&Re.capture==L){var bt=Re.listener,Hn=Re.ha||Re.src;Re.fa&&de(w.i,Re),ee=bt.call(Hn,$)!==!1&&ee}}return ee&&!$.defaultPrevented}function sr(w,I,L){if(typeof w=="function")L&&(w=v(w,L));else if(w&&typeof w.handleEvent=="function")w=v(w.handleEvent,w);else throw Error("Invalid listener argument");return 2147483647<Number(I)?-1:l.setTimeout(w,I||0)}function Da(w){w.g=sr(()=>{w.g=null,w.i&&(w.i=!1,Da(w))},w.l);const I=w.h;w.h=null,w.m.apply(null,I)}class Gh extends ce{constructor(I,L){super(),this.m=I,this.l=L,this.h=null,this.i=!1,this.g=null}j(I){this.h=arguments,this.g?this.i=!0:Da(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vs(w){ce.call(this),this.h=w,this.g={}}T(Vs,ce);var So=[];function Ue(w){B(w.g,function(I,L){this.g.hasOwnProperty(L)&&ji(I)},w),w.g={}}Vs.prototype.N=function(){Vs.aa.N.call(this),Ue(this)},Vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ye=l.JSON.stringify,Ze=l.JSON.parse,st=class{stringify(w){return l.JSON.stringify(w,void 0)}parse(w){return l.JSON.parse(w,void 0)}};function et(){}et.prototype.h=null;function gr(w){return w.h||(w.h=w.i())}function pi(){}var gi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ao(){fe.call(this,"d")}T(Ao,fe);function Hh(){fe.call(this,"c")}T(Hh,fe);var Ls={},Kh=null;function ka(){return Kh=Kh||new Zt}Ls.La="serverreachability";function nd(w){fe.call(this,Ls.La,w)}T(nd,fe);function Oa(w){const I=ka();Rt(I,new nd(I))}Ls.STAT_EVENT="statevent";function Ey(w,I){fe.call(this,Ls.STAT_EVENT,w),this.stat=I}T(Ey,fe);function sn(w){const I=ka();Rt(I,new Ey(I,w))}Ls.Ma="timingevent";function Gn(w,I){fe.call(this,Ls.Ma,w),this.size=I}T(Gn,fe);function kn(w,I){if(typeof w!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){w()},I)}function Bi(){this.g=!0}Bi.prototype.xa=function(){this.g=!1};function Wh(w,I,L,$,ee,le){w.info(function(){if(w.g)if(le)for(var Re="",bt=le.split("&"),Hn=0;Hn<bt.length;Hn++){var wt=bt[Hn].split("=");if(1<wt.length){var ar=wt[0];wt=wt[1];var Kn=ar.split("_");Re=2<=Kn.length&&Kn[1]=="type"?Re+(ar+"="+wt+"&"):Re+(ar+"=redacted&")}}else Re=null;else Re=le;return"XMLHTTP REQ ("+$+") [attempt "+ee+"]: "+I+`
`+L+`
`+Re})}function Rw(w,I,L,$,ee,le,Re){w.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+ee+"]: "+I+`
`+L+`
`+le+" "+Re})}function Va(w,I,L,$){w.info(function(){return"XMLHTTP TEXT ("+I+"): "+fu(w,L)+($?" "+$:"")})}function Sy(w,I){w.info(function(){return"TIMEOUT: "+I})}Bi.prototype.info=function(){};function fu(w,I){if(!w.g)return I;if(!I)return null;try{var L=JSON.parse(I);if(L){for(w=0;w<L.length;w++)if(Array.isArray(L[w])){var $=L[w];if(!(2>$.length)){var ee=$[1];if(Array.isArray(ee)&&!(1>ee.length)){var le=ee[0];if(le!="noop"&&le!="stop"&&le!="close")for(var Re=1;Re<ee.length;Re++)ee[Re]=""}}}}return Ye(L)}catch(bt){return I}}var La={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Co={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Us;function Fs(){}T(Fs,et),Fs.prototype.g=function(){return new XMLHttpRequest},Fs.prototype.i=function(){return{}},Us=new Fs;function Gr(w,I,L,$){this.j=w,this.i=I,this.l=L,this.R=$||1,this.U=new Vs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Cn}function Cn(){this.i=null,this.g="",this.h=!1}var Yh={},rd={};function vs(w,I,L){w.L=1,w.v=yu(yi(I)),w.m=L,w.P=!0,Io(w,null)}function Io(w,I){w.F=Date.now(),hu(w),w.A=yi(w.v);var L=w.A,$=w.R;Array.isArray($)||($=[String($)]),tm(L.i,"t",$),w.C=0,L=w.j.J,w.h=new Cn,w.g=By(w.j,L?I:null,!w.m),0<w.O&&(w.M=new Gh(v(w.Y,w,w.g),w.O)),I=w.U,L=w.g,$=w.ca;var ee="readystatechange";Array.isArray(ee)||(ee&&(So[0]=ee.toString()),ee=So);for(var le=0;le<ee.length;le++){var Re=hn(L,ee[le],$||I.handleEvent,!1,I.h||I);if(!Re)break;I.g[Re.key]=Re}I=w.H?R(w.H):{},w.m?(w.u||(w.u="POST"),I["Content-Type"]="application/x-www-form-urlencoded",w.g.ea(w.A,w.u,w.m,I)):(w.u="GET",w.g.ea(w.A,w.u,null,I)),Oa(),Wh(w.i,w.u,w.A,w.l,w.R,w.m)}Gr.prototype.ca=function(w){w=w.target;const I=this.M;I&&Gi(w)==3?I.j():this.Y(w)},Gr.prototype.Y=function(w){try{if(w==this.g)e:{const Kn=Gi(this.g);var I=this.g.Ba();const Vo=this.g.Z();if(!(3>Kn)&&(Kn!=3||this.g&&(this.h.h||this.g.oa()||Dy(this.g)))){this.J||Kn!=4||I==7||(I==8||0>=Vo?Oa(3):Oa(2)),Ua(this);var L=this.g.Z();this.X=L;t:if(Ay(this)){var $=Dy(this.g);w="";var ee=$.length,le=Gi(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){yr(this),js(this);var Re="";break t}this.h.i=new l.TextDecoder}for(I=0;I<ee;I++)this.h.h=!0,w+=this.h.i.decode($[I],{stream:!(le&&I==ee-1)});$.length=0,this.h.g+=w,this.C=0,Re=this.h.g}else Re=this.g.oa();if(this.o=L==200,Rw(this.i,this.u,this.A,this.l,this.R,Kn,L),this.o){if(this.T&&!this.K){t:{if(this.g){var bt,Hn=this.g;if((bt=Hn.g?Hn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(bt)){var wt=bt;break t}}wt=null}if(L=wt)Va(this.i,this.l,L,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mu(this,L);else{this.o=!1,this.s=3,sn(12),yr(this),js(this);break e}}if(this.P){L=!0;let vr;for(;!this.J&&this.C<Re.length;)if(vr=Cy(this,Re),vr==rd){Kn==4&&(this.s=4,sn(14),L=!1),Va(this.i,this.l,null,"[Incomplete Response]");break}else if(vr==Yh){this.s=4,sn(15),Va(this.i,this.l,Re,"[Invalid Chunk]"),L=!1;break}else Va(this.i,this.l,vr,null),mu(this,vr);if(Ay(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kn!=4||Re.length!=0||this.h.h||(this.s=1,sn(16),L=!1),this.o=this.o&&L,!L)Va(this.i,this.l,Re,"[Invalid Chunked Response]"),yr(this),js(this);else if(0<Re.length&&!this.W){this.W=!0;var ar=this.j;ar.g==this&&ar.ba&&!ar.M&&(ar.j.info("Great, no buffering proxy detected. Bytes received: "+Re.length),Su(ar),ar.M=!0,sn(11))}}else Va(this.i,this.l,Re,null),mu(this,Re);Kn==4&&yr(this),this.o&&!this.J&&(Kn==4?Uy(this.j,this):(this.o=!1,hu(this)))}else kw(this.g),L==400&&0<Re.indexOf("Unknown SID")?(this.s=3,sn(12)):(this.s=0,sn(13)),yr(this),js(this)}}}catch(Kn){}finally{}};function Ay(w){return w.g?w.u=="GET"&&w.L!=2&&w.j.Ca:!1}function Cy(w,I){var L=w.C,$=I.indexOf(`
`,L);return $==-1?rd:(L=Number(I.substring(L,$)),isNaN(L)?Yh:($+=1,$+L>I.length?rd:(I=I.slice($,$+L),w.C=$+L,I)))}Gr.prototype.cancel=function(){this.J=!0,yr(this)};function hu(w){w.S=Date.now()+w.I,Iy(w,w.I)}function Iy(w,I){if(w.B!=null)throw Error("WatchDog timer not null");w.B=kn(v(w.ba,w),I)}function Ua(w){w.B&&(l.clearTimeout(w.B),w.B=null)}Gr.prototype.ba=function(){this.B=null;const w=Date.now();0<=w-this.S?(Sy(this.i,this.A),this.L!=2&&(Oa(),sn(17)),yr(this),this.s=2,js(this)):Iy(this,this.S-w)};function js(w){w.j.G==0||w.J||Uy(w.j,w)}function yr(w){Ua(w);var I=w.M;I&&typeof I.ma=="function"&&I.ma(),w.M=null,Ue(w.U),w.g&&(I=w.g,w.g=null,I.abort(),I.ma())}function mu(w,I){try{var L=w.j;if(L.G!=0&&(L.g==w||Jh(L.h,w))){if(!w.K&&Jh(L.h,w)&&L.G==3){try{var $=L.Da.g.parse(I)}catch(wt){$=null}if(Array.isArray($)&&$.length==3){var ee=$;if(ee[0]==0){e:if(!L.u){if(L.g)if(L.g.F+3e3<w.F)pd(L),hd(L);else break e;om(L),sn(18)}}else L.za=ee[1],0<L.za-L.T&&37500>ee[2]&&L.F&&L.v==0&&!L.C&&(L.C=kn(v(L.Za,L),6e3));if(1>=sd(L.h)&&L.ca){try{L.ca()}catch(wt){}L.ca=void 0}}else Oo(L,11)}else if((w.K||L.g==w)&&pd(L),!D(I))for(ee=L.Da.g.parse(I),I=0;I<ee.length;I++){let wt=ee[I];if(L.T=wt[0],wt=wt[1],L.G==2)if(wt[0]=="c"){L.K=wt[1],L.ia=wt[2];const ar=wt[3];ar!=null&&(L.la=ar,L.j.info("VER="+L.la));const Kn=wt[4];Kn!=null&&(L.Aa=Kn,L.j.info("SVER="+L.Aa));const Vo=wt[5];Vo!=null&&typeof Vo=="number"&&0<Vo&&($=1.5*Vo,L.L=$,L.j.info("backChannelRequestTimeoutMs_="+$)),$=L;const vr=w.g;if(vr){const Ks=vr.g?vr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ks){var le=$.h;le.g||Ks.indexOf("spdy")==-1&&Ks.indexOf("quic")==-1&&Ks.indexOf("h2")==-1||(le.j=le.l,le.g=new Set,le.h&&(od(le,le.h),le.h=null))}if($.D){const lm=vr.g?vr.g.getResponseHeader("X-HTTP-Session-Id"):null;lm&&($.ya=lm,Bt($.I,$.D,lm))}}L.G=3,L.l&&L.l.ua(),L.ba&&(L.R=Date.now()-w.F,L.j.info("Handshake RTT: "+L.R+"ms")),$=L;var Re=w;if($.qa=jy($,$.J?$.ia:null,$.W),Re.K){Hr($.h,Re);var bt=Re,Hn=$.L;Hn&&(bt.I=Hn),bt.B&&(Ua(bt),hu(bt)),$.g=Re}else Vy($);0<L.i.length&&md(L)}else wt[0]!="stop"&&wt[0]!="close"||Oo(L,7);else L.G==3&&(wt[0]=="stop"||wt[0]=="close"?wt[0]=="stop"?Oo(L,7):im(L):wt[0]!="noop"&&L.l&&L.l.ta(wt),L.v=0)}}Oa(4)}catch(wt){}}var Ry=class{constructor(w,I){this.g=w,this.map=I}};function Ro(w){this.l=w||10,l.PerformanceNavigationTiming?(w=l.performance.getEntriesByType("navigation"),w=0<w.length&&(w[0].nextHopProtocol=="hq"||w[0].nextHopProtocol=="h2")):w=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=w?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function id(w){return w.h?!0:w.g?w.g.size>=w.j:!1}function sd(w){return w.h?1:w.g?w.g.size:0}function Jh(w,I){return w.h?w.h==I:w.g?w.g.has(I):!1}function od(w,I){w.g?w.g.add(I):w.h=I}function Hr(w,I){w.h&&w.h==I?w.h=null:w.g&&w.g.has(I)&&w.g.delete(I)}Ro.prototype.cancel=function(){if(this.i=Qh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const w of this.g.values())w.cancel();this.g.clear()}};function Qh(w){if(w.h!=null)return w.i.concat(w.h.D);if(w.g!=null&&w.g.size!==0){let I=w.i;for(const L of w.g.values())I=I.concat(L.D);return I}return S(w.i)}function Pw(w){if(w.V&&typeof w.V=="function")return w.V();if(typeof Map!="undefined"&&w instanceof Map||typeof Set!="undefined"&&w instanceof Set)return Array.from(w.values());if(typeof w=="string")return w.split("");if(u(w)){for(var I=[],L=w.length,$=0;$<L;$++)I.push(w[$]);return I}I=[],L=0;for($ in w)I[L++]=w[$];return I}function ad(w){if(w.na&&typeof w.na=="function")return w.na();if(!w.V||typeof w.V!="function"){if(typeof Map!="undefined"&&w instanceof Map)return Array.from(w.keys());if(!(typeof Set!="undefined"&&w instanceof Set)){if(u(w)||typeof w=="string"){var I=[];w=w.length;for(var L=0;L<w;L++)I.push(L);return I}I=[],L=0;for(const $ in w)I[L++]=$;return I}}}function Xh(w,I){if(w.forEach&&typeof w.forEach=="function")w.forEach(I,void 0);else if(u(w)||typeof w=="string")Array.prototype.forEach.call(w,I,void 0);else for(var L=ad(w),$=Pw(w),ee=$.length,le=0;le<ee;le++)I.call(void 0,$[le],L&&L[le],w)}var pu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nw(w,I){if(w){w=w.split("&");for(var L=0;L<w.length;L++){var $=w[L].indexOf("="),ee=null;if(0<=$){var le=w[L].substring(0,$);ee=w[L].substring($+1)}else le=w[L];I(le,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function On(w){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,w instanceof On){this.h=w.h,gu(this,w.j),this.o=w.o,this.g=w.g,Fa(this,w.s),this.l=w.l;var I=w.i,L=new No;L.i=I.i,I.g&&(L.g=new Map(I.g),L.h=I.h),Po(this,L),this.m=w.m}else w&&(I=String(w).match(pu))?(this.h=!1,gu(this,I[1]||"",!0),this.o=qi(I[2]||""),this.g=qi(I[3]||"",!0),Fa(this,I[4]),this.l=qi(I[5]||"",!0),Po(this,I[6]||"",!0),this.m=qi(I[7]||"")):(this.h=!1,this.i=new No(null,this.h))}On.prototype.toString=function(){var w=[],I=this.j;I&&w.push(vu(I,Zh,!0),":");var L=this.g;return(L||I=="file")&&(w.push("//"),(I=this.o)&&w.push(vu(I,Zh,!0),"@"),w.push(encodeURIComponent(String(L)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.s,L!=null&&w.push(":",String(L))),(L=this.l)&&(this.g&&L.charAt(0)!="/"&&w.push("/"),w.push(vu(L,L.charAt(0)=="/"?Mw:em,!0))),(L=this.i.toString())&&w.push("?",L),(L=this.m)&&w.push("#",vu(L,ld)),w.join("")};function yi(w){return new On(w)}function gu(w,I,L){w.j=L?qi(I,!0):I,w.j&&(w.j=w.j.replace(/:$/,""))}function Fa(w,I){if(I){if(I=Number(I),isNaN(I)||0>I)throw Error("Bad port number "+I);w.s=I}else w.s=null}function Po(w,I,L){I instanceof No?(w.i=I,Ny(w.i,w.h)):(L||(I=vu(I,Dw)),w.i=new No(I,w.h))}function Bt(w,I,L){w.i.set(I,L)}function yu(w){return Bt(w,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),w}function qi(w,I){return w?I?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function vu(w,I,L){return typeof w=="string"?(w=encodeURI(w).replace(I,Py),L&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function Py(w){return w=w.charCodeAt(0),"%"+(w>>4&15).toString(16)+(w&15).toString(16)}var Zh=/[#\/\?@]/g,em=/[#\?:]/g,Mw=/[#\?]/g,Dw=/[#\?@]/g,ld=/#/g;function No(w,I){this.h=this.g=null,this.i=w||null,this.j=!!I}function zi(w){w.g||(w.g=new Map,w.h=0,w.i&&Nw(w.i,function(I,L){w.add(decodeURIComponent(I.replace(/\+/g," ")),L)}))}t=No.prototype,t.add=function(w,I){zi(this),this.i=null,w=Bs(this,w);var L=this.g.get(w);return L||this.g.set(w,L=[]),L.push(I),this.h+=1,this};function Mo(w,I){zi(w),I=Bs(w,I),w.g.has(I)&&(w.i=null,w.h-=w.g.get(I).length,w.g.delete(I))}function Do(w,I){return zi(w),I=Bs(w,I),w.g.has(I)}t.forEach=function(w,I){zi(this),this.g.forEach(function(L,$){L.forEach(function(ee){w.call(I,ee,$,this)},this)},this)},t.na=function(){zi(this);const w=Array.from(this.g.values()),I=Array.from(this.g.keys()),L=[];for(let $=0;$<I.length;$++){const ee=w[$];for(let le=0;le<ee.length;le++)L.push(I[$])}return L},t.V=function(w){zi(this);let I=[];if(typeof w=="string")Do(this,w)&&(I=I.concat(this.g.get(Bs(this,w))));else{w=Array.from(this.g.values());for(let L=0;L<w.length;L++)I=I.concat(w[L])}return I},t.set=function(w,I){return zi(this),this.i=null,w=Bs(this,w),Do(this,w)&&(this.h-=this.g.get(w).length),this.g.set(w,[I]),this.h+=1,this},t.get=function(w,I){return w?(w=this.V(w),0<w.length?String(w[0]):I):I};function tm(w,I,L){Mo(w,I),0<L.length&&(w.i=null,w.g.set(Bs(w,I),S(L)),w.h+=L.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const w=[],I=Array.from(this.g.keys());for(var L=0;L<I.length;L++){var $=I[L];const le=encodeURIComponent(String($)),Re=this.V($);for($=0;$<Re.length;$++){var ee=le;Re[$]!==""&&(ee+="="+encodeURIComponent(String(Re[$]))),w.push(ee)}}return this.i=w.join("&")};function Bs(w,I){return I=String(I),w.j&&(I=I.toLowerCase()),I}function Ny(w,I){I&&!w.j&&(zi(w),w.i=null,w.g.forEach(function(L,$){var ee=$.toLowerCase();$!=ee&&(Mo(this,$),tm(this,ee,L))},w)),w.j=I}function xu(w,I){const L=new Bi;if(l.Image){const $=new Image;$.onload=b($i,L,"TestLoadImage: loaded",!0,I,$),$.onerror=b($i,L,"TestLoadImage: error",!1,I,$),$.onabort=b($i,L,"TestLoadImage: abort",!1,I,$),$.ontimeout=b($i,L,"TestLoadImage: timeout",!1,I,$),l.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=w}else I(!1)}function xs(w,I){const L=new Bi,$=new AbortController,ee=setTimeout(()=>{$.abort(),$i(L,"TestPingServer: timeout",!1,I)},1e4);fetch(w,{signal:$.signal}).then(le=>{clearTimeout(ee),le.ok?$i(L,"TestPingServer: ok",!0,I):$i(L,"TestPingServer: server error",!1,I)}).catch(()=>{clearTimeout(ee),$i(L,"TestPingServer: error",!1,I)})}function $i(w,I,L,$,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),$(L)}catch(le){}}function bu(){this.g=new st}function qs(w,I,L){const $=L||"";try{Xh(w,function(ee,le){let Re=ee;d(ee)&&(Re=Ye(ee)),I.push($+le+"="+encodeURIComponent(Re))})}catch(ee){throw I.push($+"type="+encodeURIComponent("_badmap")),ee}}function ja(w){this.l=w.Ub||null,this.j=w.eb||!1}T(ja,et),ja.prototype.g=function(){return new ko(this.l,this.j)},ja.prototype.i=(function(w){return function(){return w}})({});function ko(w,I){Zt.call(this),this.D=w,this.o=I,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(ko,Zt),t=ko.prototype,t.open=function(w,I){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=w,this.A=I,this.readyState=1,$s(this)},t.send=function(w){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const I={headers:this.u,method:this.B,credentials:this.m,cache:void 0};w&&(I.body=w),(this.D||l).fetch(new Request(this.A,I)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zs(this)),this.readyState=0},t.Sa=function(w){if(this.g&&(this.l=w,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=w.headers,this.readyState=2,$s(this)),this.g&&(this.readyState=3,$s(this),this.g)))if(this.responseType==="arraybuffer")w.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream!="undefined"&&"body"in w){if(this.j=w.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nm(this)}else w.text().then(this.Ra.bind(this),this.ga.bind(this))};function nm(w){w.j.read().then(w.Pa.bind(w)).catch(w.ga.bind(w))}t.Pa=function(w){if(this.g){if(this.o&&w.value)this.response.push(w.value);else if(!this.o){var I=w.value?w.value:new Uint8Array(0);(I=this.v.decode(I,{stream:!w.done}))&&(this.response=this.responseText+=I)}w.done?zs(this):$s(this),this.readyState==3&&nm(this)}},t.Ra=function(w){this.g&&(this.response=this.responseText=w,zs(this))},t.Qa=function(w){this.g&&(this.response=w,zs(this))},t.ga=function(){this.g&&zs(this)};function zs(w){w.readyState=4,w.l=null,w.j=null,w.v=null,$s(w)}t.setRequestHeader=function(w,I){this.u.append(w,I)},t.getResponseHeader=function(w){return this.h&&this.h.get(w.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const w=[],I=this.h.entries();for(var L=I.next();!L.done;)L=L.value,w.push(L[0]+": "+L[1]),L=I.next();return w.join(`\r
`)};function $s(w){w.onreadystatechange&&w.onreadystatechange.call(w)}Object.defineProperty(ko.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(w){this.m=w?"include":"same-origin"}});function rm(w){let I="";return B(w,function(L,$){I+=$,I+=":",I+=L,I+=`\r
`}),I}function or(w,I,L){e:{for($ in L){var $=!1;break e}$=!0}$||(L=rm(L),typeof w=="string"?L!=null&&encodeURIComponent(String(L)):Bt(w,I,L))}function Dt(w){Zt.call(this),this.headers=new Map,this.o=w||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Dt,Zt);var ud=/^https?$/i,wu=["POST","PUT"];t=Dt.prototype,t.Ha=function(w){this.J=w},t.ea=function(w,I,L,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+w);I=I?I.toUpperCase():"GET",this.D=w,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Us.g(),this.v=this.o?gr(this.o):gr(Us),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(I,String(w),!0),this.B=!1}catch(le){My(this,le);return}if(w=L||"",L=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var ee in $)L.set(ee,$[ee]);else if(typeof $.keys=="function"&&typeof $.get=="function")for(const le of $.keys())L.set(le,$.get(le));else throw Error("Unknown input type for opt_headers: "+String($));$=Array.from(L.keys()).find(le=>le.toLowerCase()=="content-type"),ee=l.FormData&&w instanceof l.FormData,!(0<=Array.prototype.indexOf.call(wu,I,void 0))||$||ee||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[le,Re]of L)this.g.setRequestHeader(le,Re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_u(this),this.u=!0,this.g.send(w),this.u=!1}catch(le){My(this,le)}};function My(w,I){w.h=!1,w.g&&(w.j=!0,w.g.abort(),w.j=!1),w.l=I,w.m=5,cd(w),Gs(w)}function cd(w){w.A||(w.A=!0,Rt(w,"complete"),Rt(w,"error"))}t.abort=function(w){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=w||7,Rt(this,"complete"),Rt(this,"abort"),Gs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gs(this,!0)),Dt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?dd(this):this.bb())},t.bb=function(){dd(this)};function dd(w){if(w.h&&typeof o!="undefined"&&(!w.v[1]||Gi(w)!=4||w.Z()!=2)){if(w.u&&Gi(w)==4)sr(w.Ea,0,w);else if(Rt(w,"readystatechange"),Gi(w)==4){w.h=!1;try{const Re=w.Z();e:switch(Re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var I=!0;break e;default:I=!1}var L;if(!(L=I)){var $;if($=Re===0){var ee=String(w.D).match(pu)[1]||null;!ee&&l.self&&l.self.location&&(ee=l.self.location.protocol.slice(0,-1)),$=!ud.test(ee?ee.toLowerCase():"")}L=$}if(L)Rt(w,"complete"),Rt(w,"success");else{w.m=6;try{var le=2<Gi(w)?w.g.statusText:""}catch(bt){le=""}w.l=le+" ["+w.Z()+"]",cd(w)}}finally{Gs(w)}}}}function Gs(w,I){if(w.g){_u(w);const L=w.g,$=w.v[0]?()=>{}:null;w.g=null,w.v=null,I||Rt(w,"ready");try{L.onreadystatechange=$}catch(ee){}}}function _u(w){w.I&&(l.clearTimeout(w.I),w.I=null)}t.isActive=function(){return!!this.g};function Gi(w){return w.g?w.g.readyState:0}t.Z=function(){try{return 2<Gi(this)?this.g.status:-1}catch(w){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(w){return""}},t.Oa=function(w){if(this.g){var I=this.g.responseText;return w&&I.indexOf(w)==0&&(I=I.substring(w.length)),Ze(I)}};function Dy(w){try{if(!w.g)return null;if("response"in w.g)return w.g.response;switch(w.H){case"":case"text":return w.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in w.g)return w.g.mozResponseArrayBuffer}return null}catch(I){return null}}function kw(w){const I={};w=(w.g&&2<=Gi(w)&&w.g.getAllResponseHeaders()||"").split(`\r
`);for(let $=0;$<w.length;$++){if(D(w[$]))continue;var L=q(w[$]);const ee=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const le=I[ee]||[];I[ee]=le,le.push(L)}k(I,function($){return $.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Tu(w,I,L){return L&&L.internalChannelParams&&L.internalChannelParams[w]||I}function fd(w){this.Aa=0,this.i=[],this.j=new Bi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Tu("failFast",!1,w),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Tu("baseRetryDelayMs",5e3,w),this.cb=Tu("retryDelaySeedMs",1e4,w),this.Wa=Tu("forwardChannelMaxRetries",2,w),this.wa=Tu("forwardChannelRequestTimeoutMs",2e4,w),this.pa=w&&w.xmlHttpFactory||void 0,this.Xa=w&&w.Tb||void 0,this.Ca=w&&w.useFetchStreams||!1,this.L=void 0,this.J=w&&w.supportsCrossDomainXhr||!1,this.K="",this.h=new Ro(w&&w.concurrentRequestLimit),this.Da=new bu,this.P=w&&w.fastHandshake||!1,this.O=w&&w.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=w&&w.Rb||!1,w&&w.xa&&this.j.xa(),w&&w.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&w&&w.detectBufferingProxy||!1,this.ja=void 0,w&&w.longPollingTimeout&&0<w.longPollingTimeout&&(this.ja=w.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=fd.prototype,t.la=8,t.G=1,t.connect=function(w,I,L,$){sn(0),this.W=w,this.H=I||{},L&&$!==void 0&&(this.H.OSID=L,this.H.OAID=$),this.F=this.X,this.I=jy(this,null,this.W),md(this)};function im(w){if(ky(w),w.G==3){var I=w.U++,L=yi(w.I);if(Bt(L,"SID",w.K),Bt(L,"RID",I),Bt(L,"TYPE","terminate"),Eu(w,L),I=new Gr(w,w.j,I),I.L=2,I.v=yu(yi(L)),L=!1,l.navigator&&l.navigator.sendBeacon)try{L=l.navigator.sendBeacon(I.v.toString(),"")}catch($){}!L&&l.Image&&(new Image().src=I.v,L=!0),L||(I.g=By(I.j,null),I.g.ea(I.v)),I.F=Date.now(),hu(I)}Fy(w)}function hd(w){w.g&&(Su(w),w.g.cancel(),w.g=null)}function ky(w){hd(w),w.u&&(l.clearTimeout(w.u),w.u=null),pd(w),w.h.cancel(),w.s&&(typeof w.s=="number"&&l.clearTimeout(w.s),w.s=null)}function md(w){if(!id(w.h)&&!w.s){w.s=!0;var I=w.Ga;ae||K(),Z||(ae(),Z=!0),Ee.add(I,w),w.B=0}}function Ow(w,I){return sd(w.h)>=w.h.j-(w.s?1:0)?!1:w.s?(w.i=I.D.concat(w.i),!0):w.G==1||w.G==2||w.B>=(w.Va?0:w.Wa)?!1:(w.s=kn(v(w.Ga,w,I),am(w,w.B)),w.B++,!0)}t.Ga=function(w){if(this.s)if(this.s=null,this.G==1){if(!w){this.U=Math.floor(1e5*Math.random()),w=this.U++;const ee=new Gr(this,this.j,w);let le=this.o;if(this.S&&(le?(le=R(le),j(le,this.S)):le=this.S),this.m!==null||this.O||(ee.H=le,le=null),this.P)e:{for(var I=0,L=0;L<this.i.length;L++){t:{var $=this.i[L];if("__data__"in $.map&&($=$.map.__data__,typeof $=="string")){$=$.length;break t}$=void 0}if($===void 0)break;if(I+=$,4096<I){I=L;break e}if(I===4096||L===this.i.length-1){I=L+1;break e}}I=1e3}else I=1e3;I=Oy(this,ee,I),L=yi(this.I),Bt(L,"RID",w),Bt(L,"CVER",22),this.D&&Bt(L,"X-HTTP-Session-Id",this.D),Eu(this,L),le&&(this.O?I="headers="+encodeURIComponent(String(rm(le)))+"&"+I:this.m&&or(L,this.m,le)),od(this.h,ee),this.Ua&&Bt(L,"TYPE","init"),this.P?(Bt(L,"$req",I),Bt(L,"SID","null"),ee.T=!0,vs(ee,L,null)):vs(ee,L,I),this.G=2}}else this.G==3&&(w?sm(this,w):this.i.length==0||id(this.h)||sm(this))};function sm(w,I){var L;I?L=I.l:L=w.U++;const $=yi(w.I);Bt($,"SID",w.K),Bt($,"RID",L),Bt($,"AID",w.T),Eu(w,$),w.m&&w.o&&or($,w.m,w.o),L=new Gr(w,w.j,L,w.B+1),w.m===null&&(L.H=w.o),I&&(w.i=I.D.concat(w.i)),I=Oy(w,L,1e3),L.I=Math.round(.5*w.wa)+Math.round(.5*w.wa*Math.random()),od(w.h,L),vs(L,$,I)}function Eu(w,I){w.H&&B(w.H,function(L,$){Bt(I,$,L)}),w.l&&Xh({},function(L,$){Bt(I,$,L)})}function Oy(w,I,L){L=Math.min(w.i.length,L);var $=w.l?v(w.l.Na,w.l,w):null;e:{var ee=w.i;let le=-1;for(;;){const Re=["count="+L];le==-1?0<L?(le=ee[0].g,Re.push("ofs="+le)):le=0:Re.push("ofs="+le);let bt=!0;for(let Hn=0;Hn<L;Hn++){let wt=ee[Hn].g;const ar=ee[Hn].map;if(wt-=le,0>wt)le=Math.max(0,ee[Hn].g-100),bt=!1;else try{qs(ar,Re,"req"+wt+"_")}catch(Kn){$&&$(ar)}}if(bt){$=Re.join("&");break e}}}return w=w.i.splice(0,L),I.D=w,$}function Vy(w){if(!w.g&&!w.u){w.Y=1;var I=w.Fa;ae||K(),Z||(ae(),Z=!0),Ee.add(I,w),w.v=0}}function om(w){return w.g||w.u||3<=w.v?!1:(w.Y++,w.u=kn(v(w.Fa,w),am(w,w.v)),w.v++,!0)}t.Fa=function(){if(this.u=null,Ly(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var w=2*this.R;this.j.info("BP detection timer enabled: "+w),this.A=kn(v(this.ab,this),w)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,sn(10),hd(this),Ly(this))};function Su(w){w.A!=null&&(l.clearTimeout(w.A),w.A=null)}function Ly(w){w.g=new Gr(w,w.j,"rpc",w.Y),w.m===null&&(w.g.H=w.o),w.g.O=0;var I=yi(w.qa);Bt(I,"RID","rpc"),Bt(I,"SID",w.K),Bt(I,"AID",w.T),Bt(I,"CI",w.F?"0":"1"),!w.F&&w.ja&&Bt(I,"TO",w.ja),Bt(I,"TYPE","xmlhttp"),Eu(w,I),w.m&&w.o&&or(I,w.m,w.o),w.L&&(w.g.I=w.L);var L=w.g;w=w.ia,L.L=1,L.v=yu(yi(I)),L.m=null,L.P=!0,Io(L,w)}t.Za=function(){this.C!=null&&(this.C=null,hd(this),om(this),sn(19))};function pd(w){w.C!=null&&(l.clearTimeout(w.C),w.C=null)}function Uy(w,I){var L=null;if(w.g==I){pd(w),Su(w),w.g=null;var $=2}else if(Jh(w.h,I))L=I.D,Hr(w.h,I),$=1;else return;if(w.G!=0){if(I.o)if($==1){L=I.m?I.m.length:0,I=Date.now()-I.F;var ee=w.B;$=ka(),Rt($,new Gn($,L)),md(w)}else Vy(w);else if(ee=I.s,ee==3||ee==0&&0<I.X||!($==1&&Ow(w,I)||$==2&&om(w)))switch(L&&0<L.length&&(I=w.h,I.i=I.i.concat(L)),ee){case 1:Oo(w,5);break;case 4:Oo(w,10);break;case 3:Oo(w,6);break;default:Oo(w,2)}}}function am(w,I){let L=w.Ta+Math.floor(Math.random()*w.cb);return w.isActive()||(L*=2),L*I}function Oo(w,I){if(w.j.info("Error code "+I),I==2){var L=v(w.fb,w),$=w.Xa;const ee=!$;$=new On($||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||gu($,"https"),yu($),ee?xu($.toString(),L):xs($.toString(),L)}else sn(2);w.G=0,w.l&&w.l.sa(I),Fy(w),ky(w)}t.fb=function(w){w?(this.j.info("Successfully pinged google.com"),sn(2)):(this.j.info("Failed to ping google.com"),sn(1))};function Fy(w){if(w.G=0,w.ka=[],w.l){const I=Qh(w.h);(I.length!=0||w.i.length!=0)&&(A(w.ka,I),A(w.ka,w.i),w.h.i.length=0,S(w.i),w.i.length=0),w.l.ra()}}function jy(w,I,L){var $=L instanceof On?yi(L):new On(L);if($.g!="")I&&($.g=I+"."+$.g),Fa($,$.s);else{var ee=l.location;$=ee.protocol,I=I?I+"."+ee.hostname:ee.hostname,ee=+ee.port;var le=new On(null);$&&gu(le,$),I&&(le.g=I),ee&&Fa(le,ee),L&&(le.l=L),$=le}return L=w.D,I=w.ya,L&&I&&Bt($,L,I),Bt($,"VER",w.la),Eu(w,$),$}function By(w,I,L){if(I&&!w.J)throw Error("Can't create secondary domain capable XhrIo object.");return I=w.Ca&&!w.pa?new Dt(new ja({eb:L})):new Dt(w.pa),I.Ha(w.J),I}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function qy(){}t=qy.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function gd(){}gd.prototype.g=function(w,I){return new Kr(w,I)};function Kr(w,I){Zt.call(this),this.g=new fd(I),this.l=w,this.h=I&&I.messageUrlParams||null,w=I&&I.messageHeaders||null,I&&I.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.g.o=w,w=I&&I.initMessageHeaders||null,I&&I.messageContentType&&(w?w["X-WebChannel-Content-Type"]=I.messageContentType:w={"X-WebChannel-Content-Type":I.messageContentType}),I&&I.va&&(w?w["X-WebChannel-Client-Profile"]=I.va:w={"X-WebChannel-Client-Profile":I.va}),this.g.S=w,(w=I&&I.Sb)&&!D(w)&&(this.g.m=w),this.v=I&&I.supportsCrossDomainXhr||!1,this.u=I&&I.sendRawJson||!1,(I=I&&I.httpSessionIdParam)&&!D(I)&&(this.g.D=I,w=this.h,w!==null&&I in w&&(w=this.h,I in w&&delete w[I])),this.j=new Hs(this)}T(Kr,Zt),Kr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Kr.prototype.close=function(){im(this.g)},Kr.prototype.o=function(w){var I=this.g;if(typeof w=="string"){var L={};L.__data__=w,w=L}else this.u&&(L={},L.__data__=Ye(w),w=L);I.i.push(new Ry(I.Ya++,w)),I.G==3&&md(I)},Kr.prototype.N=function(){this.g.l=null,delete this.j,im(this.g),delete this.g,Kr.aa.N.call(this)};function zy(w){Ao.call(this),w.__headers__&&(this.headers=w.__headers__,this.statusCode=w.__status__,delete w.__headers__,delete w.__status__);var I=w.__sm__;if(I){e:{for(const L in I){w=L;break e}w=void 0}(this.i=w)&&(w=this.i,I=I!==null&&w in I?I[w]:void 0),this.data=I}else this.data=w}T(zy,Ao);function $y(){Hh.call(this),this.status=1}T($y,Hh);function Hs(w){this.g=w}T(Hs,qy),Hs.prototype.ua=function(){Rt(this.g,"a")},Hs.prototype.ta=function(w){Rt(this.g,new zy(w))},Hs.prototype.sa=function(w){Rt(this.g,new $y)},Hs.prototype.ra=function(){Rt(this.g,"b")},gd.prototype.createWebChannel=gd.prototype.g,Kr.prototype.send=Kr.prototype.o,Kr.prototype.open=Kr.prototype.m,Kr.prototype.close=Kr.prototype.close,t8=function(){return new gd},e8=function(){return ka()},ZG=Ls,L1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},La.NO_ERROR=0,La.TIMEOUT=8,La.HTTP_ERROR=6,N0=La,Co.COMPLETE="complete",XG=Co,pi.EventType=gi,gi.OPEN="a",gi.CLOSE="b",gi.ERROR="c",gi.MESSAGE="d",Zt.prototype.listen=Zt.prototype.K,_p=pi,Dt.prototype.listenOnce=Dt.prototype.L,Dt.prototype.getLastError=Dt.prototype.Ka,Dt.prototype.getLastErrorCode=Dt.prototype.Ba,Dt.prototype.getStatus=Dt.prototype.Z,Dt.prototype.getResponseJson=Dt.prototype.Oa,Dt.prototype.getResponseText=Dt.prototype.oa,Dt.prototype.send=Dt.prototype.ea,Dt.prototype.setWithCredentials=Dt.prototype.Ha,QG=Dt}).apply(typeof f0!="undefined"?f0:typeof self!="undefined"?self:typeof window!="undefined"?window:{});const dU="@firebase/firestore",fU="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hr.UNAUTHENTICATED=new hr(null),hr.GOOGLE_CREDENTIALS=new hr("google-credentials-uid"),hr.FIRST_PARTY=new hr("first-party-uid"),hr.MOCK_USER=new hr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dh="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl=new ab("@firebase/firestore");function ef(){return Bl.logLevel}function p_e(t){Bl.setLogLevel(t)}function be(t,...e){if(Bl.logLevel<=gt.DEBUG){const n=e.map(_P);Bl.debug(`Firestore (${Dh}): ${t}`,...n)}}function Nn(t,...e){if(Bl.logLevel<=gt.ERROR){const n=e.map(_P);Bl.error(`Firestore (${Dh}): ${t}`,...n)}}function _o(t,...e){if(Bl.logLevel<=gt.WARN){const n=e.map(_P);Bl.warn(`Firestore (${Dh}): ${t}`,...n)}}function _P(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch(e){return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,n8(t,r,n)}function n8(t,e,n){let r=`FIRESTORE (${Dh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(i){r+=" CONTEXT: "+n}throw Nn(r),new Error(r)}function qe(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||n8(e,i,r)}function g_e(t,e){t||Oe(57014,e)}function De(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Zr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class y_e{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(hr.UNAUTHENTICATED)))}shutdown(){}}class v_e{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class x_e{constructor(e){this.t=e,this.currentUser=hr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qe(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Rr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Rr,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const u=s;e.enqueueRetryable((()=>P(this,null,function*(){yield u.promise,yield i(this.currentUser)})))},l=u=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((u=>l(u))),setTimeout((()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Rr)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe(typeof r.accessToken=="string",31837,{l:r}),new r8(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string",2055,{h:e}),new hr(e)}}class b_e{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=hr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class w_e{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new b_e(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(hr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class hU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class __e{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ln(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){qe(this.o===void 0,3512);const r=s=>{s.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,be("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new hU(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new hU(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_e(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=T_e(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function it(t,e){return t<e?-1:t>e?1:0}function U1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return JS(i)===JS(s)?it(i,s):JS(i)?1:-1}return it(t.length,e.length)}const E_e=55296,S_e=57343;function JS(t){const e=t.charCodeAt(0);return e>=E_e&&e<=S_e}function Wf(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function i8(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mU="__name__";class Zs{constructor(e,n,r){n===void 0?n=0:n>e.length&&Oe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Oe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Zs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zs?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Zs.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return it(e.length,n.length)}static compareSegments(e,n){const r=Zs.isNumericId(e),i=Zs.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Zs.extractNumericId(e).compare(Zs.extractNumericId(n)):U1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Pl.fromString(e.substring(4,e.length-2))}}class vt extends Zs{construct(e,n,r){return new vt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(oe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new vt(n)}static emptyPath(){return new vt([])}}const A_e=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends Zs{construct(e,n,r){return new un(e,n,r)}static isValidIdentifier(e){return A_e.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mU}static keyField(){return new un([mU])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ve(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new ve(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ve(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new ve(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(n)}static emptyPath(){return new un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(vt.fromString(e))}static fromName(e){return new Pe(vt.fromString(e).popFirst(5))}static empty(){return new Pe(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new vt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(t,e,n){if(!n)throw new ve(oe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function s8(t,e,n,r){if(e===!0&&r===!0)throw new ve(oe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function pU(t){if(!Pe.isDocumentKey(t))throw new ve(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function gU(t){if(Pe.isDocumentKey(t))throw new ve(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function o8(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Zb(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Oe(12329,{type:typeof t})}function Ct(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zb(t);throw new ve(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function a8(t,e){if(e<=0)throw new ve(oe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(t,e){const n={typeString:t};return e&&(n.value=e),n}function ly(t,e){if(!o8(t))throw new ve(oe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new ve(oe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU=-62135596800,vU=1e6;class Ot{static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*vU);return new Ot(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<yU)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vU}_compareTo(e){return this.seconds===e.seconds?it(this.nanoseconds,e.nanoseconds):it(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ot._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ly(e,Ot._jsonSchema))return new Ot(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-yU;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ot._jsonSchemaVersion="firestore/timestamp/1.0",Ot._jsonSchema={type:Bn("string",Ot._jsonSchemaVersion),seconds:Bn("number"),nanoseconds:Bn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{static fromTimestamp(e){return new Ge(e)}static min(){return new Ge(new Ot(0,0))}static max(){return new Ge(new Ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf=-1;class jx{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function F1(t){return t.fields.find((e=>e.kind===2))}function Ju(t){return t.fields.filter((e=>e.kind!==2))}jx.UNKNOWN_ID=-1;class M0{constructor(e,n){this.fieldPath=e,this.kind=n}}class _g{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new _g(0,Ui.min())}}function l8(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ge.fromTimestamp(r===1e9?new Ot(n+1,0):new Ot(n,r));return new Ui(i,Pe.empty(),e)}function u8(t){return new Ui(t.readTime,t.key,Yf)}class Ui{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ui(Ge.min(),Pe.empty(),Yf)}static max(){return new Ui(Ge.max(),Pe.empty(),Yf)}}function SP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Pe.comparator(t.documentKey,e.documentKey),n!==0?n:it(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class d8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(t){return P(this,null,function*(){if(t.code!==oe.FAILED_PRECONDITION||t.message!==c8)throw t;be("LocalStore","Unexpectedly lost primary lease")})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,r)=>{n(e)}))}static reject(e){return new te(((n,r)=>{r(e)}))}static waitFor(e){return new te(((n,r)=>{let i=0,s=0,o=!1;e.forEach((l=>{++i,l.next((()=>{++s,o&&s===i&&n()}),(u=>r(u)))})),o=!0,s===i&&n()}))}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next((i=>i?te.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new te(((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const d=u;n(e[d]).next((f=>{o[d]=f,++l,l===s&&r(o)}),(f=>i(f)))}}))}static doWhile(e,n){return new te(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii="SimpleDb";class ew{static open(e,n,r,i){try{return new ew(n,e.transaction(i,r))}catch(s){throw new qp(n,s)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Rr,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new qp(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=AP(r.target.error);this.S.reject(new qp(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(be(Ii,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new I_e(n)}}class po{static delete(e){return be(Ii,"Removing database:",e),Xu(AC().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!Xp())return!1;if(po.F())return!0;const e=vn(),n=po.M(e),r=0<n&&n<10,i=f8(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static F(){var e;return typeof process!="undefined"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,po.M(vn())===12.2&&Nn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}L(e){return P(this,null,function*(){return this.db||(be(Ii,"Opening database:",this.name),this.db=yield new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new qp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new ve(oe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new ve(oe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new qp(e,o))},i.onupgradeneeded=s=>{be(Ii,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.N.k(o,i.transaction,s.oldVersion,this.version).next((()=>{be(Ii,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db})}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return P(this,null,function*(){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=yield this.L(e);const l=ew.open(this.db,e,s?"readonly":"readwrite",r),u=i(l).next((d=>(l.C(),d))).catch((d=>(l.abort(d),te.reject(d)))).toPromise();return u.catch((()=>{})),yield l.D,u}catch(l){const u=l,d=u.name!=="FirebaseError"&&o<3;if(be(Ii,"Transaction failed with error:",u.message,"Retrying:",d),this.close(),!d)return Promise.reject(u)}}})}close(){this.db&&this.db.close(),this.db=void 0}}function f8(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class C_e{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Xu(this.U.delete())}}class qp extends ve{constructor(e,n){super(oe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ou(t){return t.name==="IndexedDbTransactionError"}class I_e{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(be(Ii,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(be(Ii,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Xu(r)}add(e){return be(Ii,"ADD",this.store.name,e,e),Xu(this.store.add(e))}get(e){return Xu(this.store.get(e)).next((n=>(n===void 0&&(n=null),be(Ii,"GET",this.store.name,e,n),n)))}delete(e){return be(Ii,"DELETE",this.store.name,e),Xu(this.store.delete(e))}count(){return be(Ii,"COUNT",this.store.name),Xu(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new te(((o,l)=>{s.onerror=u=>{l(u.target.error)},s.onsuccess=u=>{o(u.target.result)}}))}{const s=this.cursor(r),o=[];return this.H(s,((l,u)=>{o.push(u)})).next((()=>o))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new te(((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}}))}Z(e,n){be(Ii,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,((s,o,l)=>l.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}te(e){const n=this.cursor({});return new te(((r,i)=>{n.onerror=s=>{const o=AP(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next((l=>{l?o.continue():r()})):r()}}))}H(e,n){const r=[];return new te(((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const l=o.target.result;if(!l)return void i();const u=new C_e(l),d=n(l.primaryKey,l.value,u);if(d instanceof te){const f=d.catch((m=>(u.done(),te.reject(m))));r.push(f)}u.isDone?i():u.G===null?l.continue():l.continue(u.G)}})).next((()=>te.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Xu(t){return new te(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=AP(r.target.error);n(i)}}))}let xU=!1;function AP(t){const e=po.M(vn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ve("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return xU||(xU=!0,setTimeout((()=>{throw r}),0)),r}}return t}const zp="IndexBackfiller";class R_e{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){be(zp,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(()=>P(this,null,function*(){this.task=null;try{const n=yield this.ne.ie();be(zp,`Documents written: ${n}`)}catch(n){ou(n)?be(zp,"Ignoring IndexedDB error during index backfill: ",n):yield su(n)}yield this.re(6e4)})))}}class P_e{constructor(e,n){this.localStore=e,this.persistence=n}ie(e=50){return P(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))})}se(e,n){const r=new Set;let i=n,s=!0;return te.doWhile((()=>s===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((o=>{if(o!==null&&!r.has(o))return be(zp,`Processing collection: ${o}`),this.oe(e,o,i).next((l=>{i-=l,r.add(o)}));s=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next((()=>this._e(i,s))).next((l=>(be(zp,`Updating offset: ${l}`),this.localStore.indexManager.updateCollectionGroup(e,n,l)))).next((()=>o.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,s)=>{const o=u8(s);SP(o,r)>0&&(r=o)})),new Ui(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}di.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl=-1;function uy(t){return t==null}function Tg(t){return t===0&&1/t==-1/0}function h8(t){return typeof t=="number"&&Number.isInteger(t)&&!Tg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="";function zr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=bU(e)),e=N_e(t.get(n),e);return bU(e)}function N_e(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case Bx:n+="";break;default:n+=s}}return n}function bU(t){return t+Bx+""}function ao(t){const e=t.length;if(qe(e>=2,64408,{path:t}),e===2)return qe(t.charAt(0)===Bx&&t.charAt(1)==="",56145,{path:t}),vt.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf(Bx,s);switch((o<0||o>n)&&Oe(50515,{path:t}),t.charAt(o+1)){case"":const l=t.substring(s,o);let u;i.length===0?u=l:(i+=l,u=i,i=""),r.push(u);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:Oe(61167,{path:t})}s=o+2}return new vt(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu="remoteDocuments",cy="owner",Wd="owner",Eg="mutationQueues",M_e="userId",Es="mutations",wU="batchId",dc="userMutationsIndex",_U=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(t,e){return[t,zr(e)]}function m8(t,e,n){return[t,zr(e),n]}const D_e={},Jf="documentMutations",qx="remoteDocumentsV14",k_e=["prefixPath","collectionGroup","readTime","documentId"],k0="documentKeyIndex",O_e=["prefixPath","collectionGroup","documentId"],p8="collectionGroupIndex",V_e=["collectionGroup","readTime","prefixPath","documentId"],Sg="remoteDocumentGlobal",j1="remoteDocumentGlobalKey",Qf="targets",g8="queryTargetsIndex",L_e=["canonicalId","targetId"],Xf="targetDocuments",U_e=["targetId","path"],CP="documentTargetsIndex",F_e=["path","targetId"],zx="targetGlobalKey",Tc="targetGlobal",Ag="collectionParents",j_e=["collectionId","parent"],Zf="clientMetadata",B_e="clientId",tw="bundles",q_e="bundleId",nw="namedQueries",z_e="name",IP="indexConfiguration",$_e="indexId",B1="collectionGroupIndex",G_e="collectionGroup",$p="indexState",H_e=["indexId","uid"],y8="sequenceNumberIndex",K_e=["uid","sequenceNumber"],Gp="indexEntries",W_e=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],v8="documentKeyIndex",Y_e=["indexId","uid","orderedDocumentKey"],rw="documentOverlays",J_e=["userId","collectionPath","documentId"],q1="collectionPathOverlayIndex",Q_e=["userId","collectionPath","largestBatchId"],x8="collectionGroupOverlayIndex",X_e=["userId","collectionGroup","largestBatchId"],RP="globals",Z_e="name",b8=[Eg,Es,Jf,Qu,Qf,cy,Tc,Xf,Zf,Sg,Ag,tw,nw],eTe=[...b8,rw],w8=[Eg,Es,Jf,qx,Qf,cy,Tc,Xf,Zf,Sg,Ag,tw,nw,rw],_8=w8,PP=[..._8,IP,$p,Gp],tTe=PP,T8=[...PP,RP],nTe=T8;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1 extends d8{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function rr(t,e){const n=De(t);return po.O(n.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TU(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function au(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function E8(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n){this.comparator=e,this.root=n||Sr.EMPTY}insert(e,n){return new Qt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Sr.BLACK,null,null))}remove(e){return new Qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new h0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new h0(this.root,e,this.comparator,!1)}getReverseIterator(){return new h0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new h0(this.root,e,this.comparator,!0)}}class h0{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r!=null?r:Sr.RED,this.left=i!=null?i:Sr.EMPTY,this.right=s!=null?s:Sr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Sr(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Sr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Sr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}Sr.EMPTY=null,Sr.RED=!0,Sr.BLACK=!1;Sr.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Sr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.comparator=e,this.data=new Qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new EU(this.data.getIterator())}getIteratorFrom(e){return new EU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new jt(this.comparator);return n.data=e,n}}class EU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Yd(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new fi([])}unionWith(e){let n=new jt(un.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new fi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wf(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S8 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rTe(){return typeof atob!="undefined"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException!="undefined"&&s instanceof DOMException?new S8("Invalid base64 string: "+s):s}})(e);return new En(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s})(e);return new En(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return it(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}En.EMPTY_BYTE_STRING=new En("");const iTe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pa(t){if(qe(!!t,39018),typeof t=="string"){let e=0;const n=iTe.exec(t);if(qe(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:an(t.seconds),nanos:an(t.nanos)}}function an(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ga(t){return typeof t=="string"?En.fromBase64String(t):En.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8="server_timestamp",C8="__type__",I8="__previous_value__",R8="__local_write_time__";function iw(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[C8])==null?void 0:r.stringValue)===A8}function sw(t){const e=t.mapValue.fields[I8];return iw(e)?sw(e):e}function Cg(t){const e=pa(t.mapValue.fields[R8].timestampValue);return new Ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sTe{constructor(e,n,r,i,s,o,l,u,d,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=f}}const $1="(default)";class ql{constructor(e,n){this.projectId=e,this.database=n||$1}static empty(){return new ql("","")}get isDefaultDatabase(){return this.database===$1}isEqual(e){return e instanceof ql&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP="__type__",P8="__max__",El={mapValue:{fields:{__type__:{stringValue:P8}}}},MP="__vector__",eh="value",O0={nullValue:"NULL_VALUE"};function zl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?iw(t)?4:N8(t)?9007199254740991:ow(t)?10:11:Oe(28295,{value:t})}function To(t,e){if(t===e)return!0;const n=zl(t);if(n!==zl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cg(t).isEqual(Cg(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=pa(i.timestampValue),l=pa(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return ga(i.bytesValue).isEqual(ga(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return an(i.geoPointValue.latitude)===an(s.geoPointValue.latitude)&&an(i.geoPointValue.longitude)===an(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return an(i.integerValue)===an(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=an(i.doubleValue),l=an(s.doubleValue);return o===l?Tg(o)===Tg(l):isNaN(o)&&isNaN(l)}return!1})(t,e);case 9:return Wf(t.arrayValue.values||[],e.arrayValue.values||[],To);case 10:case 11:return(function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(TU(o)!==TU(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!To(o[u],l[u])))return!1;return!0})(t,e);default:return Oe(52216,{left:t})}}function Ig(t,e){return(t.values||[]).find((n=>To(n,e)))!==void 0}function $l(t,e){if(t===e)return 0;const n=zl(t),r=zl(e);if(n!==r)return it(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return it(t.booleanValue,e.booleanValue);case 2:return(function(s,o){const l=an(s.integerValue||s.doubleValue),u=an(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1})(t,e);case 3:return SU(t.timestampValue,e.timestampValue);case 4:return SU(Cg(t),Cg(e));case 5:return U1(t.stringValue,e.stringValue);case 6:return(function(s,o){const l=ga(s),u=ga(o);return l.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(s,o){const l=s.split("/"),u=o.split("/");for(let d=0;d<l.length&&d<u.length;d++){const f=it(l[d],u[d]);if(f!==0)return f}return it(l.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,o){const l=it(an(s.latitude),an(o.latitude));return l!==0?l:it(an(s.longitude),an(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return AU(t.arrayValue,e.arrayValue);case 10:return(function(s,o){var v,b,T,S;const l=s.fields||{},u=o.fields||{},d=(v=l[eh])==null?void 0:v.arrayValue,f=(b=u[eh])==null?void 0:b.arrayValue,m=it(((T=d==null?void 0:d.values)==null?void 0:T.length)||0,((S=f==null?void 0:f.values)==null?void 0:S.length)||0);return m!==0?m:AU(d,f)})(t.mapValue,e.mapValue);case 11:return(function(s,o){if(s===El.mapValue&&o===El.mapValue)return 0;if(s===El.mapValue)return 1;if(o===El.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),d=o.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let m=0;m<u.length&&m<f.length;++m){const v=U1(u[m],f[m]);if(v!==0)return v;const b=$l(l[u[m]],d[f[m]]);if(b!==0)return b}return it(u.length,f.length)})(t.mapValue,e.mapValue);default:throw Oe(23264,{he:n})}}function SU(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return it(t,e);const n=pa(t),r=pa(e),i=it(n.seconds,r.seconds);return i!==0?i:it(n.nanos,r.nanos)}function AU(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=$l(n[i],r[i]);if(s)return s}return it(n.length,r.length)}function th(t){return G1(t)}function G1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=pa(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ga(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Pe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=G1(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${G1(n.fields[o])}`;return i+"}"})(t.mapValue):Oe(61005,{value:t})}function V0(t){switch(zl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sw(t);return e?16+V0(e):16;case 5:return 2*t.stringValue.length;case 6:return ga(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+V0(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return au(r.fields,((s,o)=>{i+=s.length+V0(o)})),i})(t.mapValue);default:throw Oe(13486,{value:t})}}function Dc(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function H1(t){return!!t&&"integerValue"in t}function Rg(t){return!!t&&"arrayValue"in t}function CU(t){return!!t&&"nullValue"in t}function IU(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function L0(t){return!!t&&"mapValue"in t}function ow(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[NP])==null?void 0:r.stringValue)===MP}function Hp(t){if(t.geoPointValue)return{geoPointValue:Y({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Y({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return au(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Hp(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hp(t.arrayValue.values[n]);return e}return Y({},t)}function N8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===P8}const M8={mapValue:{fields:{[NP]:{stringValue:MP},[eh]:{arrayValue:{}}}}};function oTe(t){return"nullValue"in t?O0:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Dc(ql.empty(),Pe.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?ow(t)?M8:{mapValue:{}}:Oe(35942,{value:t})}function aTe(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Dc(ql.empty(),Pe.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?M8:"mapValue"in t?ow(t)?{mapValue:{}}:El:Oe(61959,{value:t})}function RU(t,e){const n=$l(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function PU(t,e){const n=$l(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.value=e}static empty(){return new Cr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!L0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hp(n)}setAll(e){let n=un.emptyPath(),r={},i=[];e.forEach(((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Hp(o):i.push(l.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());L0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return To(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];L0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){au(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Cr(Hp(this.value))}}function D8(t){const e=[];return au(t.fields,((n,r)=>{const i=new un([n]);if(L0(r)){const s=D8(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)})),new fi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new nn(e,0,Ge.min(),Ge.min(),Ge.min(),Cr.empty(),0)}static newFoundDocument(e,n,r,i){return new nn(e,1,n,Ge.min(),r,i,0)}static newNoDocument(e,n){return new nn(e,2,n,Ge.min(),Ge.min(),Cr.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,Ge.min(),Ge.min(),Cr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n){this.position=e,this.inclusive=n}}function NU(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Pe.comparator(Pe.fromName(o.referenceValue),n.key):r=$l(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function MU(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!To(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,n="asc"){this.field=e,this.dir=n}}function lTe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{}class xt extends k8{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new uTe(e,n,r):n==="array-contains"?new fTe(e,r):n==="in"?new j8(e,r):n==="not-in"?new hTe(e,r):n==="array-contains-any"?new mTe(e,r):new xt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new cTe(e,r):new dTe(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison($l(n,this.value)):n!==null&&zl(this.value)===zl(n)&&this.matchesComparison($l(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ft extends k8{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ft(e,n)}matches(e){return nh(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function nh(t){return t.op==="and"}function K1(t){return t.op==="or"}function DP(t){return O8(t)&&nh(t)}function O8(t){for(const e of t.filters)if(e instanceof Ft)return!1;return!0}function W1(t){if(t instanceof xt)return t.field.canonicalString()+t.op.toString()+th(t.value);if(DP(t))return t.filters.map((e=>W1(e))).join(",");{const e=t.filters.map((n=>W1(n))).join(",");return`${t.op}(${e})`}}function V8(t,e){return t instanceof xt?(function(r,i){return i instanceof xt&&r.op===i.op&&r.field.isEqual(i.field)&&To(r.value,i.value)})(t,e):t instanceof Ft?(function(r,i){return i instanceof Ft&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,o,l)=>s&&V8(o,i.filters[l])),!0):!1})(t,e):void Oe(19439)}function L8(t,e){const n=t.filters.concat(e);return Ft.create(n,t.op)}function U8(t){return t instanceof xt?(function(n){return`${n.field.canonicalString()} ${n.op} ${th(n.value)}`})(t):t instanceof Ft?(function(n){return n.op.toString()+" {"+n.getFilters().map(U8).join(" ,")+"}"})(t):"Filter"}class uTe extends xt{constructor(e,n,r){super(e,n,r),this.key=Pe.fromName(r.referenceValue)}matches(e){const n=Pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class cTe extends xt{constructor(e,n){super(e,"in",n),this.keys=F8("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class dTe extends xt{constructor(e,n){super(e,"not-in",n),this.keys=F8("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function F8(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Pe.fromName(r.referenceValue)))}class fTe extends xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Rg(n)&&Ig(n.arrayValue,this.value)}}class j8 extends xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ig(this.value.arrayValue,n)}}class hTe extends xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ig(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ig(this.value.arrayValue,n)}}class mTe extends xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Rg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Ig(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pTe{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.Te=null}}function Y1(t,e=null,n=[],r=[],i=null,s=null,o=null){return new pTe(t,e,n,r,i,s,o)}function kc(t){const e=De(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>W1(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),uy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>th(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>th(r))).join(",")),e.Te=n}return e.Te}function dy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!lTe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!V8(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!MU(t.startAt,e.startAt)&&MU(t.endAt,e.endAt)}function $x(t){return Pe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Gx(t,e){return t.filters.filter((n=>n instanceof xt&&n.field.isEqual(e)))}function DU(t,e,n){let r=O0,i=!0;for(const s of Gx(t,e)){let o=O0,l=!0;switch(s.op){case"<":case"<=":o=oTe(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,l=!1;break;case"!=":case"not-in":o=O0}RU({value:r,inclusive:i},{value:o,inclusive:l})<0&&(r=o,i=l)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];RU({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function kU(t,e,n){let r=El,i=!0;for(const s of Gx(t,e)){let o=El,l=!0;switch(s.op){case">=":case">":o=aTe(s.value),l=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,l=!1;break;case"!=":case"not-in":o=El}PU({value:r,inclusive:i},{value:o,inclusive:l})>0&&(r=o,i=l)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];PU({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function B8(t,e,n,r,i,s,o,l){return new Sa(t,e,n,r,i,s,o,l)}function kh(t){return new Sa(t)}function OU(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function kP(t){return t.collectionGroup!==null}function Rf(t){const e=De(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new jt(un.comparator);return o.filters.forEach((u=>{u.getFlattenedFilters().forEach((d=>{d.isInequality()&&(l=l.add(d.field))}))})),l})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Pg(s,r))})),n.has(un.keyField().canonicalString())||e.Ie.push(new Pg(un.keyField(),r))}return e.Ie}function ti(t){const e=De(t);return e.Ee||(e.Ee=gTe(e,Rf(t))),e.Ee}function gTe(t,e){if(t.limitType==="F")return Y1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Pg(i.field,s)}));const n=t.endAt?new Gl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Gl(t.startAt.position,t.startAt.inclusive):null;return Y1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function J1(t,e){const n=t.filters.concat([e]);return new Sa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Hx(t,e,n){return new Sa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fy(t,e){return dy(ti(t),ti(e))&&t.limitType===e.limitType}function q8(t){return`${kc(ti(t))}|lt:${t.limitType}`}function tf(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>U8(i))).join(", ")}]`),uy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>th(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>th(i))).join(",")),`Target(${r})`})(ti(t))}; limitType=${t.limitType})`}function hy(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Pe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of Rf(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(o,l,u){const d=NU(o,l,u);return o.inclusive?d<=0:d<0})(r.startAt,Rf(r),i)||r.endAt&&!(function(o,l,u){const d=NU(o,l,u);return o.inclusive?d>=0:d>0})(r.endAt,Rf(r),i))})(t,e)}function z8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function $8(t){return(e,n)=>{let r=!1;for(const i of Rf(t)){const s=yTe(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function yTe(t,e,n){const r=t.field.isKeyField()?Pe.comparator(e.key,n.key):(function(s,o,l){const u=o.data.field(s),d=l.data.field(s);return u!==null&&d!==null?$l(u,d):Oe(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Oe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){au(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return E8(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vTe=new Qt(Pe.comparator);function hi(){return vTe}const G8=new Qt(Pe.comparator);function Tp(...t){let e=G8;for(const n of t)e=e.insert(n.key,n);return e}function H8(t){let e=G8;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function lo(){return Kp()}function K8(){return Kp()}function Kp(){return new Aa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const xTe=new Qt(Pe.comparator),bTe=new jt(Pe.comparator);function at(...t){let e=bTe;for(const n of t)e=e.add(n);return e}const wTe=new jt(it);function OP(){return wTe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tg(e)?"-0":e}}function W8(t){return{integerValue:""+t}}function Y8(t,e){return h8(e)?W8(e):VP(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(){this._=void 0}}function _Te(t,e,n){return t instanceof rh?(function(i,s){const o={fields:{[C8]:{stringValue:A8},[R8]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&iw(s)&&(s=sw(s)),s&&(o.fields[I8]=s),{mapValue:o}})(n,e):t instanceof Oc?Q8(t,e):t instanceof Vc?X8(t,e):(function(i,s){const o=J8(i,s),l=VU(o)+VU(i.Ae);return H1(o)&&H1(i.Ae)?W8(l):VP(i.serializer,l)})(t,e)}function TTe(t,e,n){return t instanceof Oc?Q8(t,e):t instanceof Vc?X8(t,e):n}function J8(t,e){return t instanceof ih?(function(r){return H1(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class rh extends aw{}class Oc extends aw{constructor(e){super(),this.elements=e}}function Q8(t,e){const n=Z8(e);for(const r of t.elements)n.some((i=>To(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Vc extends aw{constructor(e){super(),this.elements=e}}function X8(t,e){let n=Z8(e);for(const r of t.elements)n=n.filter((i=>!To(i,r)));return{arrayValue:{values:n}}}class ih extends aw{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function VU(t){return an(t.integerValue||t.doubleValue)}function Z8(t){return Rg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,n){this.field=e,this.transform=n}}function ETe(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Oc&&i instanceof Oc||r instanceof Vc&&i instanceof Vc?Wf(r.elements,i.elements,To):r instanceof ih&&i instanceof ih?To(r.Ae,i.Ae):r instanceof rh&&i instanceof rh})(t.transform,e.transform)}class STe{constructor(e,n){this.version=e,this.transformResults=n}}class cn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new cn}static exists(e){return new cn(void 0,e)}static updateTime(e){return new cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function U0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class lw{}function eH(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Vh(t.key,cn.none()):new Oh(t.key,t.data,cn.none());{const n=t.data,r=Cr.empty();let i=new jt(un.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ca(t.key,r,new fi(i.toArray()),cn.none())}}function ATe(t,e,n){t instanceof Oh?(function(i,s,o){const l=i.value.clone(),u=UU(i.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,n):t instanceof Ca?(function(i,s,o){if(!U0(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=UU(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(tH(i)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()})(t,e,n):(function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function Wp(t,e,n,r){return t instanceof Oh?(function(s,o,l,u){if(!U0(s.precondition,o))return l;const d=s.value.clone(),f=FU(s.fieldTransforms,u,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof Ca?(function(s,o,l,u){if(!U0(s.precondition,o))return l;const d=FU(s.fieldTransforms,u,o),f=o.data;return f.setAll(tH(s)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(s,o,l){return U0(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l})(t,e,n)}function CTe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=J8(r.transform,i||null);s!=null&&(n===null&&(n=Cr.empty()),n.set(r.field,s))}return n||null}function LU(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Wf(r,i,((s,o)=>ETe(s,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Oh extends lw{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ca extends lw{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function tH(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function UU(t,e,n){const r=new Map;qe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,TTe(o,l,n[i]))}return r}function FU(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,_Te(s,o,e))}return r}class Vh extends lw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LP extends lw{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&ATe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wp(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Wp(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=K8();return this.mutations.forEach((i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const u=eH(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Ge.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),at())}isEqual(e){return this.batchId===e.batchId&&Wf(this.mutations,e.mutations,((n,r)=>LU(n,r)))&&Wf(this.baseMutations,e.baseMutations,((n,r)=>LU(n,r)))}}class FP{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){qe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return xTe})();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new FP(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ITe{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Un,Tt;function nH(t){switch(t){case oe.OK:return Oe(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Oe(15467,{code:t})}}function rH(t){if(t===void 0)return Nn("GRPC error has no .code"),oe.UNKNOWN;switch(t){case Un.OK:return oe.OK;case Un.CANCELLED:return oe.CANCELLED;case Un.UNKNOWN:return oe.UNKNOWN;case Un.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Un.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Un.INTERNAL:return oe.INTERNAL;case Un.UNAVAILABLE:return oe.UNAVAILABLE;case Un.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Un.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Un.NOT_FOUND:return oe.NOT_FOUND;case Un.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Un.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Un.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Un.ABORTED:return oe.ABORTED;case Un.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Un.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Un.DATA_LOSS:return oe.DATA_LOSS;default:return Oe(39323,{code:t})}}(Tt=Un||(Un={}))[Tt.OK=0]="OK",Tt[Tt.CANCELLED=1]="CANCELLED",Tt[Tt.UNKNOWN=2]="UNKNOWN",Tt[Tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tt[Tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tt[Tt.NOT_FOUND=5]="NOT_FOUND",Tt[Tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tt[Tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tt[Tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tt[Tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tt[Tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tt[Tt.ABORTED=10]="ABORTED",Tt[Tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tt[Tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tt[Tt.INTERNAL=13]="INTERNAL",Tt[Tt.UNAVAILABLE=14]="UNAVAILABLE",Tt[Tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RTe=new Pl([4294967295,4294967295],0);function jU(t){const e=iH().encode(t),n=new JG;return n.update(e),new Uint8Array(n.digest())}function BU(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Pl([n,r],0),new Pl([i,s],0)]}class BP{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ep(`Invalid padding: ${n}`);if(r<0)throw new Ep(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ep(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ep(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Pl.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Pl.fromNumber(r)));return i.compare(RTe)===1&&(i=new Pl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=jU(e),[r,i]=BU(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new BP(s,i,n);return r.forEach((l=>o.insert(l))),o}insert(e){if(this.ge===0)return;const n=jU(e),[r,i]=BU(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ep extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,gy.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new py(Ge.min(),i,new Qt(it),hi(),at())}}class gy{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new gy(r,n,at(),at(),at())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class sH{constructor(e,n){this.targetId=e,this.Ce=n}}class oH{constructor(e,n,r=En.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class qU{constructor(){this.ve=0,this.Fe=zU(),this.Me=En.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=at(),n=at(),r=at();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Oe(38017,{changeType:s})}})),new gy(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=zU()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class PTe{constructor(e){this.Ge=e,this.ze=new Map,this.je=hi(),this.Je=m0(),this.He=m0(),this.Ye=new Qt(it)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Oe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if($x(s))if(r===0){const o=new Pe(s.path);this.et(n,o,nn.newNoDocument(o,Ge.min()))}else qe(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const l=this.ut(e),u=l?this.ct(l,e,o):1;if(u!==0){this.it(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=ga(r).toUint8Array()}catch(u){if(u instanceof S8)return _o("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new BP(o,i,s)}catch(u){return _o(u instanceof Ep?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,o)=>{const l=this.ot(o);if(l){if(s.current&&$x(l.target)){const u=new Pe(l.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,nn.newNoDocument(u,e))}s.Be&&(n.set(o,s.ke()),s.qe())}}));let r=at();this.He.forEach(((s,o)=>{let l=!0;o.forEachWhile((u=>{const d=this.ot(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(s))})),this.je.forEach(((s,o)=>o.setReadTime(e)));const i=new py(e,n,this.Ye,this.je,r);return this.je=hi(),this.Je=m0(),this.He=m0(),this.Ye=new Qt(it),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new qU,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new jt(it),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new jt(it),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||be("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new qU),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function m0(){return new Qt(Pe.comparator)}function zU(){return new Qt(Pe.comparator)}const NTe={asc:"ASCENDING",desc:"DESCENDING"},MTe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DTe={and:"AND",or:"OR"};class kTe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Q1(t,e){return t.useProto3Json||uy(e)?e:{value:e}}function sh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aH(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function OTe(t,e){return sh(t,e.toTimestamp())}function Mn(t){return qe(!!t,49232),Ge.fromTimestamp((function(n){const r=pa(n);return new Ot(r.seconds,r.nanos)})(t))}function qP(t,e){return X1(t,e).canonicalString()}function X1(t,e){const n=(function(i){return new vt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function lH(t){const e=vt.fromString(t);return qe(vH(e),10190,{key:e.toString()}),e}function Ng(t,e){return qP(t.databaseId,e.path)}function go(t,e){const n=lH(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Pe(dH(n))}function uH(t,e){return qP(t.databaseId,e)}function cH(t){const e=lH(t);return e.length===4?vt.emptyPath():dH(e)}function Z1(t){return new vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dH(t){return qe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function $U(t,e,n){return{name:Ng(t,e),fields:n.value.mapValue.fields}}function fH(t,e,n){const r=go(t,e.name),i=Mn(e.updateTime),s=e.createTime?Mn(e.createTime):Ge.min(),o=new Cr({mapValue:{fields:e.fields}}),l=nn.newFoundDocument(r,i,s,o);return n&&l.setHasCommittedMutations(),n?l.setHasCommittedMutations():l}function VTe(t,e){return"found"in e?(function(r,i){qe(!!i.found,43571),i.found.name,i.found.updateTime;const s=go(r,i.found.name),o=Mn(i.found.updateTime),l=i.found.createTime?Mn(i.found.createTime):Ge.min(),u=new Cr({mapValue:{fields:i.found.fields}});return nn.newFoundDocument(s,o,l,u)})(t,e):"missing"in e?(function(r,i){qe(!!i.missing,3894),qe(!!i.readTime,22933);const s=go(r,i.missing),o=Mn(i.readTime);return nn.newNoDocument(s,o)})(t,e):Oe(7234,{result:e})}function LTe(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Oe(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(d,f){return d.useProto3Json?(qe(f===void 0||typeof f=="string",58123),En.fromBase64String(f||"")):(qe(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),En.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&(function(d){const f=d.code===void 0?oe.UNKNOWN:rH(d.code);return new ve(f,d.message||"")})(o);n=new oH(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=go(t,r.document.name),s=Mn(r.document.updateTime),o=r.document.createTime?Mn(r.document.createTime):Ge.min(),l=new Cr({mapValue:{fields:r.document.fields}}),u=nn.newFoundDocument(i,s,o,l),d=r.targetIds||[],f=r.removedTargetIds||[];n=new F0(d,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=go(t,r.document),s=r.readTime?Mn(r.readTime):Ge.min(),o=nn.newNoDocument(i,s),l=r.removedTargetIds||[];n=new F0([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=go(t,r.document),s=r.removedTargetIds||[];n=new F0([],s,i,null)}else{if(!("filter"in e))return Oe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new ITe(i,s),l=r.targetId;n=new sH(l,o)}}return n}function Mg(t,e){let n;if(e instanceof Oh)n={update:$U(t,e.key,e.value)};else if(e instanceof Vh)n={delete:Ng(t,e.key)};else if(e instanceof Ca)n={update:$U(t,e.key,e.data),updateMask:zTe(e.fieldMask)};else{if(!(e instanceof LP))return Oe(16599,{Vt:e.type});n={verify:Ng(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,o){const l=o.transform;if(l instanceof rh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Oc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Vc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof ih)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw Oe(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:OTe(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Oe(27497)})(t,e.precondition)),n}function eC(t,e){const n=e.currentDocument?(function(s){return s.updateTime!==void 0?cn.updateTime(Mn(s.updateTime)):s.exists!==void 0?cn.exists(s.exists):cn.none()})(e.currentDocument):cn.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(o,l){let u=null;if("setToServerValue"in l)qe(l.setToServerValue==="REQUEST_TIME",16630,{proto:l}),u=new rh;else if("appendMissingElements"in l){const f=l.appendMissingElements.values||[];u=new Oc(f)}else if("removeAllFromArray"in l){const f=l.removeAllFromArray.values||[];u=new Vc(f)}else"increment"in l?u=new ih(o,l.increment):Oe(16584,{proto:l});const d=un.fromServerFormat(l.fieldPath);return new my(d,u)})(t,i))):[];if(e.update){e.update.name;const i=go(t,e.update.name),s=new Cr({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=(function(u){const d=u.fieldPaths||[];return new fi(d.map((f=>un.fromServerFormat(f))))})(e.updateMask);return new Ca(i,s,o,n,r)}return new Oh(i,s,n,r)}if(e.delete){const i=go(t,e.delete);return new Vh(i,n)}if(e.verify){const i=go(t,e.verify);return new LP(i,n)}return Oe(1463,{proto:e})}function UTe(t,e){return t&&t.length>0?(qe(e!==void 0,14353),t.map((n=>(function(i,s){let o=i.updateTime?Mn(i.updateTime):Mn(s);return o.isEqual(Ge.min())&&(o=Mn(s)),new STe(o,i.transformResults||[])})(n,e)))):[]}function hH(t,e){return{documents:[uH(t,e.path)]}}function mH(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=uH(t,i);const s=(function(d){if(d.length!==0)return yH(Ft.create(d,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const o=(function(d){if(d.length!==0)return d.map((f=>(function(v){return{field:nf(v.field),direction:jTe(v.dir)}})(f)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Q1(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:i}}function pH(t){let e=cH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){qe(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=(function(m){const v=gH(m);return v instanceof Ft&&DP(v)?v.getFilters():[v]})(n.where));let o=[];n.orderBy&&(o=(function(m){return m.map((v=>(function(T){return new Pg(rf(T.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(v)))})(n.orderBy));let l=null;n.limit&&(l=(function(m){let v;return v=typeof m=="object"?m.value:m,uy(v)?null:v})(n.limit));let u=null;n.startAt&&(u=(function(m){const v=!!m.before,b=m.values||[];return new Gl(b,v)})(n.startAt));let d=null;return n.endAt&&(d=(function(m){const v=!m.before,b=m.values||[];return new Gl(b,v)})(n.endAt)),B8(e,i,o,s,l,"F",u,d)}function FTe(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gH(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=rf(n.unaryFilter.field);return xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=rf(n.unaryFilter.field);return xt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=rf(n.unaryFilter.field);return xt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=rf(n.unaryFilter.field);return xt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return xt.create(rf(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ft.create(n.compositeFilter.filters.map((r=>gH(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}})(n.compositeFilter.op))})(t):Oe(30097,{filter:t})}function jTe(t){return NTe[t]}function BTe(t){return MTe[t]}function qTe(t){return DTe[t]}function nf(t){return{fieldPath:t.canonicalString()}}function rf(t){return un.fromServerFormat(t.fieldPath)}function yH(t){return t instanceof xt?(function(n){if(n.op==="=="){if(IU(n.value))return{unaryFilter:{field:nf(n.field),op:"IS_NAN"}};if(CU(n.value))return{unaryFilter:{field:nf(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(IU(n.value))return{unaryFilter:{field:nf(n.field),op:"IS_NOT_NAN"}};if(CU(n.value))return{unaryFilter:{field:nf(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nf(n.field),op:BTe(n.op),value:n.value}}})(t):t instanceof Ft?(function(n){const r=n.getFilters().map((i=>yH(i)));return r.length===1?r[0]:{compositeFilter:{op:qTe(n.op),filters:r}}})(t):Oe(54877,{filter:t})}function zTe(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function vH(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n,r,i,s=Ge.min(),o=Ge.min(),l=En.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new ra(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(e){this.yt=e}}function $Te(t,e){let n;if(e.document)n=fH(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Pe.fromSegments(e.noDocument.path),i=Uc(e.noDocument.readTime);n=nn.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Oe(56709);{const r=Pe.fromSegments(e.unknownDocument.path),i=Uc(e.unknownDocument.version);n=nn.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const s=new Ot(i[0],i[1]);return Ge.fromTimestamp(s)})(e.readTime)),n}function GU(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Kx(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,o){return{name:Ng(s,o.key),fields:o.data.value.mapValue.fields,updateTime:sh(s,o.version.toTimestamp()),createTime:sh(s,o.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Lc(e.version)};else{if(!e.isUnknownDocument())return Oe(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:Lc(e.version)}}return r}function Kx(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Lc(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Uc(t){const e=new Ot(t.seconds,t.nanoseconds);return Ge.fromTimestamp(e)}function Zu(t,e){const n=(e.baseMutations||[]).map((s=>eC(t.yt,s)));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const l=e.mutations[s+1];o.updateTransforms=l.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map((s=>eC(t.yt,s))),i=Ot.fromMillis(e.localWriteTimeMs);return new UP(e.batchId,i,n,r)}function Sp(t){const e=Uc(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Uc(t.lastLimboFreeSnapshotVersion):Ge.min();let r;return r=(function(s){return s.documents!==void 0})(t.query)?(function(s){const o=s.documents.length;return qe(o===1,1966,{count:o}),ti(kh(cH(s.documents[0])))})(t.query):(function(s){return ti(pH(s))})(t.query),new ra(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,En.fromBase64String(t.resumeToken))}function bH(t,e){const n=Lc(e.snapshotVersion),r=Lc(e.lastLimboFreeSnapshotVersion);let i;i=$x(e.target)?hH(t.yt,e.target):mH(t.yt,e.target).ft;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:kc(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function zP(t){const e=pH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Hx(e,e.limit,"L"):e}function QS(t,e){return new jP(e.largestBatchId,eC(t.yt,e.overlayMutation))}function HU(t,e){const n=e.path.lastSegment();return[t,zr(e.path.popLast()),n]}function KU(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Lc(r.readTime),documentKey:zr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GTe{getBundleMetadata(e,n){return WU(e).get(n).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:Uc(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,n){return WU(e).put((function(i){return{bundleId:i.id,createTime:Lc(Mn(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return YU(e).get(n).next((r=>{if(r)return(function(s){return{name:s.name,query:zP(s.bundledQuery),readTime:Uc(s.readTime)}})(r)}))}saveNamedQuery(e,n){return YU(e).put((function(i){return{name:i.name,readTime:Lc(Mn(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function WU(t){return rr(t,tw)}function YU(t){return rr(t,nw)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new uw(e,r)}getOverlay(e,n){return cp(e).get(HU(this.userId,n)).next((r=>r?QS(this.serializer,r):null))}getOverlays(e,n){const r=lo();return te.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((s,o)=>{const l=new jP(n,o);i.push(this.St(e,l))})),te.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((o=>i.add(zr(o.getCollectionPath()))));const s=[];return i.forEach((o=>{const l=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(cp(e).Z(q1,l))})),te.waitFor(s)}getOverlaysForCollection(e,n,r){const i=lo(),s=zr(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return cp(e).J(q1,o).next((l=>{for(const u of l){const d=QS(this.serializer,u);i.set(d.getKey(),d)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const s=lo();let o;const l=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return cp(e).ee({index:x8,range:l},((u,d,f)=>{const m=QS(this.serializer,d);s.size()<i||m.largestBatchId===o?(s.set(m.getKey(),m),o=m.largestBatchId):f.done()})).next((()=>s))}St(e,n){return cp(e).put((function(i,s,o){const[l,u,d]=HU(s,o.mutation.key);return{userId:s,collectionPath:u,documentId:d,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Mg(i.yt,o.mutation)}})(this.serializer,this.userId,n))}}function cp(t){return rr(t,rw)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HTe{bt(e){return rr(e,RP)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n==null?void 0:n.value;return r?En.fromUint8Array(r):En.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(an(e.integerValue));else if("doubleValue"in e){const r=an(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Tg(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=pa(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(ga(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?N8(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):ow(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):Oe(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){var o,l;const r=e.fields||{};this.Ft(n,53);const i=eh,s=((l=(o=r[i].arrayValue)==null?void 0:o.values)==null?void 0:l.length)||0;this.Ft(n,15),n.Mt(an(s)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),Pe.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}ec.Kt=new ec;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd=255;function KTe(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function JU(t){const e=64-(function(r){let i=0;for(let s=0;s<8;++s){const o=KTe(255&r[s]);if(i+=o,o!==8)break}return i})(t);return Math.ceil(e/8)}class WTe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const n=this.en(e),r=JU(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=JU(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(Jd),this.sn(255)}_n(){this.an(Jd),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===Jd?(this.sn(Jd),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===Jd?(this.an(Jd),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class YTe{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class JTe{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class dp{constructor(){this.cn=new WTe,this.ln=new YTe(this.cn),this.hn=new JTe(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,n,r,i){this.Tn=e,this.In=n,this.En=r,this.dn=i}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new tc(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:j0(this.En),directionalValue:j0(this.dn),orderedDocumentKey:j0(n),documentKey:r.path.toArray()}}Vn(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function hl(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=QU(t.En,e.En),n!==0?n:(n=QU(t.dn,e.dn),n!==0?n:Pe.comparator(t.In,e.In)))}function QU(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function j0(t){return gj()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function XU(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class ZU{constructor(e){this.mn=new jt(((n,r)=>un.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(qe(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=F1(e);if(n!==void 0&&!this.wn(n))return!1;const r=Ju(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.wn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.mn.size>0){const l=this.mn.getIterator().getNext();if(!i.has(l.field.canonicalString())){const u=r[s];if(!this.Sn(l,u)||!this.bn(this.fn[o++],u))return!1}++s}for(;s<r.length;++s){const l=r[s];if(o>=this.fn.length||!this.bn(this.fn[o++],l))return!1}return!0}Dn(){if(this.pn)return null;let e=new jt(un.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new M0(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new M0(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new M0(r.field,r.dir==="asc"?0:1)));return new jx(jx.UNKNOWN_ID,this.collectionId,n,_g.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wH(t){var n,r;if(qe(t instanceof xt||t instanceof Ft,20012),t instanceof xt){if(t instanceof j8){const i=((r=(n=t.value.arrayValue)==null?void 0:n.values)==null?void 0:r.map((s=>xt.create(t.field,"==",s))))||[];return Ft.create(i,"or")}return t}const e=t.filters.map((i=>wH(i)));return Ft.create(e,t.op)}function QTe(t){if(t.getFilters().length===0)return[];const e=rC(wH(t));return qe(_H(e),7391),tC(e)||nC(e)?[e]:e.getFilters()}function tC(t){return t instanceof xt}function nC(t){return t instanceof Ft&&DP(t)}function _H(t){return tC(t)||nC(t)||(function(n){if(n instanceof Ft&&K1(n)){for(const r of n.getFilters())if(!tC(r)&&!nC(r))return!1;return!0}return!1})(t)}function rC(t){if(qe(t instanceof xt||t instanceof Ft,34018),t instanceof xt)return t;if(t.filters.length===1)return rC(t.filters[0]);const e=t.filters.map((r=>rC(r)));let n=Ft.create(e,t.op);return n=Wx(n),_H(n)?n:(qe(n instanceof Ft,64498),qe(nh(n),40251),qe(n.filters.length>1,57927),n.filters.reduce(((r,i)=>$P(r,i))))}function $P(t,e){let n;return qe(t instanceof xt||t instanceof Ft,38388),qe(e instanceof xt||e instanceof Ft,25473),n=t instanceof xt?e instanceof xt?(function(i,s){return Ft.create([i,s],"and")})(t,e):e5(t,e):e instanceof xt?e5(e,t):(function(i,s){if(qe(i.filters.length>0&&s.filters.length>0,48005),nh(i)&&nh(s))return L8(i,s.getFilters());const o=K1(i)?i:s,l=K1(i)?s:i,u=o.filters.map((d=>$P(d,l)));return Ft.create(u,"or")})(t,e),Wx(n)}function e5(t,e){if(nh(e))return L8(e,t.getFilters());{const n=e.filters.map((r=>$P(t,r)));return Ft.create(n,"or")}}function Wx(t){if(qe(t instanceof xt||t instanceof Ft,11850),t instanceof xt)return t;const e=t.getFilters();if(e.length===1)return Wx(e[0]);if(O8(t))return t;const n=e.map((i=>Wx(i))),r=[];return n.forEach((i=>{i instanceof xt?r.push(i):i instanceof Ft&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:Ft.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XTe{constructor(){this.Cn=new GP}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Ui.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Ui.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class GP{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new jt(vt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new jt(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5="IndexedDbIndexManager",p0=new Uint8Array(0);class ZTe{constructor(e,n){this.databaseId=n,this.vn=new GP,this.Fn=new Aa((r=>kc(r)),((r,i)=>dy(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const s={collectionId:r,parent:zr(i)};return n5(e).put(s)}return te.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[i8(n),""],!1,!0);return n5(e).J(i).next((s=>{for(const o of s){if(o.collectionId!==n)break;r.push(ao(o.parent))}return r}))}addFieldIndex(e,n){const r=fp(e),i=(function(l){return{indexId:l.indexId,collectionGroup:l.collectionGroup,fields:l.fields.map((u=>[u.fieldPath.canonicalString(),u.kind]))}})(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=Xd(e);return s.next((l=>{o.put(KU(l,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return s.next()}deleteFieldIndex(e,n){const r=fp(e),i=Xd(e),s=Qd(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=fp(e),r=Qd(e),i=Xd(e);return n.Z().next((()=>r.Z())).next((()=>i.Z()))}createTargetIndexes(e,n){return te.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const s=new ZU(r).Dn();if(s!=null)return this.addFieldIndex(e,s)}}))))}getDocumentsMatchingTarget(e,n){const r=Qd(e);let i=!0;const s=new Map;return te.forEach(this.Mn(n),(o=>this.xn(e,o).next((l=>{i&&(i=!!l),s.set(o,l)})))).next((()=>{if(i){let o=at();const l=[];return te.forEach(s,((u,d)=>{be(t5,`Using index ${(function(N){return`id=${N.indexId}|cg=${N.collectionGroup}|f=${N.fields.map((F=>`${F.fieldPath}:${F.kind}`)).join(",")}`})(u)} to execute ${kc(n)}`);const f=(function(N,F){const V=F1(F);if(V===void 0)return null;for(const B of Gx(N,V.fieldPath))switch(B.op){case"array-contains-any":return B.value.arrayValue.values||[];case"array-contains":return[B.value]}return null})(d,u),m=(function(N,F){const V=new Map;for(const B of Ju(F))for(const k of Gx(N,B.fieldPath))switch(k.op){case"==":case"in":V.set(B.fieldPath.canonicalString(),k.value);break;case"not-in":case"!=":return V.set(B.fieldPath.canonicalString(),k.value),Array.from(V.values())}return null})(d,u),v=(function(N,F){const V=[];let B=!0;for(const k of Ju(F)){const R=k.kind===0?DU(N,k.fieldPath,N.startAt):kU(N,k.fieldPath,N.startAt);V.push(R.value),B&&(B=R.inclusive)}return new Gl(V,B)})(d,u),b=(function(N,F){const V=[];let B=!0;for(const k of Ju(F)){const R=k.kind===0?kU(N,k.fieldPath,N.endAt):DU(N,k.fieldPath,N.endAt);V.push(R.value),B&&(B=R.inclusive)}return new Gl(V,B)})(d,u),T=this.On(u,d,v),S=this.On(u,d,b),A=this.Nn(u,d,m),C=this.Bn(u.indexId,f,T,v.inclusive,S,b.inclusive,A);return te.forEach(C,(D=>r.Y(D,n.limit).next((N=>{N.forEach((F=>{const V=Pe.fromSegments(F.documentKey);o.has(V)||(o=o.add(V),l.push(V))}))}))))})).next((()=>l))}return te.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=QTe(Ft.create(e.filters,"and")).map((r=>Y1(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,i,s,o,l){const u=(n!=null?n.length:1)*Math.max(r.length,s.length),d=u/(n!=null?n.length:1),f=[];for(let m=0;m<u;++m){const v=n?this.Ln(n[m/d]):p0,b=this.kn(e,v,r[m%d],i),T=this.qn(e,v,s[m%d],o),S=l.map((A=>this.kn(e,v,A,!0)));f.push(...this.createRange(b,T,S))}return f}kn(e,n,r,i){const s=new tc(e,Pe.empty(),n,r);return i?s:s.An()}qn(e,n,r,i){const s=new tc(e,Pe.empty(),n,r);return i?s.An():s}xn(e,n){const r=new ZU(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((s=>{let o=null;for(const l of s)r.yn(l)&&(!o||l.fields.length>o.fields.length)&&(o=l);return o}))}getIndexType(e,n){let r=2;const i=this.Mn(n);return te.forEach(i,(s=>this.xn(e,s).next((o=>{o?r!==0&&o.fields.length<(function(u){let d=new jt(un.comparator),f=!1;for(const m of u.filters)for(const v of m.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?f=!0:d=d.add(v.field));for(const m of u.orderBy)m.field.isKeyField()||(d=d.add(m.field));return d.size+(f?1:0)})(s)&&(r=1):r=0})))).next((()=>(function(o){return o.limit!==null})(n)&&i.length>1&&r===2?1:r))}Qn(e,n){const r=new dp;for(const i of Ju(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Pn(i.kind);ec.Kt.Dt(s,o)}return r.un()}Ln(e){const n=new dp;return ec.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new dp;return ec.Kt.Dt(Dc(this.databaseId,n),r.Pn((function(s){const o=Ju(s);return o.length===0?0:o[o.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let i=[];i.push(new dp);let s=0;for(const o of Ju(e)){const l=r[s++];for(const u of i)if(this.Un(n,o.fieldPath)&&Rg(l))i=this.Kn(i,o,l);else{const d=u.Pn(o.kind);ec.Kt.Dt(l,d)}}return this.Wn(i)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const l of i){const u=new dp;u.seed(l.un()),ec.Kt.Dt(o,u.Pn(n.kind)),s.push(u)}return s}Un(e,n){return!!e.filters.find((r=>r instanceof xt&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=fp(e),i=Xd(e);return(n?r.J(B1,IDBKeyRange.bound(n,n)):r.J()).next((s=>{const o=[];return te.forEach(s,(l=>i.get([l.indexId,this.uid]).next((u=>{o.push((function(f,m){const v=m?new _g(m.sequenceNumber,new Ui(Uc(m.readTime),new Pe(ao(m.documentKey)),m.largestBatchId)):_g.empty(),b=f.fields.map((([T,S])=>new M0(un.fromServerFormat(T),S)));return new jx(f.indexId,f.collectionGroup,b,v)})(l,u))})))).next((()=>o))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:it(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=fp(e),s=Xd(e);return this.Gn(e).next((o=>i.J(B1,IDBKeyRange.bound(n,n)).next((l=>te.forEach(l,(u=>s.put(KU(u.indexId,this.uid,o,r))))))))}updateIndexEntries(e,n){const r=new Map;return te.forEach(n,((i,s)=>{const o=r.get(i.collectionGroup);return(o?te.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next((l=>(r.set(i.collectionGroup,l),te.forEach(l,(u=>this.zn(e,i,u).next((d=>{const f=this.jn(s,u);return d.isEqual(f)?te.resolve():this.Jn(e,s,u,d,f)})))))))}))}Hn(e,n,r,i){return Qd(e).put(i.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,i){return Qd(e).delete(i.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const i=Qd(e);let s=new jt(hl);return i.ee({index:v8,range:IDBKeyRange.only([r.indexId,this.uid,j0(this.$n(r,n))])},((o,l)=>{s=s.add(new tc(r.indexId,n,XU(l.arrayValue),XU(l.directionalValue)))})).next((()=>s))}jn(e,n){let r=new jt(hl);const i=this.Qn(n,e);if(i==null)return r;const s=F1(n);if(s!=null){const o=e.data.field(s.fieldPath);if(Rg(o))for(const l of o.arrayValue.values||[])r=r.add(new tc(n.indexId,e.key,this.Ln(l),i))}else r=r.add(new tc(n.indexId,e.key,p0,i));return r}Jn(e,n,r,i,s){be(t5,"Updating index entries for document '%s'",n.key);const o=[];return(function(u,d,f,m,v){const b=u.getIterator(),T=d.getIterator();let S=Yd(b),A=Yd(T);for(;S||A;){let C=!1,D=!1;if(S&&A){const N=f(S,A);N<0?D=!0:N>0&&(C=!0)}else S!=null?D=!0:C=!0;C?(m(A),A=Yd(T)):D?(v(S),S=Yd(b)):(S=Yd(b),A=Yd(T))}})(i,s,hl,(l=>{o.push(this.Hn(e,n,r,l))}),(l=>{o.push(this.Yn(e,n,r,l))})),te.waitFor(o)}Gn(e){let n=1;return Xd(e).ee({index:y8,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,s)=>{s.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((o,l)=>hl(o,l))).filter(((o,l,u)=>!l||hl(o,u[l-1])!==0));const i=[];i.push(e);for(const o of r){const l=hl(o,e),u=hl(o,n);if(l===0)i[0]=e.An();else if(l>0&&u<0)i.push(o),i.push(o.An());else if(u>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Zn(i[o],i[o+1]))return[];const l=i[o].Vn(this.uid,p0,Pe.empty()),u=i[o+1].Vn(this.uid,p0,Pe.empty());s.push(IDBKeyRange.bound(l,u))}return s}Zn(e,n){return hl(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(r5)}getMinOffset(e,n){return te.mapArray(this.Mn(n),(r=>this.xn(e,r).next((i=>i||Oe(44426))))).next(r5)}}function n5(t){return rr(t,Ag)}function Qd(t){return rr(t,Gp)}function fp(t){return rr(t,IP)}function Xd(t){return rr(t,$p)}function r5(t){qe(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;SP(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Ui(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TH=41943040;class Ur{static withCacheSize(e){return new Ur(e,Ur.DEFAULT_COLLECTION_PERCENTILE,Ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EH(t,e,n){const r=t.store(Es),i=t.store(Jf),s=[],o=IDBKeyRange.only(n.batchId);let l=0;const u=r.ee({range:o},((f,m,v)=>(l++,v.delete())));s.push(u.next((()=>{qe(l===1,47070,{batchId:n.batchId})})));const d=[];for(const f of n.mutations){const m=m8(e,f.key.path,n.batchId);s.push(i.delete(m)),d.push(f.key)}return te.waitFor(s).next((()=>d))}function Yx(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Oe(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ur.DEFAULT_COLLECTION_PERCENTILE=10,Ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ur.DEFAULT=new Ur(TH,Ur.DEFAULT_COLLECTION_PERCENTILE,Ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ur.DISABLED=new Ur(-1,0,0);class cw{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,n,r,i){qe(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new cw(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ml(e).ee({index:dc,range:r},((i,s,o)=>{n=!1,o.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const s=sf(e),o=ml(e);return o.add({}).next((l=>{qe(typeof l=="number",49019);const u=new UP(l,n,r,i),d=(function(b,T,S){const A=S.baseMutations.map((D=>Mg(b.yt,D))),C=S.mutations.map((D=>Mg(b.yt,D)));return{userId:T,batchId:S.batchId,localWriteTimeMs:S.localWriteTime.toMillis(),baseMutations:A,mutations:C}})(this.serializer,this.userId,u),f=[];let m=new jt(((v,b)=>it(v.canonicalString(),b.canonicalString())));for(const v of i){const b=m8(this.userId,v.key.path,l);m=m.add(v.key.path.popLast()),f.push(o.put(d)),f.push(s.put(b,D_e))}return m.forEach((v=>{f.push(this.indexManager.addToCollectionParentIndex(e,v))})),e.addOnCommittedListener((()=>{this.Xn[l]=u.keys()})),te.waitFor(f).next((()=>u))}))}lookupMutationBatch(e,n){return ml(e).get(n).next((r=>r?(qe(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Zu(this.serializer,r)):null))}er(e,n){return this.Xn[n]?te.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Xn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return ml(e).ee({index:dc,range:i},((o,l,u)=>{l.userId===this.userId&&(qe(l.batchId>=r,47524,{tr:r}),s=Zu(this.serializer,l)),u.done()})).next((()=>s))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Nl;return ml(e).ee({index:dc,range:n,reverse:!0},((i,s,o)=>{r=s.batchId,o.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Nl],[this.userId,Number.POSITIVE_INFINITY]);return ml(e).J(dc,n).next((r=>r.map((i=>Zu(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=D0(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return sf(e).ee({range:i},((o,l,u)=>{const[d,f,m]=o,v=ao(f);if(d===this.userId&&n.path.isEqual(v))return ml(e).get(m).next((b=>{if(!b)throw Oe(61480,{nr:o,batchId:m});qe(b.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:b.userId,batchId:m}),s.push(Zu(this.serializer,b))}));u.done()})).next((()=>s))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new jt(it);const i=[];return n.forEach((s=>{const o=D0(this.userId,s.path),l=IDBKeyRange.lowerBound(o),u=sf(e).ee({range:l},((d,f,m)=>{const[v,b,T]=d,S=ao(b);v===this.userId&&s.path.isEqual(S)?r=r.add(T):m.done()}));i.push(u)})),te.waitFor(i).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=D0(this.userId,r),o=IDBKeyRange.lowerBound(s);let l=new jt(it);return sf(e).ee({range:o},((u,d,f)=>{const[m,v,b]=u,T=ao(v);m===this.userId&&r.isPrefixOf(T)?T.length===i&&(l=l.add(b)):f.done()})).next((()=>this.rr(e,l)))}rr(e,n){const r=[],i=[];return n.forEach((s=>{i.push(ml(e).get(s).next((o=>{if(o===null)throw Oe(35274,{batchId:s});qe(o.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:o.userId,batchId:s}),r.push(Zu(this.serializer,o))})))})),te.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return EH(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),te.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return te.resolve();const r=IDBKeyRange.lowerBound((function(o){return[o]})(this.userId)),i=[];return sf(e).ee({range:r},((s,o,l)=>{if(s[0]===this.userId){const u=ao(s[1]);i.push(u)}else l.done()})).next((()=>{qe(i.length===0,56720,{sr:i.map((s=>s.canonicalString()))})}))}))}containsKey(e,n){return SH(e,this.userId,n)}_r(e){return AH(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:Nl,lastStreamToken:""}))}}function SH(t,e,n){const r=D0(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return sf(t).ee({range:s,X:!0},((l,u,d)=>{const[f,m,v]=l;f===e&&m===i&&(o=!0),d.done()})).next((()=>o))}function ml(t){return rr(t,Es)}function sf(t){return rr(t,Jf)}function AH(t){return rr(t,Eg)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Fc(0)}static cr(){return new Fc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eEe{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new Fc(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Ge.fromTimestamp(new Ot(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.hr(e,i))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Zd(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(qe(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let i=0;const s=[];return Zd(e).ee(((o,l)=>{const u=Sp(l);u.sequenceNumber<=n&&r.get(u.targetId)===null&&(i++,s.push(this.removeTargetData(e,u)))})).next((()=>te.waitFor(s))).next((()=>i))}forEachTarget(e,n){return Zd(e).ee(((r,i)=>{const s=Sp(i);n(s)}))}lr(e){return s5(e).get(zx).next((n=>(qe(n!==null,2888),n)))}hr(e,n){return s5(e).put(zx,n)}Pr(e,n){return Zd(e).put(bH(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=kc(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Zd(e).ee({range:i,index:g8},((o,l,u)=>{const d=Sp(l);dy(n,d.target)&&(s=d,u.done())})).next((()=>s))}addMatchingKeys(e,n,r){const i=[],s=wl(e);return n.forEach((o=>{const l=zr(o.path);i.push(s.put({targetId:r,path:l})),i.push(this.referenceDelegate.addReference(e,r,o))})),te.waitFor(i)}removeMatchingKeys(e,n,r){const i=wl(e);return te.forEach(n,(s=>{const o=zr(s.path);return te.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])}))}removeMatchingKeysForTargetId(e,n){const r=wl(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=wl(e);let s=at();return i.ee({range:r,X:!0},((o,l,u)=>{const d=ao(o[1]),f=new Pe(d);s=s.add(f)})).next((()=>s))}containsKey(e,n){const r=zr(n.path),i=IDBKeyRange.bound([r],[i8(r)],!1,!0);let s=0;return wl(e).ee({index:CP,X:!0,range:i},(([o,l],u,d)=>{o!==0&&(s++,d.done())})).next((()=>s>0))}At(e,n){return Zd(e).get(n).next((r=>r?Sp(r):null))}}function Zd(t){return rr(t,Qf)}function s5(t){return rr(t,Tc)}function wl(t){return rr(t,Xf)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5="LruGarbageCollector",tEe=1048576;function a5([t,e],[n,r]){const i=it(t,n);return i===0?it(e,r):i}class nEe{constructor(e){this.Ir=e,this.buffer=new jt(a5),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();a5(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class CH{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){be(o5,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(()=>P(this,null,function*(){this.Rr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){ou(n)?be(o5,"Ignoring IndexedDB error during garbage collection: ",n):yield su(n)}yield this.Vr(3e5)})))}}class rEe{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(di.ce);const r=new nEe(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(i5)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),i5):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,o,l,u,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,o=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(r=m,l=Date.now(),this.removeTargets(e,r,n)))).next((m=>(s=m,u=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(d=Date.now(),ef()<=gt.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${m} documents in `+(d-u)+`ms
Total Duration: ${d-f}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m}))))}}function IH(t,e){return new rEe(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iEe{constructor(e,n){this.db=e,this.garbageCollector=IH(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,i)=>n(i)))}addReference(e,n,r){return g0(e,r)}removeReference(e,n,r){return g0(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return g0(e,n)}br(e,n){return(function(i,s){let o=!1;return AH(i).te((l=>SH(i,l,s).next((u=>(u&&(o=!0),te.resolve(!u)))))).next((()=>o))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Sr(e,((o,l)=>{if(l<=n){const u=this.br(e,o).next((d=>{if(!d)return s++,r.getEntry(e,o).next((()=>(r.removeEntry(o,Ge.min()),wl(e).delete((function(m){return[0,zr(m.path)]})(o)))))}));i.push(u)}})).next((()=>te.waitFor(i))).next((()=>r.apply(e))).next((()=>s))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return g0(e,n)}Sr(e,n){const r=wl(e);let i,s=di.ce;return r.ee({index:CP},(([o,l],{path:u,sequenceNumber:d})=>{o===0?(s!==di.ce&&n(new Pe(ao(i)),s),s=d,i=u):s=di.ce})).next((()=>{s!==di.ce&&n(new Pe(ao(i)),s)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function g0(t,e){return wl(t).put((function(r,i){return{targetId:0,path:zr(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RH{constructor(){this.changes=new Aa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sEe{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return $u(e).put(r)}removeEntry(e,n,r){return $u(e).delete((function(s,o){const l=s.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],Kx(o),l[l.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=nn.newInvalidDocument(n);return $u(e).ee({index:k0,range:IDBKeyRange.only(hp(n))},((i,s)=>{r=this.Cr(n,s)})).next((()=>r))}vr(e,n){let r={size:0,document:nn.newInvalidDocument(n)};return $u(e).ee({index:k0,range:IDBKeyRange.only(hp(n))},((i,s)=>{r={document:this.Cr(n,s),size:Yx(s)}})).next((()=>r))}getEntries(e,n){let r=hi();return this.Fr(e,n,((i,s)=>{const o=this.Cr(i,s);r=r.insert(i,o)})).next((()=>r))}Mr(e,n){let r=hi(),i=new Qt(Pe.comparator);return this.Fr(e,n,((s,o)=>{const l=this.Cr(s,o);r=r.insert(s,l),i=i.insert(s,Yx(o))})).next((()=>({documents:r,Or:i})))}Fr(e,n,r){if(n.isEmpty())return te.resolve();let i=new jt(c5);n.forEach((u=>i=i.add(u)));const s=IDBKeyRange.bound(hp(i.first()),hp(i.last())),o=i.getIterator();let l=o.getNext();return $u(e).ee({index:k0,range:s},((u,d,f)=>{const m=Pe.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;l&&c5(l,m)<0;)r(l,null),l=o.getNext();l&&l.isEqual(m)&&(r(l,d),l=o.hasNext()?o.getNext():null),l?f.j(hp(l)):f.done()})).next((()=>{for(;l;)r(l,null),l=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,l=[o.popLast().toArray(),o.lastSegment(),Kx(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return $u(e).J(IDBKeyRange.bound(l,u,!0)).next((d=>{s==null||s.incrementDocumentReadCount(d.length);let f=hi();for(const m of d){const v=this.Cr(Pe.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);v.isFoundDocument()&&(hy(n,v)||i.has(v.key))&&(f=f.insert(v.key,v))}return f}))}getAllFromCollectionGroup(e,n,r,i){let s=hi();const o=u5(n,r),l=u5(n,Ui.max());return $u(e).ee({index:p8,range:IDBKeyRange.bound(o,l,!0)},((u,d,f)=>{const m=this.Cr(Pe.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);s=s.insert(m.key,m),s.size===i&&f.done()})).next((()=>s))}newChangeBuffer(e){return new oEe(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return l5(e).get(j1).next((n=>(qe(!!n,20021),n)))}Dr(e,n){return l5(e).put(j1,n)}Cr(e,n){if(n){const r=$Te(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Ge.min())))return r}return nn.newInvalidDocument(e)}}function PH(t){return new sEe(t)}class oEe extends RH{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Aa((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new jt(((s,o)=>it(s.canonicalString(),o.canonicalString())));return this.changes.forEach(((s,o)=>{const l=this.Br.get(s);if(n.push(this.Nr.removeEntry(e,s,l.readTime)),o.isValidDocument()){const u=GU(this.Nr.serializer,o);i=i.add(s.path.popLast());const d=Yx(u);r+=d-l.size,n.push(this.Nr.addEntry(e,s,u))}else if(r-=l.size,this.trackRemovals){const u=GU(this.Nr.serializer,o.convertToNoDocument(Ge.min()));n.push(this.Nr.addEntry(e,s,u))}})),i.forEach((s=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,s))})),n.push(this.Nr.updateMetadata(e,r)),te.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:i})=>(i.forEach(((s,o)=>{this.Br.set(s,{size:o,readTime:r.get(s).readTime})})),r)))}}function l5(t){return rr(t,Sg)}function $u(t){return rr(t,qx)}function hp(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function u5(t,e){const n=e.documentKey.path.toArray();return[t,Kx(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function c5(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=it(n[s],r[s]),i)return i;return i=it(n.length,r.length),i||(i=it(n[n.length-2],r[r.length-2]),i||it(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aEe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Wp(r.mutation,i,fi.empty(),Ot.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,at()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=at()){const i=lo();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let o=Tp();return s.forEach(((l,u)=>{o=o.insert(l,u.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=lo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,at())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((o,l)=>{n.set(o,l)}))}))}computeViews(e,n,r,i){let s=hi();const o=Kp(),l=(function(){return Kp()})();return n.forEach(((u,d)=>{const f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof Ca)?s=s.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),Wp(f.mutation,d,f.mutation.getFieldMask(),Ot.now())):o.set(d.key,fi.empty())})),this.recalculateAndSaveOverlays(e,s).next((u=>(u.forEach(((d,f)=>o.set(d,f))),n.forEach(((d,f)=>{var m;return l.set(d,new aEe(f,(m=o.get(d))!=null?m:null))})),l)))}recalculateAndSaveOverlays(e,n){const r=Kp();let i=new Qt(((o,l)=>o-l)),s=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const l of o)l.keys().forEach((u=>{const d=n.get(u);if(d===null)return;let f=r.get(u)||fi.empty();f=l.applyToLocalView(d,f),r.set(u,f);const m=(i.get(l.batchId)||at()).add(u);i=i.insert(l.batchId,m)}))})).next((()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),d=u.key,f=u.value,m=K8();f.forEach((v=>{if(!s.has(v)){const b=eH(n.get(v),r.get(v));b!==null&&m.set(v,b),s=s.add(v)}})),o.push(this.documentOverlayCache.saveOverlays(e,d,m))}return te.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(o){return Pe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):te.resolve(lo());let l=Yf,u=s;return o.next((d=>te.forEach(d,((f,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),s.get(f)?te.resolve():this.remoteDocumentCache.getEntry(e,f).next((v=>{u=u.insert(f,v)}))))).next((()=>this.populateOverlays(e,d,s))).next((()=>this.computeViews(e,u,d,at()))).next((f=>({batchId:l,changes:H8(f)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Pe(n)).next((r=>{let i=Tp();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Tp();return this.indexManager.getCollectionParents(e,s).next((l=>te.forEach(l,(u=>{const d=(function(m,v){return new Sa(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((f=>{f.forEach(((m,v)=>{o=o.insert(m,v)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((o=>{s.forEach(((u,d)=>{const f=d.getKey();o.get(f)===null&&(o=o.insert(f,nn.newInvalidDocument(f)))}));let l=Tp();return o.forEach(((u,d)=>{const f=s.get(u);f!==void 0&&Wp(f.mutation,d,fi.empty(),Ot.now()),hy(n,d)&&(l=l.insert(u,d))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lEe{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Mn(i.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:zP(i.bundledQuery),readTime:Mn(i.readTime)}})(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uEe{constructor(){this.overlays=new Qt(Pe.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=lo();return te.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),te.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const i=lo(),s=n.length+1,o=new Pe(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return te.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Qt(((d,f)=>d-f));const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=s.get(d.largestBatchId);f===null&&(f=lo(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const l=lo(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach(((d,f)=>l.set(d,f))),!(l.size()>=i)););return te.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new jP(n,r));let s=this.qr.get(n);s===void 0&&(s=at(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cEe{constructor(){this.sessionToken=En.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(){this.Qr=new jt(fr.$r),this.Ur=new jt(fr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new fr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new fr(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Pe(new vt([])),r=new fr(n,e),i=new fr(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(o=>{this.Gr(o),s.push(o.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Pe(new vt([])),r=new fr(n,e),i=new fr(n,e+1);let s=at();return this.Ur.forEachInRange([r,i],(o=>{s=s.add(o.key)})),s}containsKey(e){const n=new fr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class fr{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Pe.comparator(e.key,n.key)||it(e.Yr,n.Yr)}static Kr(e,n){return it(e.Yr,n.Yr)||Pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dEe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new jt(fr.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new UP(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.Zr=this.Zr.add(new fr(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return te.resolve(o)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return te.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Nl:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new fr(n,0),i=new fr(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(o=>{const l=this.Xr(o.Yr);s.push(l)})),te.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new jt(it);return n.forEach((i=>{const s=new fr(i,0),o=new fr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],(l=>{r=r.add(l.Yr)}))})),te.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Pe.isDocumentKey(s)||(s=s.child(""));const o=new fr(new Pe(s),0);let l=new jt(it);return this.Zr.forEachWhile((u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(l=l.add(u.Yr)),!0)}),o),te.resolve(this.ti(l))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return te.forEach(n.mutations,(i=>{const s=new fr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new fr(n,0),i=this.Zr.firstAfterOrEqual(r);return te.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fEe{constructor(e){this.ri=e,this.docs=(function(){return new Qt(Pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let r=hi();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():nn.newInvalidDocument(i))})),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=hi();const o=n.path,l=new Pe(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:d,value:{document:f}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||SP(u8(f),r)<=0||(i.has(f.key)||hy(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return te.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Oe(9500)}ii(e,n){return te.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new hEe(this)}getSize(e){return te.resolve(this.size)}}class hEe extends RH{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mEe{constructor(e){this.persistence=e,this.si=new Aa((n=>kc(n)),dy),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this.oi=0,this._i=new HP,this.targetCount=0,this.ai=Fc.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Fc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),te.waitFor(s).next((()=>i))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((o=>{s.push(i.markPotentiallyOrphaned(e,o))})),te.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e,n){this.ui={},this.overlays={},this.ci=new di(0),this.li=!1,this.li=!0,this.hi=new cEe,this.referenceDelegate=e(this),this.Pi=new mEe(this),this.indexManager=new XTe,this.remoteDocumentCache=(function(i){return new fEe(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new xH(n),this.Ii=new lEe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uEe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new dEe(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){be("MemoryPersistence","Starting transaction:",e);const i=new pEe(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return te.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class pEe extends d8{constructor(e){super(),this.currentSequenceNumber=e}}class dw{constructor(e){this.persistence=e,this.Ri=new HP,this.Vi=null}static mi(e){return new dw(e)}get fi(){if(this.Vi)return this.Vi;throw Oe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(r=>{const i=Pe.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,Ge.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Jx{constructor(e,n){this.persistence=e,this.pi=new Aa((r=>zr(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=IH(this,n)}static mi(e,n){return new Jx(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?te.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,n).next((l=>{l||(r++,s.removeEntry(o,Ge.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=V0(e.data.value)),n}br(e,n,r){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return te.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gEe{constructor(e){this.serializer=e}k(e,n,r,i){const s=new ew("createOrUpgrade",n);r<1&&i>=1&&((function(u){u.createObjectStore(cy)})(e),(function(u){u.createObjectStore(Eg,{keyPath:M_e}),u.createObjectStore(Es,{keyPath:wU,autoIncrement:!0}).createIndex(dc,_U,{unique:!0}),u.createObjectStore(Jf)})(e),d5(e),(function(u){u.createObjectStore(Qu)})(e));let o=te.resolve();return r<3&&i>=3&&(r!==0&&((function(u){u.deleteObjectStore(Xf),u.deleteObjectStore(Qf),u.deleteObjectStore(Tc)})(e),d5(e)),o=o.next((()=>(function(u){const d=u.store(Tc),f={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ge.min().toTimestamp(),targetCount:0};return d.put(zx,f)})(s)))),r<4&&i>=4&&(r!==0&&(o=o.next((()=>(function(u,d){return d.store(Es).J().next((m=>{u.deleteObjectStore(Es),u.createObjectStore(Es,{keyPath:wU,autoIncrement:!0}).createIndex(dc,_U,{unique:!0});const v=d.store(Es),b=m.map((T=>v.put(T)));return te.waitFor(b)}))})(e,s)))),o=o.next((()=>{(function(u){u.createObjectStore(Zf,{keyPath:B_e})})(e)}))),r<5&&i>=5&&(o=o.next((()=>this.yi(s)))),r<6&&i>=6&&(o=o.next((()=>((function(u){u.createObjectStore(Sg)})(e),this.wi(s))))),r<7&&i>=7&&(o=o.next((()=>this.Si(s)))),r<8&&i>=8&&(o=o.next((()=>this.bi(e,s)))),r<9&&i>=9&&(o=o.next((()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(o=o.next((()=>this.Di(s)))),r<11&&i>=11&&(o=o.next((()=>{(function(u){u.createObjectStore(tw,{keyPath:q_e})})(e),(function(u){u.createObjectStore(nw,{keyPath:z_e})})(e)}))),r<12&&i>=12&&(o=o.next((()=>{(function(u){const d=u.createObjectStore(rw,{keyPath:J_e});d.createIndex(q1,Q_e,{unique:!1}),d.createIndex(x8,X_e,{unique:!1})})(e)}))),r<13&&i>=13&&(o=o.next((()=>(function(u){const d=u.createObjectStore(qx,{keyPath:k_e});d.createIndex(k0,O_e),d.createIndex(p8,V_e)})(e))).next((()=>this.Ci(e,s))).next((()=>e.deleteObjectStore(Qu)))),r<14&&i>=14&&(o=o.next((()=>this.Fi(e,s)))),r<15&&i>=15&&(o=o.next((()=>(function(u){u.createObjectStore(IP,{keyPath:$_e,autoIncrement:!0}).createIndex(B1,G_e,{unique:!1}),u.createObjectStore($p,{keyPath:H_e}).createIndex(y8,K_e,{unique:!1}),u.createObjectStore(Gp,{keyPath:W_e}).createIndex(v8,Y_e,{unique:!1})})(e)))),r<16&&i>=16&&(o=o.next((()=>{n.objectStore($p).clear()})).next((()=>{n.objectStore(Gp).clear()}))),r<17&&i>=17&&(o=o.next((()=>{(function(u){u.createObjectStore(RP,{keyPath:Z_e})})(e)}))),r<18&&i>=18&&gj()&&(o=o.next((()=>{n.objectStore($p).clear()})).next((()=>{n.objectStore(Gp).clear()}))),o}wi(e){let n=0;return e.store(Qu).ee(((r,i)=>{n+=Yx(i)})).next((()=>{const r={byteSize:n};return e.store(Sg).put(j1,r)}))}yi(e){const n=e.store(Eg),r=e.store(Es);return n.J().next((i=>te.forEach(i,(s=>{const o=IDBKeyRange.bound([s.userId,Nl],[s.userId,s.lastAcknowledgedBatchId]);return r.J(dc,o).next((l=>te.forEach(l,(u=>{qe(u.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:u.batchId});const d=Zu(this.serializer,u);return EH(e,s.userId,d).next((()=>{}))}))))}))))}Si(e){const n=e.store(Xf),r=e.store(Qu);return e.store(Tc).get(zx).next((i=>{const s=[];return r.ee(((o,l)=>{const u=new vt(o),d=(function(m){return[0,zr(m)]})(u);s.push(n.get(d).next((f=>f?te.resolve():(m=>n.put({targetId:0,path:zr(m),sequenceNumber:i.highestListenSequenceNumber}))(u))))})).next((()=>te.waitFor(s)))}))}bi(e,n){e.createObjectStore(Ag,{keyPath:j_e});const r=n.store(Ag),i=new GP,s=o=>{if(i.add(o)){const l=o.lastSegment(),u=o.popLast();return r.put({collectionId:l,parent:zr(u)})}};return n.store(Qu).ee({X:!0},((o,l)=>{const u=new vt(o);return s(u.popLast())})).next((()=>n.store(Jf).ee({X:!0},(([o,l,u],d)=>{const f=ao(l);return s(f.popLast())}))))}Di(e){const n=e.store(Qf);return n.ee(((r,i)=>{const s=Sp(i),o=bH(this.serializer,s);return n.put(o)}))}Ci(e,n){const r=n.store(Qu),i=[];return r.ee(((s,o)=>{const l=n.store(qx),u=(function(m){return m.document?new Pe(vt.fromString(m.document.name).popFirst(5)):m.noDocument?Pe.fromSegments(m.noDocument.path):m.unknownDocument?Pe.fromSegments(m.unknownDocument.path):Oe(36783)})(o).path.toArray(),d={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(l.put(d))})).next((()=>te.waitFor(i)))}Fi(e,n){const r=n.store(Es),i=PH(this.serializer),s=new KP(dw.mi,this.serializer.yt);return r.J().next((o=>{const l=new Map;return o.forEach((u=>{var f;let d=(f=l.get(u.userId))!=null?f:at();Zu(this.serializer,u).keys().forEach((m=>d=d.add(m))),l.set(u.userId,d)})),te.forEach(l,((u,d)=>{const f=new hr(d),m=uw.wt(this.serializer,f),v=s.getIndexManager(f),b=cw.wt(f,this.serializer,v,s.referenceDelegate);return new NH(i,b,m,v).recalculateAndSaveOverlaysForDocumentKeys(new z1(n,di.ce),u).next()}))}))}}function d5(t){t.createObjectStore(Xf,{keyPath:U_e}).createIndex(CP,F_e,{unique:!0}),t.createObjectStore(Qf,{keyPath:"targetId"}).createIndex(g8,L_e,{unique:!0}),t.createObjectStore(Tc)}const pl="IndexedDbPersistence",XS=18e5,ZS=5e3,eA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",MH="main";class WP{constructor(e,n,r,i,s,o,l,u,d,f,m=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=s,this.window=o,this.document=l,this.xi=d,this.Oi=f,this.Ni=m,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=v=>Promise.resolve(),!WP.v())throw new ve(oe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new iEe(this,i),this.$i=n+MH,this.serializer=new xH(u),this.Ui=new po(this.$i,this.Ni,new gEe(this.serializer)),this.hi=new HTe,this.Pi=new eEe(this.referenceDelegate,this.serializer),this.remoteDocumentCache=PH(this.serializer),this.Ii=new GTe,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,f===!1&&Nn(pl,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ve(oe.FAILED_PRECONDITION,eA);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new di(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=n=>P(this,null,function*(){if(this.started)return e(n)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((n=>P(this,null,function*(){n.newVersion===null&&(yield e())})))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((()=>P(this,null,function*(){this.started&&(yield this.Wi())}))))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>y0(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(ou(e))return be(pl,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return be(pl,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return mp(e).get(Wd).next((n=>te.resolve(this.es(n))))}ts(e){return y0(e).delete(this.clientId)}ns(){return P(this,null,function*(){if(this.isPrimary&&!this.rs(this.qi,XS)){this.qi=Date.now();const e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=rr(n,Zf);return r.J().next((i=>{const s=this.ss(i,XS),o=i.filter((l=>s.indexOf(l)===-1));return te.forEach(o,(l=>r.delete(l.clientId))).next((()=>o))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}})}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?te.resolve(!0):mp(e).get(Wd).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,ZS)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new ve(oe.FAILED_PRECONDITION,eA);return!1}}return!(!this.networkEnabled||!this.inForeground)||y0(e).J().next((r=>this.ss(r,ZS).find((i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,l=this.networkEnabled===i.networkEnabled;if(s||o&&l)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&be(pl,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}shutdown(){return P(this,null,function*(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),yield this.Ui.runTransaction("shutdown","readwrite",[cy,Zf],(e=>{const n=new z1(e,di.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()})}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>y0(e).J().next((n=>this.ss(n,XS).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return cw.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ZTe(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return uw.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){be(pl,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(function(u){return u===18?nTe:u===17?T8:u===16?tTe:u===15?PP:u===14?_8:u===13?w8:u===12?eTe:u===11?b8:void Oe(60245)})(this.Ni);let o;return this.Ui.runTransaction(e,i,s,(l=>(o=new z1(l,this.ci?this.ci.next():di.ce),n==="readwrite-primary"?this.Hi(o).next((u=>!!u||this.Yi(o))).next((u=>{if(!u)throw Nn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new ve(oe.FAILED_PRECONDITION,c8);return r(o)})).next((u=>this.Xi(o).next((()=>u)))):this.Is(o).next((()=>r(o)))))).then((l=>(o.raiseOnCommittedEvent(),l)))}Is(e){return mp(e).get(Wd).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,ZS)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ve(oe.FAILED_PRECONDITION,eA)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return mp(e).put(Wd,n)}static v(){return po.v()}Zi(e){const n=mp(e);return n.get(Wd).next((r=>this.es(r)?(be(pl,"Releasing primary lease."),n.delete(Wd)):te.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Nn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;pj()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const r=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return be(pl,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Nn(pl,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Nn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch(e){}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function mp(t){return rr(t,cy)}function y0(t){return rr(t,Zf)}function YP(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=at(),i=at();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new JP(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yEe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DH{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return pj()?8:f8(vn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((o=>{s.result=o})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((o=>{s.result=o}))})).next((()=>{if(s.result)return;const o=new yEe;return this.Ss(e,n,o).next((l=>{if(s.result=l,this.Vs)return this.bs(e,n,o,l.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(ef()<=gt.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",tf(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(ef()<=gt.DEBUG&&be("QueryEngine","Query:",tf(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(ef()<=gt.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",tf(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(n))):te.resolve())}ys(e,n){if(OU(n))return te.resolve(null);let r=ti(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Hx(n,null,"F"),r=ti(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const o=at(...s);return this.ps.getDocuments(e,o).next((l=>this.indexManager.getMinOffset(e,r).next((u=>{const d=this.Ds(n,l);return this.Cs(n,d,o,u.readTime)?this.ys(e,Hx(n,null,"F")):this.vs(e,d,n,u)}))))})))))}ws(e,n,r,i){return OU(n)||i.isEqual(Ge.min())?te.resolve(null):this.ps.getDocuments(e,r).next((s=>{const o=this.Ds(n,s);return this.Cs(n,o,r,i)?te.resolve(null):(ef()<=gt.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),tf(n)),this.vs(e,o,n,l8(i,Yf)).next((l=>l)))}))}Ds(e,n){let r=new jt($8(e));return n.forEach(((i,s)=>{hy(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return ef()<=gt.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",tf(n)),this.ps.getDocumentsMatchingQuery(e,n,Ui.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((o=>{s=s.insert(o.key,o)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP="LocalStore",vEe=3e8;class xEe{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Qt(it),this.xs=new Aa((s=>kc(s)),dy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NH(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function kH(t,e,n,r){return new xEe(t,e,n,r)}function OH(t,e){return P(this,null,function*(){const n=De(t);return yield n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const o=[],l=[];let u=at();for(const d of i){o.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}for(const d of s){l.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next((d=>({Ls:d,removedBatchIds:o,addedBatchIds:l})))}))}))})}function bEe(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(l,u,d,f){const m=d.batch,v=m.keys();let b=te.resolve();return v.forEach((T=>{b=b.next((()=>f.getEntry(u,T))).next((S=>{const A=d.docVersions.get(T);qe(A!==null,48541),S.version.compareTo(A)<0&&(m.applyToRemoteDocument(S,d),S.isValidDocument()&&(S.setReadTime(d.commitVersion),f.addEntry(S)))}))})),b.next((()=>l.mutationQueue.removeMutationBatch(u,m)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let u=at();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(u=u.add(l.batch.mutations[d].key));return u})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function VH(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function wEe(t,e){const n=De(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const l=[];e.targetChanges.forEach(((f,m)=>{const v=i.get(m);if(!v)return;l.push(n.Pi.removeMatchingKeys(s,f.removedDocuments,m).next((()=>n.Pi.addMatchingKeys(s,f.addedDocuments,m))));let b=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?b=b.withResumeToken(En.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):f.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(f.resumeToken,r)),i=i.insert(m,b),(function(S,A,C){return S.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=vEe?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(v,b,f)&&l.push(n.Pi.updateTargetData(s,b))}));let u=hi(),d=at();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))})),l.push(LH(s,o,e.documentUpdates).next((f=>{u=f.ks,d=f.qs}))),!r.isEqual(Ge.min())){const f=n.Pi.getLastRemoteSnapshotVersion(s).next((m=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));l.push(f)}return te.waitFor(l).next((()=>o.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,u,d))).next((()=>u))})).then((s=>(n.Ms=i,s)))}function LH(t,e,n){let r=at(),i=at();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let o=hi();return n.forEach(((l,u)=>{const d=s.get(l);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(Ge.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):be(QP,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",u.version)})),{ks:o,qs:i}}))}function _Ee(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Nl),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function oh(t,e){const n=De(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,te.resolve(i)):n.Pi.allocateTargetId(r).next((o=>(i=new ra(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}function ah(t,e,n){return P(this,null,function*(){const r=De(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,(o=>r.persistence.referenceDelegate.removeTarget(o,i))))}catch(o){if(!ou(o))throw o;be(QP,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)})}function Qx(t,e,n){const r=De(t);let i=Ge.min(),s=at();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(u,d,f){const m=De(u),v=m.xs.get(f);return v!==void 0?te.resolve(m.Ms.get(v)):m.Pi.getTargetData(d,f)})(r,o,ti(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,l.targetId).next((u=>{s=u}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:Ge.min(),n?s:at()))).next((l=>(jH(r,z8(e),l),{documents:l,Qs:s})))))}function UH(t,e){const n=De(t),r=De(n.Pi),i=n.Ms.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(s=>r.At(s,e).next((o=>o?o.target:null))))}function FH(t,e){const n=De(t),r=n.Os.get(e)||Ge.min();return n.persistence.runTransaction("Get new document changes","readonly",(i=>n.Ns.getAllFromCollectionGroup(i,e,l8(r,Yf),Number.MAX_SAFE_INTEGER))).then((i=>(jH(n,e,i),i)))}function jH(t,e,n){let r=t.Os.get(e)||Ge.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}function TEe(t,e,n,r){return P(this,null,function*(){const i=De(t);let s=at(),o=hi();for(const d of n){const f=e.$s(d.metadata.name);d.document&&(s=s.add(f));const m=e.Us(d);m.setReadTime(e.Ks(d.metadata.readTime)),o=o.insert(f,m)}const l=i.Ns.newChangeBuffer({trackRemovals:!0}),u=yield oh(i,(function(f){return ti(kh(vt.fromString(`__bundle__/docs/${f}`)))})(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(d=>LH(d,l,o).next((f=>(l.apply(d),f))).next((f=>i.Pi.removeMatchingKeysForTargetId(d,u.targetId).next((()=>i.Pi.addMatchingKeys(d,s,u.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(d,f.ks,f.qs))).next((()=>f.ks))))))})}function EEe(r,i){return P(this,arguments,function*(t,e,n=at()){const s=yield oh(t,ti(zP(e.bundledQuery))),o=De(t);return o.persistence.runTransaction("Save named query","readwrite",(l=>{const u=Mn(e.readTime);if(s.snapshotVersion.compareTo(u)>=0)return o.Ii.saveNamedQuery(l,e);const d=s.withResumeToken(En.EMPTY_BYTE_STRING,u);return o.Ms=o.Ms.insert(d.targetId,d),o.Pi.updateTargetData(l,d).next((()=>o.Pi.removeMatchingKeysForTargetId(l,s.targetId))).next((()=>o.Pi.addMatchingKeys(l,n,s.targetId))).next((()=>o.Ii.saveNamedQuery(l,e)))}))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BH="firestore_clients";function f5(t,e){return`${BH}_${t}_${e}`}const qH="firestore_mutations";function h5(t,e,n){let r=`${qH}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const zH="firestore_targets";function tA(t,e){return`${zH}_${t}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo="SharedClientState";class Xx{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ws(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new ve(i.error.code,i.error.message))),o?new Xx(e,n,i.state,s):(Nn(eo,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Yp{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ws(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new ve(r.error.code,r.error.message))),s?new Yp(e,r.state,i):(Nn(eo,`Failed to parse target state for ID '${e}': ${n}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Zx{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ws(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=OP();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=h8(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new Zx(e,s):(Nn(eo,`Failed to parse client data for instance '${e}': ${n}`),null)}}class XP{constructor(e,n){this.clientId=e,this.onlineState=n}static Ws(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new XP(n.clientId,n.onlineState):(Nn(eo,`Failed to parse online state: ${e}`),null)}}class iC{constructor(){this.activeTargetIds=OP()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nA{constructor(e,n,r,i,s){this.window=e,this.Mi=n,this.persistenceKey=r,this.Js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new Qt(it),this.started=!1,this.Xs=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.eo=f5(this.persistenceKey,this.Js),this.no=(function(u){return`firestore_sequence_number_${u}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new iC),this.ro=new RegExp(`^${BH}_${o}_([^_]*)$`),this.io=new RegExp(`^${qH}_${o}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${zH}_${o}_(\\d+)$`),this.oo=(function(u){return`firestore_online_state_${u}`})(this.persistenceKey),this._o=(function(u){return`firestore_bundle_loaded_v2_${u}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}start(){return P(this,null,function*(){const e=yield this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const i=this.getItem(f5(this.persistenceKey,r));if(i){const s=Zx.Ws(r,i);s&&(this.Zs=this.Zs.insert(s.clientId,s))}}this.ao();const n=this.storage.getItem(this.oo);if(n){const r=this.uo(n);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0})}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let n=!1;return this.Zs.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)})),n}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,n,r){this.ho(e,n,r),this.Po(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(tA(this.persistenceKey,e));if(i){const s=Yp.Ws(e,i);s&&(r=s.state)}}return n&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(tA(this.persistenceKey,e))}updateQueryState(e,n,r){this.Io(e,n,r)}handleUserChange(e,n,r){n.forEach((i=>{this.Po(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return be(eo,"READ",e,n),n}setItem(e,n){be(eo,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){be(eo,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const n=e;if(n.storageArea===this.storage){if(be(eo,"EVENT",n.key,n.newValue),n.key===this.eo)return void Nn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((()=>P(this,null,function*(){if(this.started){if(n.key!==null){if(this.ro.test(n.key)){if(n.newValue==null){const r=this.Ro(n.key);return this.Vo(r,null)}{const r=this.mo(n.key,n.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(n.key)){if(n.newValue!==null){const r=this.fo(n.key,n.newValue);if(r)return this.po(r)}}else if(this.so.test(n.key)){if(n.newValue!==null){const r=this.yo(n.key,n.newValue);if(r)return this.wo(r)}}else if(n.key===this.oo){if(n.newValue!==null){const r=this.uo(n.newValue);if(r)return this.co(r)}}else if(n.key===this.no){const r=(function(s){let o=di.ce;if(s!=null)try{const l=JSON.parse(s);qe(typeof l=="number",30636,{So:s}),o=l}catch(l){Nn(eo,"Failed to read sequence number from WebStorage",l)}return o})(n.newValue);r!==di.ce&&this.sequenceNumberHandler(r)}else if(n.key===this._o){const r=this.bo(n.newValue);yield Promise.all(r.map((i=>this.syncEngine.Do(i))))}}}else this.Xs.push(n)})))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,n,r){const i=new Xx(this.currentUser,e,n,r),s=h5(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Gs())}Po(e){const n=h5(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Eo(e){const n={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(n))}Io(e,n,r){const i=tA(this.persistenceKey,e),s=new Yp(e,n,r);this.setItem(i,s.Gs())}Ao(e){const n=JSON.stringify(Array.from(e));this.setItem(this._o,n)}Ro(e){const n=this.ro.exec(e);return n?n[1]:null}mo(e,n){const r=this.Ro(e);return Zx.Ws(r,n)}fo(e,n){const r=this.io.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Xx.Ws(new hr(s),i,n)}yo(e,n){const r=this.so.exec(e),i=Number(r[1]);return Yp.Ws(i,n)}uo(e){return XP.Ws(e)}bo(e){return JSON.parse(e)}po(e){return P(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);be(eo,`Ignoring mutation for non-active user ${e.user.uid}`)})}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,n){const r=n?this.Zs.insert(e,n):this.Zs.remove(e),i=this.lo(this.Zs),s=this.lo(r),o=[],l=[];return s.forEach((u=>{i.has(u)||o.push(u)})),i.forEach((u=>{s.has(u)||l.push(u)})),this.syncEngine.Fo(o,l).then((()=>{this.Zs=r}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let n=OP();return e.forEach(((r,i)=>{n=n.unionWith(i.activeTargetIds)})),n}}class $H{constructor(){this.Mo=new iC,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new iC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SEe{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5="ConnectivityMonitor";class p5{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){be(m5,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){be(m5,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v0=null;function sC(){return v0===null?v0=(function(){return 268435456+Math.round(2147483648*Math.random())})():v0++,"0x"+v0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="RestConnection",AEe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CEe{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===$1?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const o=sC(),l=this.zo(e,n.toUriEncodedString());be(rA,`Sending RPC '${e}' ${o}:`,l,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,s);const{host:d}=new URL(l),f=mh(d);return this.Jo(e,l,u,r,f).then((m=>(be(rA,`Received RPC '${e}' ${o}: `,m),m)),(m=>{throw _o(rA,`RPC '${e}' ${o} failed with error: `,m,"url: ",l,"request:",r),m}))}Ho(e,n,r,i,s,o){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Dh})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=AEe[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IEe{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr="WebChannelConnection";class REe extends CEe{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const o=sC();return new Promise(((l,u)=>{const d=new QG;d.setWithCredentials(!0),d.listenOnce(XG.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case N0.NO_ERROR:const m=d.getResponseJson();be(Vr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case N0.TIMEOUT:be(Vr,`RPC '${e}' ${o} timed out`),u(new ve(oe.DEADLINE_EXCEEDED,"Request time out"));break;case N0.HTTP_ERROR:const v=d.getStatus();if(be(Vr,`RPC '${e}' ${o} failed with status:`,v,"response text:",d.getResponseText()),v>0){let b=d.getResponseJson();Array.isArray(b)&&(b=b[0]);const T=b==null?void 0:b.error;if(T&&T.status&&T.message){const S=(function(C){const D=C.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(D)>=0?D:oe.UNKNOWN})(T.status);u(new ve(S,T.message))}else u(new ve(oe.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new ve(oe.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{be(Vr,`RPC '${e}' ${o} completed.`)}}));const f=JSON.stringify(i);be(Vr,`RPC '${e}' ${o} sending request:`,i),d.send(n,"POST",f,r,15)}))}T_(e,n,r){const i=sC(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=t8(),l=e8(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=s.join("");be(Vr,`Creating RPC '${e}' stream ${i}: ${f}`,u);const m=o.createWebChannel(f,u);this.I_(m);let v=!1,b=!1;const T=new IEe({Yo:A=>{b?be(Vr,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(v||(be(Vr,`Opening RPC '${e}' stream ${i} transport.`),m.open(),v=!0),be(Vr,`RPC '${e}' stream ${i} sending:`,A),m.send(A))},Zo:()=>m.close()}),S=(A,C,D)=>{A.listen(C,(N=>{try{D(N)}catch(F){setTimeout((()=>{throw F}),0)}}))};return S(m,_p.EventType.OPEN,(()=>{b||(be(Vr,`RPC '${e}' stream ${i} transport opened.`),T.o_())})),S(m,_p.EventType.CLOSE,(()=>{b||(b=!0,be(Vr,`RPC '${e}' stream ${i} transport closed`),T.a_(),this.E_(m))})),S(m,_p.EventType.ERROR,(A=>{b||(b=!0,_o(Vr,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),T.a_(new ve(oe.UNAVAILABLE,"The operation could not be completed")))})),S(m,_p.EventType.MESSAGE,(A=>{var C;if(!b){const D=A.data[0];qe(!!D,16349);const N=D,F=(N==null?void 0:N.error)||((C=N[0])==null?void 0:C.error);if(F){be(Vr,`RPC '${e}' stream ${i} received error:`,F);const V=F.status;let B=(function(O){const j=Un[O];if(j!==void 0)return rH(j)})(V),k=F.message;B===void 0&&(B=oe.INTERNAL,k="Unknown error status: "+V+" with message "+F.message),b=!0,T.a_(new ve(B,k)),m.close()}else be(Vr,`RPC '${e}' stream ${i} received:`,D),T.u_(D)}})),S(l,ZG.STAT_EVENT,(A=>{A.stat===L1.PROXY?be(Vr,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===L1.NOPROXY&&be(Vr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{T.__()}),0),T}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GH(){return typeof window!="undefined"?window:null}function B0(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(t){return new kTe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g5="PersistentStream";class HH{constructor(e,n,r,i,s,o,l,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ZP(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}stop(){return P(this,null,function*(){this.x_()&&(yield this.close(0))})}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}k_(){return P(this,null,function*(){if(this.O_())return this.close(0)})}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,n){return P(this,null,function*(){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(Nn(n.toString()),Nn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.r_(n)})}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new ve(oe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((()=>P(this,null,function*(){this.state=0,this.start()})))}z_(e){return be(g5,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(be(g5,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class PEe extends HH{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=LTe(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Ge.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ge.min():o.readTime?Mn(o.readTime):Ge.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Z1(this.serializer),n.addTarget=(function(s,o){let l;const u=o.target;if(l=$x(u)?{documents:hH(s,u)}:{query:mH(s,u).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=aH(s,o.resumeToken);const d=Q1(s,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(Ge.min())>0){l.readTime=sh(s,o.snapshotVersion.toTimestamp());const d=Q1(s,o.expectedCount);d!==null&&(l.expectedCount=d)}return l})(this.serializer,e);const r=FTe(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Z1(this.serializer),n.removeTarget=e,this.q_(n)}}class NEe extends HH{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=UTe(e.writeResults,e.commitTime),r=Mn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Z1(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Mg(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MEe{}class DEe extends MEe{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.Go(e,X1(n,r),i,s,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ve(oe.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Ho(e,X1(n,r),i,o,l,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ve(oe.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class kEe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Nn(n),this.aa=!1):be("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc="RemoteStore";class OEe{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((o=>{r.enqueueAndForget((()=>P(this,null,function*(){lu(this)&&(be(jc,"Restarting streams for network reachability change."),yield(function(u){return P(this,null,function*(){const d=De(u);d.Ea.add(4),yield Lh(d),d.Ra.set("Unknown"),d.Ea.delete(4),yield vy(d)})})(this))})))})),this.Ra=new kEe(r,i)}}function vy(t){return P(this,null,function*(){if(lu(t))for(const e of t.da)yield e(!0)})}function Lh(t){return P(this,null,function*(){for(const e of t.da)yield e(!1)})}function fw(t,e){const n=De(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),nN(n)?tN(n):Fh(n).O_()&&eN(n,e))}function lh(t,e){const n=De(t),r=Fh(n);n.Ia.delete(e),r.O_()&&KH(n,e),n.Ia.size===0&&(r.O_()?r.L_():lu(n)&&n.Ra.set("Unknown"))}function eN(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fh(t).Y_(e)}function KH(t,e){t.Va.Ue(e),Fh(t).Z_(e)}function tN(t){t.Va=new PTe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Fh(t).start(),t.Ra.ua()}function nN(t){return lu(t)&&!Fh(t).x_()&&t.Ia.size>0}function lu(t){return De(t).Ea.size===0}function WH(t){t.Va=void 0}function VEe(t){return P(this,null,function*(){t.Ra.set("Online")})}function LEe(t){return P(this,null,function*(){t.Ia.forEach(((e,n)=>{eN(t,e)}))})}function UEe(t,e){return P(this,null,function*(){WH(t),nN(t)?(t.Ra.ha(e),tN(t)):t.Ra.set("Unknown")})}function FEe(t,e,n){return P(this,null,function*(){if(t.Ra.set("Online"),e instanceof oH&&e.state===2&&e.cause)try{yield(function(i,s){return P(this,null,function*(){const o=s.cause;for(const l of s.targetIds)i.Ia.has(l)&&(yield i.remoteSyncer.rejectListen(l,o),i.Ia.delete(l),i.Va.removeTarget(l))})})(t,e)}catch(r){be(jc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield eb(t,r)}else if(e instanceof F0?t.Va.Ze(e):e instanceof sH?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ge.min()))try{const r=yield VH(t.localStore);n.compareTo(r)>=0&&(yield(function(s,o){const l=s.Va.Tt(o);return l.targetChanges.forEach(((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.Ia.get(d);f&&s.Ia.set(d,f.withResumeToken(u.resumeToken,o))}})),l.targetMismatches.forEach(((u,d)=>{const f=s.Ia.get(u);if(!f)return;s.Ia.set(u,f.withResumeToken(En.EMPTY_BYTE_STRING,f.snapshotVersion)),KH(s,u);const m=new ra(f.target,u,d,f.sequenceNumber);eN(s,m)})),s.remoteSyncer.applyRemoteEvent(l)})(t,n))}catch(r){be(jc,"Failed to raise snapshot:",r),yield eb(t,r)}})}function eb(t,e,n){return P(this,null,function*(){if(!ou(e))throw e;t.Ea.add(1),yield Lh(t),t.Ra.set("Offline"),n||(n=()=>VH(t.localStore)),t.asyncQueue.enqueueRetryable((()=>P(null,null,function*(){be(jc,"Retrying IndexedDB access"),yield n(),t.Ea.delete(1),yield vy(t)})))})}function YH(t,e){return e().catch((n=>eb(t,n,e)))}function Uh(t){return P(this,null,function*(){const e=De(t),n=Hl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Nl;for(;jEe(e);)try{const i=yield _Ee(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,BEe(e,i)}catch(i){yield eb(e,i)}JH(e)&&QH(e)})}function jEe(t){return lu(t)&&t.Ta.length<10}function BEe(t,e){t.Ta.push(e);const n=Hl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function JH(t){return lu(t)&&!Hl(t).x_()&&t.Ta.length>0}function QH(t){Hl(t).start()}function qEe(t){return P(this,null,function*(){Hl(t).ra()})}function zEe(t){return P(this,null,function*(){const e=Hl(t);for(const n of t.Ta)e.ea(n.mutations)})}function $Ee(t,e,n){return P(this,null,function*(){const r=t.Ta.shift(),i=FP.from(r,e,n);yield YH(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),yield Uh(t)})}function GEe(t,e){return P(this,null,function*(){e&&Hl(t).X_&&(yield(function(r,i){return P(this,null,function*(){if((function(o){return nH(o)&&o!==oe.ABORTED})(i.code)){const s=r.Ta.shift();Hl(r).B_(),yield YH(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),yield Uh(r)}})})(t,e)),JH(t)&&QH(t)})}function y5(t,e){return P(this,null,function*(){const n=De(t);n.asyncQueue.verifyOperationInProgress(),be(jc,"RemoteStore received new credentials");const r=lu(n);n.Ea.add(3),yield Lh(n),r&&n.Ra.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),yield vy(n)})}function oC(t,e){return P(this,null,function*(){const n=De(t);e?(n.Ea.delete(2),yield vy(n)):e||(n.Ea.add(2),yield Lh(n),n.Ra.set("Unknown"))})}function Fh(t){return t.ma||(t.ma=(function(n,r,i){const s=De(n);return s.sa(),new PEe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:VEe.bind(null,t),t_:LEe.bind(null,t),r_:UEe.bind(null,t),H_:FEe.bind(null,t)}),t.da.push((e=>P(null,null,function*(){e?(t.ma.B_(),nN(t)?tN(t):t.Ra.set("Unknown")):(yield t.ma.stop(),WH(t))})))),t.ma}function Hl(t){return t.fa||(t.fa=(function(n,r,i){const s=De(n);return s.sa(),new NEe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:qEe.bind(null,t),r_:GEe.bind(null,t),ta:zEe.bind(null,t),na:$Ee.bind(null,t)}),t.da.push((e=>P(null,null,function*(){e?(t.fa.B_(),yield Uh(t)):(yield t.fa.stop(),t.Ta.length>0&&(be(jc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new rN(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jh(t,e){if(Nn("AsyncQueue",`${e}: ${t}`),ou(t))return new ve(oe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{static emptySet(e){return new Pf(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Pe.comparator(n.key,r.key):(n,r)=>Pe.comparator(n.key,r.key),this.keyedMap=Tp(),this.sortedSet=new Qt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Pf)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Pf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(){this.ga=new Qt(Pe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Oe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class uh{constructor(e,n,r,i,s,o,l,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach((l=>{o.push({type:0,doc:l})})),new uh(e,n,Pf.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HEe{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class KEe{constructor(){this.queries=x5(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=De(n),s=i.queries;i.queries=x5(),s.forEach(((o,l)=>{for(const u of l.Sa)u.onError(r)}))})(this,new ve(oe.ABORTED,"Firestore shutting down"))}}function x5(){return new Aa((t=>q8(t)),fy)}function iN(t,e){return P(this,null,function*(){const n=De(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new HEe,r=e.Da()?0:1);try{switch(r){case 0:s.wa=yield n.onListen(i,!0);break;case 1:s.wa=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){const l=jh(o,`Initialization of query '${tf(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&oN(n)})}function sN(t,e){return P(this,null,function*(){const n=De(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function WEe(t,e){const n=De(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.Sa)l.Fa(i)&&(r=!0);o.wa=i}}r&&oN(n)}function YEe(t,e,n){const r=De(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function oN(t){t.Ca.forEach((e=>{e.next()}))}var aC,b5;(b5=aC||(aC={})).Ma="default",b5.Cache="cache";class aN{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new uh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=uh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==aC.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JEe{constructor(e,n){this.Qa=e,this.byteLength=n}$a(){return"metadata"in this.Qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e){this.serializer=e}$s(e){return go(this.serializer,e)}Us(e){return e.metadata.exists?fH(this.serializer,e.document,!1):nn.newNoDocument(this.$s(e.metadata.name),this.Ks(e.metadata.readTime))}Ks(e){return Mn(e)}}class QEe{constructor(e,n){this.Ua=e,this.serializer=n,this.Ka=[],this.Wa=[],this.collectionGroups=new Set,this.progress=XH(e)}get queries(){return this.Ka}get documents(){return this.Wa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Qa.namedQuery)this.Ka.push(e.Qa.namedQuery);else if(e.Qa.documentMetadata){this.Wa.push({metadata:e.Qa.documentMetadata}),e.Qa.documentMetadata.exists||++n;const r=vt.fromString(e.Qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Qa.document&&(this.Wa[this.Wa.length-1].document=e.Qa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Y({},this.progress)):null}za(e){const n=new Map,r=new w5(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.$s(i.metadata.name);for(const o of i.metadata.queries){const l=(n.get(o)||at()).add(s);n.set(o,l)}}return n}ja(e){return P(this,null,function*(){const n=yield TEe(e,new w5(this.serializer),this.Wa,this.Ua.id),r=this.za(this.documents);for(const i of this.Ka)yield EEe(e,i,r.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Ja:this.collectionGroups,Ha:n}})}}function XH(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH{constructor(e){this.key=e}}class e7{constructor(e){this.key=e}}class t7{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=at(),this.mutatedKeys=at(),this.eu=$8(e),this.tu=new Pf(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new v5,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((f,m)=>{const v=i.get(f),b=hy(this.query,m)?m:null,T=!!v&&this.mutatedKeys.has(v.key),S=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let A=!1;v&&b?v.data.isEqual(b.data)?T!==S&&(r.track({type:3,doc:b}),A=!0):this.su(v,b)||(r.track({type:2,doc:b}),A=!0,(u&&this.eu(b,u)>0||d&&this.eu(b,d)<0)&&(l=!0)):!v&&b?(r.track({type:0,doc:b}),A=!0):v&&!b&&(r.track({type:1,doc:v}),A=!0,(u||d)&&(l=!0)),A&&(b?(o=o.add(b),s=S?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{tu:o,iu:r,Cs:l,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((f,m)=>(function(b,T){const S=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{Rt:A})}};return S(b)-S(T)})(f.type,m.type)||this.eu(f.doc,m.doc))),this.ou(r),i=i!=null?i:!1;const l=n&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,d=u!==this.Za;return this.Za=u,o.length!==0||d?{snapshot:new uh(this.query,e.tu,s,o,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new v5,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=at(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new e7(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new ZH(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=at();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return uh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const uu="SyncEngine";class XEe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ZEe{constructor(e){this.key=e,this.hu=!1}}class eSe{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Aa((l=>q8(l)),fy),this.Iu=new Map,this.Eu=new Set,this.du=new Qt(Pe.comparator),this.Au=new Map,this.Ru=new HP,this.Vu={},this.mu=new Map,this.fu=Fc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}function tSe(t,e,n=!0){return P(this,null,function*(){const r=hw(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=yield n7(r,e,n,!0),i})}function nSe(t,e){return P(this,null,function*(){const n=hw(t);yield n7(n,e,!0,!1)})}function n7(t,e,n,r){return P(this,null,function*(){const i=yield oh(t.localStore,ti(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=yield lN(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&fw(t.remoteStore,i),l})}function lN(t,e,n,r,i){return P(this,null,function*(){t.pu=(m,v,b)=>(function(S,A,C,D){return P(this,null,function*(){let N=A.view.ru(C);N.Cs&&(N=yield Qx(S.localStore,A.query,!1).then((({documents:k})=>A.view.ru(k,N))));const F=D&&D.targetChanges.get(A.targetId),V=D&&D.targetMismatches.get(A.targetId)!=null,B=A.view.applyChanges(N,S.isPrimaryClient,F,V);return lC(S,A.targetId,B.au),B.snapshot})})(t,m,v,b);const s=yield Qx(t.localStore,e,!0),o=new t7(e,s.Qs),l=o.ru(s.documents),u=gy.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=o.applyChanges(l,t.isPrimaryClient,u);lC(t,n,d.au);const f=new XEe(e,n,o);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot})}function rSe(t,e,n){return P(this,null,function*(){const r=De(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((o=>!fy(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield ah(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&lh(r.remoteStore,i.targetId),ch(r,i.targetId)})).catch(su))):(ch(r,i.targetId),yield ah(r.localStore,i.targetId,!0))})}function iSe(t,e){return P(this,null,function*(){const n=De(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),lh(n.remoteStore,r.targetId))})}function sSe(t,e,n){return P(this,null,function*(){const r=fN(t);try{const i=yield(function(o,l){const u=De(o),d=Ot.now(),f=l.reduce(((b,T)=>b.add(T.key)),at());let m,v;return u.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let T=hi(),S=at();return u.Ns.getEntries(b,f).next((A=>{T=A,T.forEach(((C,D)=>{D.isValidDocument()||(S=S.add(C))}))})).next((()=>u.localDocuments.getOverlayedDocuments(b,T))).next((A=>{m=A;const C=[];for(const D of l){const N=CTe(D,m.get(D.key).overlayedDocument);N!=null&&C.push(new Ca(D.key,N,D8(N.value.mapValue),cn.exists(!0)))}return u.mutationQueue.addMutationBatch(b,d,C,l)})).next((A=>{v=A;const C=A.applyToLocalDocumentSet(m,S);return u.documentOverlayCache.saveOverlays(b,A.batchId,C)}))})).then((()=>({batchId:v.batchId,changes:H8(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,l,u){let d=o.Vu[o.currentUser.toKey()];d||(d=new Qt(it)),d=d.insert(l,u),o.Vu[o.currentUser.toKey()]=d})(r,i.batchId,n),yield Ia(r,i.changes),yield Uh(r.remoteStore)}catch(i){const s=jh(i,"Failed to persist write");n.reject(s)}})}function r7(t,e){return P(this,null,function*(){const n=De(t);try{const r=yield wEe(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const o=n.Au.get(s);o&&(qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?qe(o.hu,14607):i.removedDocuments.size>0&&(qe(o.hu,42227),o.hu=!1))})),yield Ia(n,r,e)}catch(r){yield su(r)}})}function _5(t,e,n){const r=De(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,o)=>{const l=o.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(o,l){const u=De(o);u.onlineState=l;let d=!1;u.queries.forEach(((f,m)=>{for(const v of m.Sa)v.va(l)&&(d=!0)})),d&&oN(u)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function oSe(t,e,n){return P(this,null,function*(){const r=De(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new Qt(Pe.comparator);o=o.insert(s,nn.newNoDocument(s,Ge.min()));const l=at().add(s),u=new py(Ge.min(),new Map,new Qt(it),o,l);yield r7(r,u),r.du=r.du.remove(s),r.Au.delete(e),dN(r)}else yield ah(r.localStore,e,!1).then((()=>ch(r,e,n))).catch(su)})}function aSe(t,e){return P(this,null,function*(){const n=De(t),r=e.batch.batchId;try{const i=yield bEe(n.localStore,e);cN(n,r,null),uN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ia(n,i)}catch(i){yield su(i)}})}function lSe(t,e,n){return P(this,null,function*(){const r=De(t);try{const i=yield(function(o,l){const u=De(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let f;return u.mutationQueue.lookupMutationBatch(d,l).next((m=>(qe(m!==null,37113),f=m.keys(),u.mutationQueue.removeMutationBatch(d,m)))).next((()=>u.mutationQueue.performConsistencyCheck(d))).next((()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,l))).next((()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f))).next((()=>u.localDocuments.getDocuments(d,f)))}))})(r.localStore,e);cN(r,e,n),uN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ia(r,i)}catch(i){yield su(i)}})}function uSe(t,e){return P(this,null,function*(){const n=De(t);lu(n.remoteStore)||be(uu,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield(function(o){const l=De(o);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(u=>l.mutationQueue.getHighestUnacknowledgedBatchId(u)))})(n.localStore);if(r===Nl)return void e.resolve();const i=n.mu.get(r)||[];i.push(e),n.mu.set(r,i)}catch(r){const i=jh(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}})}function uN(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function cN(t,e,n){const r=De(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function ch(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||i7(t,r)}))}function i7(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(lh(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),dN(t))}function lC(t,e,n){for(const r of n)r instanceof ZH?(t.Ru.addReference(r.key,e),cSe(t,r)):r instanceof e7?(be(uu,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||i7(t,r.key)):Oe(19791,{wu:r})}function cSe(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(be(uu,"New document in limbo: "+n),t.Eu.add(r),dN(t))}function dN(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Pe(vt.fromString(e)),r=t.fu.next();t.Au.set(r,new ZEe(n)),t.du=t.du.insert(n,r),fw(t.remoteStore,new ra(ti(kh(n.path)),r,"TargetPurposeLimboResolution",di.ce))}}function Ia(t,e,n){return P(this,null,function*(){const r=De(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,u)=>{o.push(r.pu(u,e,n).then((d=>{var f;if((d||n)&&r.isPrimaryClient){const m=d?!d.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(d){i.push(d);const m=JP.As(u.targetId,d);s.push(m)}})))})),yield Promise.all(o),r.Pu.H_(i),yield(function(u,d){return P(this,null,function*(){const f=De(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>te.forEach(d,(v=>te.forEach(v.Es,(b=>f.persistence.referenceDelegate.addReference(m,v.targetId,b))).next((()=>te.forEach(v.ds,(b=>f.persistence.referenceDelegate.removeReference(m,v.targetId,b)))))))))}catch(m){if(!ou(m))throw m;be(QP,"Failed to update sequence numbers: "+m)}for(const m of d){const v=m.targetId;if(!m.fromCache){const b=f.Ms.get(v),T=b.snapshotVersion,S=b.withLastLimboFreeSnapshotVersion(T);f.Ms=f.Ms.insert(v,S)}}})})(r.localStore,s))})}function dSe(t,e){return P(this,null,function*(){const n=De(t);if(!n.currentUser.isEqual(e)){be(uu,"User change. New user:",e.toKey());const r=yield OH(n.localStore,e);n.currentUser=e,(function(s,o){s.mu.forEach((l=>{l.forEach((u=>{u.reject(new ve(oe.CANCELLED,o))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ia(n,r.Ls)}})}function fSe(t,e){const n=De(t),r=n.Au.get(e);if(r&&r.hu)return at().add(r.key);{let i=at();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const l=n.Tu.get(o);i=i.unionWith(l.view.nu)}return i}}function hSe(t,e){return P(this,null,function*(){const n=De(t),r=yield Qx(n.localStore,e.query,!0),i=e.view.cu(r);return n.isPrimaryClient&&lC(n,e.targetId,i.au),i})}function mSe(t,e){return P(this,null,function*(){const n=De(t);return FH(n.localStore,e).then((r=>Ia(n,r)))})}function pSe(t,e,n,r){return P(this,null,function*(){const i=De(t),s=yield(function(l,u){const d=De(l),f=De(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",(m=>f.er(m,u).next((v=>v?d.localDocuments.getDocuments(m,v):te.resolve(null)))))})(i.localStore,e);s!==null?(n==="pending"?yield Uh(i.remoteStore):n==="acknowledged"||n==="rejected"?(cN(i,e,r||null),uN(i,e),(function(l,u){De(De(l).mutationQueue).ir(u)})(i.localStore,e)):Oe(6720,"Unknown batchState",{Su:n}),yield Ia(i,s)):be(uu,"Cannot apply mutation batch with id: "+e)})}function gSe(t,e){return P(this,null,function*(){const n=De(t);if(hw(n),fN(n),e===!0&&n.gu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=yield T5(n,r.toArray());n.gu=!0,yield oC(n.remoteStore,!0);for(const s of i)fw(n.remoteStore,s)}else if(e===!1&&n.gu!==!1){const r=[];let i=Promise.resolve();n.Iu.forEach(((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then((()=>(ch(n,o),ah(n.localStore,o,!0)))),lh(n.remoteStore,o)})),yield i,yield T5(n,r),(function(o){const l=De(o);l.Au.forEach(((u,d)=>{lh(l.remoteStore,d)})),l.Ru.Jr(),l.Au=new Map,l.du=new Qt(Pe.comparator)})(n),n.gu=!1,yield oC(n.remoteStore,!1)}})}function T5(t,e,n){return P(this,null,function*(){const r=De(t),i=[],s=[];for(const o of e){let l;const u=r.Iu.get(o);if(u&&u.length!==0){l=yield oh(r.localStore,ti(u[0]));for(const d of u){const f=r.Tu.get(d),m=yield hSe(r,f);m.snapshot&&s.push(m.snapshot)}}else{const d=yield UH(r.localStore,o);l=yield oh(r.localStore,d),yield lN(r,s7(d),o,!1,l.resumeToken)}i.push(l)}return r.Pu.H_(s),i})}function s7(t){return B8(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function ySe(t){return(function(n){return De(De(n).persistence).Ts()})(De(t).localStore)}function vSe(t,e,n,r){return P(this,null,function*(){const i=De(t);if(i.gu)return void be(uu,"Ignoring unexpected query state notification.");const s=i.Iu.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=yield FH(i.localStore,z8(s[0])),l=py.createSynthesizedRemoteEventForCurrentChange(e,n==="current",En.EMPTY_BYTE_STRING);yield Ia(i,o,l);break}case"rejected":yield ah(i.localStore,e,!0),ch(i,e,r);break;default:Oe(64155,n)}})}function xSe(t,e,n){return P(this,null,function*(){const r=hw(t);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){be(uu,"Adding an already active target "+i);continue}const s=yield UH(r.localStore,i),o=yield oh(r.localStore,s);yield lN(r,s7(s),o.targetId,!1,o.resumeToken),fw(r.remoteStore,o)}for(const i of n)r.Iu.has(i)&&(yield ah(r.localStore,i,!1).then((()=>{lh(r.remoteStore,i),ch(r,i)})).catch(su))}})}function hw(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=r7.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fSe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oSe.bind(null,e),e.Pu.H_=WEe.bind(null,e.eventManager),e.Pu.yu=YEe.bind(null,e.eventManager),e}function fN(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aSe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lSe.bind(null,e),e}function bSe(t,e,n){const r=De(t);(function(s,o,l){return P(this,null,function*(){try{const u=yield o.getMetadata();if(yield(function(b,T){const S=De(b),A=Mn(T.createTime);return S.persistence.runTransaction("hasNewerBundle","readonly",(C=>S.Ii.getBundleMetadata(C,T.id))).then((C=>!!C&&C.createTime.compareTo(A)>=0))})(s.localStore,u))return yield o.close(),l._completeWith((function(b){return{taskState:"Success",documentsLoaded:b.totalDocuments,bytesLoaded:b.totalBytes,totalDocuments:b.totalDocuments,totalBytes:b.totalBytes}})(u)),Promise.resolve(new Set);l._updateProgress(XH(u));const d=new QEe(u,o.serializer);let f=yield o.bu();for(;f;){const v=yield d.Ga(f);v&&l._updateProgress(v),f=yield o.bu()}const m=yield d.ja(s.localStore);return yield Ia(s,m.Ha,void 0),yield(function(b,T){const S=De(b);return S.persistence.runTransaction("Save bundle","readwrite",(A=>S.Ii.saveBundleMetadata(A,T)))})(s.localStore,u),l._completeWith(m.progress),Promise.resolve(m.Ja)}catch(u){return _o(uu,`Loading bundle failed with ${u}`),l._failWith(u),Promise.resolve(new Set)}})})(r,e,n).then((i=>{r.sharedClientState.notifyBundleLoaded(i)}))}class Dg{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(e){return P(this,null,function*(){this.serializer=yy(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),yield this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)})}Fu(e,n){return null}Mu(e,n){return null}vu(e){return kH(this.persistence,new DH,e.initialUser,this.serializer)}Cu(e){return new KP(dw.mi,this.serializer)}Du(e){return new $H}terminate(){return P(this,null,function*(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}Dg.provider={build:()=>new Dg};class wSe extends Dg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){qe(this.persistence.referenceDelegate instanceof Jx,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new CH(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ur.withCacheSize(this.cacheSizeBytes):Ur.DEFAULT;return new KP((r=>Jx.mi(r,n)),this.serializer)}}class mw extends Dg{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}initialize(e){return P(this,null,function*(){yield Jo(mw.prototype,this,"initialize").call(this,e),yield this.xu.initialize(this,e),yield fN(this.xu.syncEngine),yield Uh(this.xu.remoteStore),yield this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))})}vu(e){return kH(this.persistence,new DH,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new CH(r,e.asyncQueue,n)}Mu(e,n){const r=new P_e(n,this.persistence);return new R_e(e.asyncQueue,r)}Cu(e){const n=YP(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Ur.withCacheSize(this.cacheSizeBytes):Ur.DEFAULT;return new WP(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,GH(),B0(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new $H}}class hN extends mw{constructor(e,n){super(e,n,!1),this.xu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){return P(this,null,function*(){yield Jo(hN.prototype,this,"initialize").call(this,e);const n=this.xu.syncEngine;this.sharedClientState instanceof nA&&(this.sharedClientState.syncEngine={Co:pSe.bind(null,n),vo:vSe.bind(null,n),Fo:xSe.bind(null,n),Ts:ySe.bind(null,n),Do:mSe.bind(null,n)},yield this.sharedClientState.start()),yield this.persistence.Ji((r=>P(this,null,function*(){yield gSe(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})))})}Du(e){const n=GH();if(!nA.v(n))throw new ve(oe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=YP(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new nA(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class kg{initialize(e,n){return P(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_5(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=dSe.bind(null,this.syncEngine),yield oC(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return(function(){return new KEe})()}createDatastore(e){const n=yy(e.databaseInfo.databaseId),r=(function(s){return new REe(s)})(e.databaseInfo);return(function(s,o,l,u){return new DEe(s,o,l,u)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,o,l){return new OEe(r,i,s,o,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>_5(this.syncEngine,n,0)),(function(){return p5.v()?new p5:new SEe})())}createSyncEngine(e,n){return(function(i,s,o,l,u,d,f){const m=new eSe(i,s,o,l,u,d);return f&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return P(this,null,function*(){var e,n;yield(function(i){return P(this,null,function*(){const s=De(i);be(jc,"RemoteStore shutting down."),s.Ea.add(5),yield Lh(s),s.Aa.shutdown(),s.Ra.set("Unknown")})})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()})}}kg.provider={build:()=>new kg};function E5(t,e=10240){let n=0;return{read(){return P(this,null,function*(){if(n<t.byteLength){const i={value:t.slice(n,n+e),done:!1};return n+=e,i}return{done:!0}})},cancel(){return P(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Nn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Se{constructor(e,n){this.Bu=e,this.serializer=n,this.metadata=new Rr,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((r=>{r&&r.$a()?this.metadata.resolve(r.Qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Qa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Bu.cancel()}getMetadata(){return P(this,null,function*(){return this.metadata.promise})}bu(){return P(this,null,function*(){return yield this.getMetadata(),this.ku()})}ku(){return P(this,null,function*(){const e=yield this.qu();if(e===null)return null;const n=this.Lu.decode(e),r=Number(n);isNaN(r)&&this.Qu(`length string (${n}) is not valid number`);const i=yield this.$u(r);return new JEe(JSON.parse(i),e.length+r)})}Uu(){return this.buffer.findIndex((e=>e===123))}qu(){return P(this,null,function*(){for(;this.Uu()<0&&!(yield this.Ku()););if(this.buffer.length===0)return null;const e=this.Uu();e<0&&this.Qu("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n})}$u(e){return P(this,null,function*(){for(;this.buffer.length<e;)(yield this.Ku())&&this.Qu("Reached the end of bundle when more is expected.");const n=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n})}Qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}Ku(){return P(this,null,function*(){const e=yield this.Bu.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TSe{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){return P(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ve(oe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=yield(function(i,s){return P(this,null,function*(){const o=De(i),l={documents:s.map((m=>Ng(o.serializer,m)))},u=yield o.Ho("BatchGetDocuments",o.serializer.databaseId,vt.emptyPath(),l,s.length),d=new Map;u.forEach((m=>{const v=VTe(o.serializer,m);d.set(v.key.toString(),v)}));const f=[];return s.forEach((m=>{const v=d.get(m.toString());qe(!!v,55234,{key:m}),f.push(v)})),f})})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n})}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Vh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return P(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const i=Pe.fromPath(r);this.mutations.push(new LP(i,this.precondition(i)))})),yield(function(r,i){return P(this,null,function*(){const s=De(r),o={writes:i.map((l=>Mg(s.serializer,l)))};yield s.Go("Commit",s.serializer.databaseId,vt.emptyPath(),o)})})(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Oe(50498,{Gu:e.constructor.name});n=Ge.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new ve(oe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Ge.min())?cn.exists(!1):cn.updateTime(n):cn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ge.min()))throw new ve(oe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cn.updateTime(n)}return cn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ESe{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.zu=r.maxAttempts,this.M_=new ZP(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((()=>P(this,null,function*(){const e=new TSe(this.datastore),n=this.Hu(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.Yu(i)}))))})).catch((r=>{this.Yu(r)}))})))}Hu(e){try{const n=this.updateFunction(e);return!uy(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!nH(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl="FirestoreClient";class SSe{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=hr.UNAUTHENTICATED,this.clientId=TP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(o=>P(this,null,function*(){be(Kl,"Received user=",o.uid),yield this.authCredentialListener(o),this.user=o}))),this.appCheckCredentials.start(r,(o=>(be(Kl,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((()=>P(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=jh(n,"Failed to shutdown persistence");e.reject(r)}}))),e.promise}}function iA(t,e){return P(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),be(Kl,"Initializing OfflineComponentProvider");const n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((i=>P(null,null,function*(){r.isEqual(i)||(yield OH(e.localStore,i),r=i)}))),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e})}function S5(t,e){return P(this,null,function*(){t.asyncQueue.verifyOperationInProgress();const n=yield mN(t);be(Kl,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>y5(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>y5(e.remoteStore,i))),t._onlineComponents=e})}function mN(t){return P(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){be(Kl,"Using user provided OfflineComponentProvider");try{yield iA(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===oe.FAILED_PRECONDITION||i.code===oe.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;_o("Error using user provided cache. Falling back to memory cache: "+n),yield iA(t,new Dg)}}else be(Kl,"Using default OfflineComponentProvider"),yield iA(t,new wSe(void 0));return t._offlineComponents})}function gw(t){return P(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(be(Kl,"Using user provided OnlineComponentProvider"),yield S5(t,t._uninitializedComponentsProvider._online)):(be(Kl,"Using default OnlineComponentProvider"),yield S5(t,new kg))),t._onlineComponents})}function o7(t){return mN(t).then((e=>e.persistence))}function pN(t){return mN(t).then((e=>e.localStore))}function a7(t){return gw(t).then((e=>e.remoteStore))}function gN(t){return gw(t).then((e=>e.syncEngine))}function ASe(t){return gw(t).then((e=>e.datastore))}function dh(t){return P(this,null,function*(){const e=yield gw(t),n=e.eventManager;return n.onListen=tSe.bind(null,e.syncEngine),n.onUnlisten=rSe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=nSe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=iSe.bind(null,e.syncEngine),n})}function CSe(t){return t.asyncQueue.enqueue((()=>P(null,null,function*(){const e=yield o7(t),n=yield a7(t);return e.setNetworkEnabled(!0),(function(i){const s=De(i);return s.Ea.delete(0),vy(s)})(n)})))}function ISe(t){return t.asyncQueue.enqueue((()=>P(null,null,function*(){const e=yield o7(t),n=yield a7(t);return e.setNetworkEnabled(!1),(function(i){return P(this,null,function*(){const s=De(i);s.Ea.add(0),yield Lh(s),s.Ra.set("Offline")})})(n)})))}function RSe(t,e){const n=new Rr;return t.asyncQueue.enqueueAndForget((()=>P(null,null,function*(){return(function(i,s,o){return P(this,null,function*(){try{const l=yield(function(d,f){const m=De(d);return m.persistence.runTransaction("read document","readonly",(v=>m.localDocuments.getDocument(v,f)))})(i,s);l.isFoundDocument()?o.resolve(l):l.isNoDocument()?o.resolve(null):o.reject(new ve(oe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const u=jh(l,`Failed to get document '${s} from cache`);o.reject(u)}})})(yield pN(t),e,n)}))),n.promise}function l7(t,e,n={}){const r=new Rr;return t.asyncQueue.enqueueAndForget((()=>P(null,null,function*(){return(function(s,o,l,u,d){const f=new pw({next:v=>{f.Nu(),o.enqueueAndForget((()=>sN(s,m)));const b=v.docs.has(l);!b&&v.fromCache?d.reject(new ve(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&v.fromCache&&u&&u.source==="server"?d.reject(new ve(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),m=new aN(kh(l.path),f,{includeMetadataChanges:!0,qa:!0});return iN(s,m)})(yield dh(t),t.asyncQueue,e,n,r)}))),r.promise}function PSe(t,e){const n=new Rr;return t.asyncQueue.enqueueAndForget((()=>P(null,null,function*(){return(function(i,s,o){return P(this,null,function*(){try{const l=yield Qx(i,s,!0),u=new t7(s,l.Qs),d=u.ru(l.documents),f=u.applyChanges(d,!1);o.resolve(f.snapshot)}catch(l){const u=jh(l,`Failed to execute query '${s} against cache`);o.reject(u)}})})(yield pN(t),e,n)}))),n.promise}function u7(t,e,n={}){const r=new Rr;return t.asyncQueue.enqueueAndForget((()=>P(null,null,function*(){return(function(s,o,l,u,d){const f=new pw({next:v=>{f.Nu(),o.enqueueAndForget((()=>sN(s,m))),v.fromCache&&u.source==="server"?d.reject(new ve(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(v)},error:v=>d.reject(v)}),m=new aN(l,f,{includeMetadataChanges:!0,qa:!0});return iN(s,m)})(yield dh(t),t.asyncQueue,e,n,r)}))),r.promise}function NSe(t,e){const n=new pw(e);return t.asyncQueue.enqueueAndForget((()=>P(null,null,function*(){return(function(i,s){De(i).Ca.add(s),s.next()})(yield dh(t),n)}))),()=>{n.Nu(),t.asyncQueue.enqueueAndForget((()=>P(null,null,function*(){return(function(i,s){De(i).Ca.delete(s)})(yield dh(t),n)})))}}function MSe(t,e,n,r){const i=(function(o,l){let u;return u=typeof o=="string"?iH().encode(o):o,(function(f,m){return new _Se(f,m)})((function(f,m){if(f instanceof Uint8Array)return E5(f,m);if(f instanceof ArrayBuffer)return E5(new Uint8Array(f),m);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(u),l)})(n,yy(e));t.asyncQueue.enqueueAndForget((()=>P(null,null,function*(){bSe(yield gN(t),i,r)})))}function DSe(t,e){return t.asyncQueue.enqueue((()=>P(null,null,function*(){return(function(r,i){const s=De(r);return s.persistence.runTransaction("Get named query","readonly",(o=>s.Ii.getNamedQuery(o,i)))})(yield pN(t),e)})))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c7(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d7="firestore.googleapis.com",C5=!0;class I5{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=d7,this.ssl=C5}else this.host=e.host,this.ssl=(n=e.ssl)!=null?n:C5;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=TH;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tEe)throw new ve(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}s8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=c7((r=e.experimentalLongPollingOptions)!=null?r:{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xy{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new I5({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new I5(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new y_e;switch(r.type){case"firstParty":return new w_e(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return P(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=A5.get(n);r&&(be("ComponentProvider","Removing Datastore"),A5.delete(n),r.terminate())})(this),Promise.resolve()}}function kSe(t,e,n,r={}){var d;t=Ct(t,xy);const i=mh(e),s=t._getSettings(),o=xe(Y({},s),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;i&&(cj(`https://${l}`),dj("Firestore",!0)),s.host!==d7&&s.host!==l&&_o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=xe(Y({},s),{host:l,ssl:i,emulatorOptions:r});if(!Dl(u,o)&&(t._setSettings(u),r.mockUserToken)){let f,m;if(typeof r.mockUserToken=="string")f=r.mockUserToken,m=hr.MOCK_USER;else{f=vY(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ve(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new hr(v)}t._authCredentials=new v_e(new r8(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ni=class f7{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new f7(this.firestore,e,this._query)}},Jt=class Ap{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ml(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ap(this.firestore,e,this._key)}toJSON(){return{type:Ap._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ly(n,Ap._jsonSchema))return new Ap(e,r||null,new Pe(vt.fromString(n.referencePath)))}};Jt._jsonSchemaVersion="firestore/documentReference/1.0",Jt._jsonSchema={type:Bn("string",Jt._jsonSchemaVersion),referencePath:Bn("string")};let Ml=class h7 extends ni{constructor(e,n,r){super(e,n,kh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jt(this.firestore,null,new Pe(e))}withConverter(e){return new h7(this.firestore,e,this._path)}};function m7(t,e,...n){if(t=Qe(t),EP("collection","path",e),t instanceof xy){const r=vt.fromString(e,...n);return gU(r),new Ml(t,null,r)}{if(!(t instanceof Jt||t instanceof Ml))throw new ve(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vt.fromString(e,...n));return gU(r),new Ml(t.firestore,null,r)}}function OSe(t,e){if(t=Ct(t,xy),EP("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ve(oe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ni(t,null,(function(r){return new Sa(vt.emptyPath(),r)})(e))}function tb(t,e,...n){if(t=Qe(t),arguments.length===1&&(e=TP.newId()),EP("doc","path",e),t instanceof xy){const r=vt.fromString(e,...n);return pU(r),new Jt(t,null,new Pe(r))}{if(!(t instanceof Jt||t instanceof Ml))throw new ve(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vt.fromString(e,...n));return pU(r),new Jt(t.firestore,t instanceof Ml?t.converter:null,new Pe(r))}}function p7(t,e){return t=Qe(t),e=Qe(e),(t instanceof Jt||t instanceof Ml)&&(e instanceof Jt||e instanceof Ml)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function g7(t,e){return t=Qe(t),e=Qe(e),t instanceof ni&&e instanceof ni&&t.firestore===e.firestore&&fy(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5="AsyncQueue";class P5{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ZP(this,"async_queue_retry"),this._c=()=>{const r=B0();r&&be(R5,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=B0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=B0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Rr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}lc(){return P(this,null,function*(){if(this.Xu.length!==0){try{yield this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ou(e))throw e;be(R5,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}})}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Nn("INTERNAL UNHANDLED ERROR: ",N5(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=rN.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Oe(47125,{Pc:N5(this.nc)})}verifyOperationInProgress(){}Tc(){return P(this,null,function*(){let e;do e=this.ac,yield e;while(e!==this.ac)})}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function N5(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class VSe{constructor(){this._progressObserver={},this._taskCompletionResolver=new Rr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LSe=-1;let Dn=class extends xy{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new P5,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return P(this,null,function*(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new P5(e),this._firestoreClient=void 0,yield e}})}};function $r(t){if(t._terminated)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||y7(t),t._firestoreClient}function y7(t){var r,i,s;const e=t._freezeSettings(),n=(function(l,u,d,f){return new sTe(l,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,c7(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new SSe(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}})(t._componentsProvider))}function USe(t,e){_o("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return v7(t,kg.provider,{build:r=>new mw(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}function FSe(t){return P(this,null,function*(){_o("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();v7(t,kg.provider,{build:n=>new hN(n,e.cacheSizeBytes)})})}function v7(t,e,n){if((t=Ct(t,Dn))._firestoreClient||t._terminated)throw new ve(oe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new ve(oe.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},y7(t)}function jSe(t){if(t._initialized&&!t._terminated)throw new ve(oe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Rr;return t._queue.enqueueAndForgetEvenWhileRestricted((()=>P(null,null,function*(){try{yield(function(r){return P(this,null,function*(){if(!po.v())return Promise.resolve();const i=r+MH;yield po.delete(i)})})(YP(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}))),e.promise}function BSe(t){return(function(n){const r=new Rr;return n.asyncQueue.enqueueAndForget((()=>P(null,null,function*(){return uSe(yield gN(n),r)}))),r.promise})($r(t=Ct(t,Dn)))}function qSe(t){return CSe($r(t=Ct(t,Dn)))}function zSe(t){return ISe($r(t=Ct(t,Dn)))}function $Se(t,e){const n=$r(t=Ct(t,Dn)),r=new VSe;return MSe(n,t._databaseId,e,r),r}function GSe(t,e){return DSe($r(t=Ct(t,Dn)),e).then((n=>n?new ni(t,null,n.query):null))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jr(En.fromBase64String(e))}catch(n){throw new ve(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jr(En.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ly(e,jr._jsonSchema))return jr.fromBase64String(e.bytes)}}jr._jsonSchemaVersion="firestore/bytes/1.0",jr._jsonSchema={type:Bn("string",jr._jsonSchemaVersion),bytes:Bn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wl=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wc=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return it(this._lat,e._lat)||it(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ns._jsonSchemaVersion}}static fromJSON(e){if(ly(e,Ns._jsonSchema))return new Ns(e.latitude,e.longitude)}}Ns._jsonSchemaVersion="firestore/geoPoint/1.0",Ns._jsonSchema={type:Bn("string",Ns._jsonSchemaVersion),latitude:Bn("number"),longitude:Bn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:yo._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ly(e,yo._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new yo(e.vectorValues);throw new ve(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}yo._jsonSchemaVersion="firestore/vectorValue/1.0",yo._jsonSchema={type:Bn("string",yo._jsonSchemaVersion),vectorValues:Bn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HSe=/^__.*__$/;class KSe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ca(e,this.data,this.fieldMask,n,this.fieldTransforms):new Oh(e,this.data,n,this.fieldTransforms)}}class x7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ca(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function b7(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{Ac:t})}}class yw{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new yw(Y(Y({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return nb(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(b7(this.Ac)&&HSe.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class WSe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||yy(e)}Cc(e,n,r,i=!1){return new yw({Ac:e,methodName:n,Dc:r,path:un.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yc(t){const e=t._freezeSettings(),n=yy(t._databaseId);return new WSe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vw(t,e,n,r,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);TN("Data must be an object, but it was:",o,r);const l=T7(r,o);let u,d;if(s.merge)u=new fi(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const m of s.mergeFields){const v=cC(e,m,n);if(!o.contains(v))throw new ve(oe.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);S7(f,v)||f.push(v)}u=new fi(f),d=o.fieldTransforms.filter((m=>u.covers(m.field)))}else u=null,d=o.fieldTransforms;return new KSe(new Cr(l),u,d)}class by extends Wc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof by}}function w7(t,e,n){return new yw({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class yN extends Wc{_toFieldTransform(e){return new my(e.path,new rh)}isEqual(e){return e instanceof yN}}class vN extends Wc{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=w7(this,e,!0),r=this.vc.map((s=>Jc(s,n))),i=new Oc(r);return new my(e.path,i)}isEqual(e){return e instanceof vN&&Dl(this.vc,e.vc)}}class xN extends Wc{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=w7(this,e,!0),r=this.vc.map((s=>Jc(s,n))),i=new Vc(r);return new my(e.path,i)}isEqual(e){return e instanceof xN&&Dl(this.vc,e.vc)}}class bN extends Wc{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new ih(e.serializer,Y8(e.serializer,this.Fc));return new my(e.path,n)}isEqual(e){return e instanceof bN&&this.Fc===e.Fc}}function wN(t,e,n,r){const i=t.Cc(1,e,n);TN("Data must be an object, but it was:",i,r);const s=[],o=Cr.empty();au(r,((u,d)=>{const f=EN(e,u,n);d=Qe(d);const m=i.yc(f);if(d instanceof by)s.push(f);else{const v=Jc(d,m);v!=null&&(s.push(f),o.set(f,v))}}));const l=new fi(s);return new x7(o,l,i.fieldTransforms)}function _N(t,e,n,r,i,s){const o=t.Cc(1,e,n),l=[cC(e,r,n)],u=[i];if(s.length%2!=0)throw new ve(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)l.push(cC(e,s[v])),u.push(s[v+1]);const d=[],f=Cr.empty();for(let v=l.length-1;v>=0;--v)if(!S7(d,l[v])){const b=l[v];let T=u[v];T=Qe(T);const S=o.yc(b);if(T instanceof by)d.push(b);else{const A=Jc(T,S);A!=null&&(d.push(b),f.set(b,A))}}const m=new fi(d);return new x7(f,m,o.fieldTransforms)}function _7(t,e,n,r=!1){return Jc(n,t.Cc(r?4:3,e))}function Jc(t,e){if(E7(t=Qe(t)))return TN("Unsupported field value:",e,t),T7(t,e);if(t instanceof Wc)return(function(r,i){if(!b7(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let o=0;for(const l of r){let u=Jc(l,i.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Qe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Y8(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ot.fromDate(r);return{timestampValue:sh(i.serializer,s)}}if(r instanceof Ot){const s=new Ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sh(i.serializer,s)}}if(r instanceof Ns)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof jr)return{bytesValue:aH(i.serializer,r._byteString)};if(r instanceof Jt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:qP(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof yo)return(function(o,l){return{mapValue:{fields:{[NP]:{stringValue:MP},[eh]:{arrayValue:{values:o.toArray().map((d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return VP(l.serializer,d)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Zb(r)}`)})(t,e)}function T7(t,e){const n={};return E8(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):au(t,((r,i)=>{const s=Jc(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function E7(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ot||t instanceof Ns||t instanceof jr||t instanceof Jt||t instanceof Wc||t instanceof yo)}function TN(t,e,n){if(!E7(n)||!o8(n)){const r=Zb(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function cC(t,e,n){if((e=Qe(e))instanceof Wl)return e._internalPath;if(typeof e=="string")return EN(t,e);throw nb("Field path arguments must be of type string or ",t,!1,void 0,n)}const YSe=new RegExp("[~\\*/\\[\\]]");function EN(t,e,n){if(e.search(YSe)>=0)throw nb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Wl(...e.split("."))._internalPath}catch(r){throw nb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function nb(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ve(oe.INVALID_ARGUMENT,l+t+u)}function S7(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new JSe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class JSe extends Og{data(){return super.data()}}function xw(t,e){return typeof e=="string"?EN(t,e):e instanceof Wl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A7(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class SN{}class wy extends SN{}function gl(t,e,...n){let r=[];e instanceof SN&&r.push(e),r=r.concat(n),(function(s){const o=s.filter((u=>u instanceof AN)).length,l=s.filter((u=>u instanceof bw)).length;if(o>1||o>0&&l>0)throw new ve(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class bw extends wy{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new bw(e,n,r)}_apply(e){const n=this._parse(e);return I7(e._query,n),new ni(e.firestore,e.converter,J1(e._query,n))}_parse(e){const n=Yc(e.firestore);return(function(s,o,l,u,d,f,m){let v;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new ve(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){D5(m,f);const T=[];for(const S of m)T.push(M5(u,s,S));v={arrayValue:{values:T}}}else v=M5(u,s,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||D5(m,f),v=_7(l,o,m,f==="in"||f==="not-in");return xt.create(d,f,v)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function QSe(t,e,n){const r=e,i=xw("where",t);return bw._create(i,r,n)}class AN extends SN{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new AN(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Ft.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let o=i;const l=s.getFlattenedFilters();for(const u of l)I7(o,u),o=J1(o,u)})(e._query,n),new ni(e.firestore,e.converter,J1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class CN extends wy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new CN(e,n)}_apply(e){const n=(function(i,s,o){if(i.startAt!==null)throw new ve(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ve(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Pg(s,o)})(e._query,this._field,this._direction);return new ni(e.firestore,e.converter,(function(i,s){const o=i.explicitOrderBy.concat([s]);return new Sa(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function XSe(t,e="asc"){const n=e,r=xw("orderBy",t);return CN._create(r,n)}class ww extends wy{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new ww(e,n,r)}_apply(e){return new ni(e.firestore,e.converter,Hx(e._query,this._limit,this._limitType))}}function ZSe(t){return a8("limit",t),ww._create("limit",t,"F")}function eAe(t){return a8("limitToLast",t),ww._create("limitToLast",t,"L")}class _w extends wy{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new _w(e,n,r)}_apply(e){const n=C7(e,this.type,this._docOrFields,this._inclusive);return new ni(e.firestore,e.converter,(function(i,s){return new Sa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)})(e._query,n))}}function tAe(...t){return _w._create("startAt",t,!0)}function nAe(...t){return _w._create("startAfter",t,!1)}class Tw extends wy{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Tw(e,n,r)}_apply(e){const n=C7(e,this.type,this._docOrFields,this._inclusive);return new ni(e.firestore,e.converter,(function(i,s){return new Sa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)})(e._query,n))}}function rAe(...t){return Tw._create("endBefore",t,!1)}function iAe(...t){return Tw._create("endAt",t,!0)}function C7(t,e,n,r){if(n[0]=Qe(n[0]),n[0]instanceof Og)return(function(s,o,l,u,d){if(!u)throw new ve(oe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const f=[];for(const m of Rf(s))if(m.field.isKeyField())f.push(Dc(o,u.key));else{const v=u.data.field(m.field);if(iw(v))throw new ve(oe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+m.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const b=m.field.canonicalString();throw new ve(oe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${b}' (used as the orderBy) does not exist.`)}f.push(v)}return new Gl(f,d)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Yc(t.firestore);return(function(o,l,u,d,f,m){const v=o.explicitOrderBy;if(f.length>v.length)throw new ve(oe.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const b=[];for(let T=0;T<f.length;T++){const S=f[T];if(v[T].field.isKeyField()){if(typeof S!="string")throw new ve(oe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof S}`);if(!kP(o)&&S.indexOf("/")!==-1)throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${S}' contains a slash.`);const A=o.path.child(vt.fromString(S));if(!Pe.isDocumentKey(A))throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${A}' is not because it contains an odd number of segments.`);const C=new Pe(A);b.push(Dc(l,C))}else{const A=_7(u,d,S);b.push(A)}}return new Gl(b,m)})(t._query,t.firestore._databaseId,i,e,n,r)}}function M5(t,e,n){if(typeof(n=Qe(n))=="string"){if(n==="")throw new ve(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kP(e)&&n.indexOf("/")!==-1)throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(vt.fromString(n));if(!Pe.isDocumentKey(r))throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Dc(t,new Pe(r))}if(n instanceof Jt)return Dc(t,n._key);throw new ve(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zb(n)}.`)}function D5(t,e){if(!Array.isArray(t)||t.length===0)throw new ve(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function I7(t,e){const n=(function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ve(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class IN{convertValue(e,n="none"){switch(zl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return an(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ga(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return au(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[eh].arrayValue)==null?void 0:i.values)==null?void 0:s.map((o=>an(o.doubleValue)));return new yo(n)}convertGeoPoint(e){return new Ns(an(e.latitude),an(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=sw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Cg(e));default:return null}}convertTimestamp(e){const n=pa(e);return new Ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=vt.fromString(e);qe(vH(r),9688,{name:e});const i=new ql(r.get(1),r.get(3)),s=new Pe(r.popFirst(5));return i.isEqual(n)||Nn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class sAe extends IN{constructor(e){super(),this.firestore=e}convertBytes(e){return new jr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jt(this.firestore,null,n)}}class fc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let cs=class R7 extends Og{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(xw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=R7._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};cs._jsonSchemaVersion="firestore/documentSnapshot/1.0",cs._jsonSchema={type:Bn("string",cs._jsonSchemaVersion),bundleSource:Bn("string","DocumentSnapshot"),bundleName:Bn("string"),bundle:Bn("string")};let Jp=class extends cs{data(e={}){return super.data(e)}},Ms=class P7{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new fc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Jp(this._firestore,this._userDataWriter,r.key,r,new fc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((l=>{const u=new Jp(i._firestore,i._userDataWriter,l.doc.key,l.doc,new fc(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>s||l.type!==3)).map((l=>{const u=new Jp(i._firestore,i._userDataWriter,l.doc.key,l.doc,new fc(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,f=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:oAe(l.type),doc:u,oldIndex:d,newIndex:f}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=P7._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=TP.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function oAe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:t})}}function N7(t,e){return t instanceof cs&&e instanceof cs?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Ms&&e instanceof Ms&&t._firestore===e._firestore&&g7(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aAe(t){t=Ct(t,Jt);const e=Ct(t.firestore,Dn);return l7($r(e),t._key).then((n=>RN(e,t,n)))}Ms._jsonSchemaVersion="firestore/querySnapshot/1.0",Ms._jsonSchema={type:Bn("string",Ms._jsonSchemaVersion),bundleSource:Bn("string","QuerySnapshot"),bundleName:Bn("string"),bundle:Bn("string")};class Qc extends IN{constructor(e){super(),this.firestore=e}convertBytes(e){return new jr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jt(this.firestore,null,n)}}function lAe(t){t=Ct(t,Jt);const e=Ct(t.firestore,Dn),n=$r(e),r=new Qc(e);return RSe(n,t._key).then((i=>new cs(e,r,t._key,i,new fc(i!==null&&i.hasLocalMutations,!0),t.converter)))}function uAe(t){t=Ct(t,Jt);const e=Ct(t.firestore,Dn);return l7($r(e),t._key,{source:"server"}).then((n=>RN(e,t,n)))}function cAe(t){t=Ct(t,ni);const e=Ct(t.firestore,Dn),n=$r(e),r=new Qc(e);return A7(t._query),u7(n,t._query).then((i=>new Ms(e,r,t,i)))}function dAe(t){t=Ct(t,ni);const e=Ct(t.firestore,Dn),n=$r(e),r=new Qc(e);return PSe(n,t._query).then((i=>new Ms(e,r,t,i)))}function fAe(t){t=Ct(t,ni);const e=Ct(t.firestore,Dn),n=$r(e),r=new Qc(e);return u7(n,t._query,{source:"server"}).then((i=>new Ms(e,r,t,i)))}function k5(t,e,n){t=Ct(t,Jt);const r=Ct(t.firestore,Dn),i=Ew(t.converter,e,n);return _y(r,[vw(Yc(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,cn.none())])}function O5(t,e,n,...r){t=Ct(t,Jt);const i=Ct(t.firestore,Dn),s=Yc(i);let o;return o=typeof(e=Qe(e))=="string"||e instanceof Wl?_N(s,"updateDoc",t._key,e,n,r):wN(s,"updateDoc",t._key,e),_y(i,[o.toMutation(t._key,cn.exists(!0))])}function hAe(t){return _y(Ct(t.firestore,Dn),[new Vh(t._key,cn.none())])}function mAe(t,e){const n=Ct(t.firestore,Dn),r=tb(t),i=Ew(t.converter,e);return _y(n,[vw(Yc(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,cn.exists(!1))]).then((()=>r))}function M7(t,...e){var u,d,f;t=Qe(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||uC(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(uC(e[r])){const m=e[r];e[r]=(u=m.next)==null?void 0:u.bind(m),e[r+1]=(d=m.error)==null?void 0:d.bind(m),e[r+2]=(f=m.complete)==null?void 0:f.bind(m)}let s,o,l;if(t instanceof Jt)o=Ct(t.firestore,Dn),l=kh(t._key.path),s={next:m=>{e[r]&&e[r](RN(o,t,m))},error:e[r+1],complete:e[r+2]};else{const m=Ct(t,ni);o=Ct(m.firestore,Dn),l=m._query;const v=new Qc(o);s={next:b=>{e[r]&&e[r](new Ms(o,v,m,b))},error:e[r+1],complete:e[r+2]},A7(t._query)}return(function(v,b,T,S){const A=new pw(S),C=new aN(b,A,T);return v.asyncQueue.enqueueAndForget((()=>P(null,null,function*(){return iN(yield dh(v),C)}))),()=>{A.Nu(),v.asyncQueue.enqueueAndForget((()=>P(null,null,function*(){return sN(yield dh(v),C)})))}})($r(o),l,i,s)}function pAe(t,e){return NSe($r(t=Ct(t,Dn)),uC(e)?e:{next:e})}function _y(t,e){return(function(r,i){const s=new Rr;return r.asyncQueue.enqueueAndForget((()=>P(null,null,function*(){return sSe(yield gN(r),i,s)}))),s.promise})($r(t),e)}function RN(t,e,n){const r=n.docs.get(e._key),i=new Qc(t);return new cs(t,i,e._key,r,new fc(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gAe={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yAe=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Yc(e)}set(e,n,r){this._verifyNotCommitted();const i=Sl(e,this._firestore),s=Ew(i.converter,n,r),o=vw(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,cn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Sl(e,this._firestore);let o;return o=typeof(n=Qe(n))=="string"||n instanceof Wl?_N(this._dataReader,"WriteBatch.update",s._key,n,r,i):wN(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,cn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Sl(e,this._firestore);return this._mutations=this._mutations.concat(new Vh(n._key,cn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ve(oe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Sl(t,e){if((t=Qe(t)).firestore!==e)throw new ve(oe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vAe{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Yc(e)}get(e){const n=Sl(e,this._firestore),r=new sAe(this._firestore);return this._transaction.lookup([n._key]).then((i=>{if(!i||i.length!==1)return Oe(24041);const s=i[0];if(s.isFoundDocument())return new Og(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new Og(this._firestore,r,n._key,null,n.converter);throw Oe(18433,{doc:s})}))}set(e,n,r){const i=Sl(e,this._firestore),s=Ew(i.converter,n,r),o=vw(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(e,n,r,...i){const s=Sl(e,this._firestore);let o;return o=typeof(n=Qe(n))=="string"||n instanceof Wl?_N(this._dataReader,"Transaction.update",s._key,n,r,i):wN(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,o),this}delete(e){const n=Sl(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xAe=class extends vAe{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Sl(e,this._firestore),r=new Qc(this._firestore);return super.get(e).then((i=>new cs(this._firestore,r,n._key,i._document,new fc(!1,!1),n.converter)))}};function bAe(t,e,n){t=Ct(t,Dn);const r=Y(Y({},gAe),n);return(function(s){if(s.maxAttempts<1)throw new ve(oe.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(s,o,l){const u=new Rr;return s.asyncQueue.enqueueAndForget((()=>P(null,null,function*(){const d=yield ASe(s);new ESe(s.asyncQueue,d,l,o,u).ju()}))),u.promise})($r(t),(i=>e(new xAe(t,i))),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wAe(){return new by("deleteField")}function _Ae(){return new yN("serverTimestamp")}function TAe(...t){return new vN("arrayUnion",t)}function EAe(...t){return new xN("arrayRemove",t)}function SAe(t){return new bN("increment",t)}(function(e,n=!0){(function(i){Dh=i})(Yl),Vl(new vo("firestore",((r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Dn(new x_e(r.getProvider("auth-internal")),new __e(o,r.getProvider("app-check-internal")),(function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ve(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ql(d.options.projectId,f)})(o,i),o);return s=Y({useFetchStreams:n},s),l._setSettings(s),l}),"PUBLIC").setMultipleInstances(!0)),Ps(dU,fU,e),Ps(dU,fU,"esm2020")})();const AAe="@firebase/firestore-compat",CAe="0.4.0";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new ve("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V5(){if(typeof Uint8Array=="undefined")throw new ve("unimplemented","Uint8Arrays are not available in this environment.")}function L5(){if(!rTe())throw new ve("unimplemented","Blobs are unavailable in Firestore in this environment.")}let D7=class dC{constructor(e){this._delegate=e}static fromBase64String(e){return L5(),new dC(jr.fromBase64String(e))}static fromUint8Array(e){return V5(),new dC(jr.fromUint8Array(e))}toBase64(){return L5(),this._delegate.toBase64()}toUint8Array(){return V5(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(t){return IAe(t,["next","error","complete"])}function IAe(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RAe{enableIndexedDbPersistence(e,n){return USe(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return FSe(e._delegate)}clearIndexedDbPersistence(e){return jSe(e._delegate)}}class k7{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ql||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&_o("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Y(Y({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){kSe(this._delegate,e,n,r)}enableNetwork(){return qSe(this._delegate)}disableNetwork(){return zSe(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,s8("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return BSe(this._delegate)}onSnapshotsInSync(e){return pAe(this._delegate,e)}get app(){if(!this._appCompat)throw new ve("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new fh(this,m7(this._delegate,e))}catch(n){throw Jr(n,"collection()","Firestore.collection()")}}doc(e){try{return new ls(this,tb(this._delegate,e))}catch(n){throw Jr(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Yr(this,OSe(this._delegate,e))}catch(n){throw Jr(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return bAe(this._delegate,n=>e(new O7(this,n)))}batch(){return $r(this._delegate),new V7(new yAe(this._delegate,e=>_y(this._delegate,e)))}loadBundle(e){return $Se(this._delegate,e)}namedQuery(e){return GSe(this._delegate,e).then(n=>n?new Yr(this,n):null)}}class Sw extends IN{constructor(e){super(),this.firestore=e}convertBytes(e){return new D7(new jr(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return ls.forKey(n,this.firestore,null)}}function PAe(t){p_e(t)}class O7{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Sw(e)}get(e){const n=hc(e);return this._delegate.get(n).then(r=>new Vg(this._firestore,new cs(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=hc(e);return r?(PN("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=hc(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=hc(e);return this._delegate.delete(n),this}}class V7{constructor(e){this._delegate=e}set(e,n,r){const i=hc(e);return r?(PN("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=hc(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=hc(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Bc{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Jp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Lg(this._firestore,r),n!=null?n:{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Bc.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new Bc(e,new Sw(e),n),i.set(n,s)),s}}Bc.INSTANCES=new WeakMap;class ls{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Sw(e)}static forPath(e,n,r){if(e.length%2!==0)throw new ve("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ls(n,new Jt(n._delegate,r,new Pe(e)))}static forKey(e,n,r){return new ls(n,new Jt(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new fh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new fh(this.firestore,m7(this._delegate,e))}catch(n){throw Jr(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Qe(e),e instanceof Jt?p7(this._delegate,e):!1}set(e,n){n=PN("DocumentReference.set",n);try{return n?k5(this._delegate,e,n):k5(this._delegate,e)}catch(r){throw Jr(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?O5(this._delegate,e):O5(this._delegate,e,n,...r)}catch(i){throw Jr(i,"updateDoc()","DocumentReference.update()")}}delete(){return hAe(this._delegate)}onSnapshot(...e){const n=L7(e),r=U7(e,i=>new Vg(this.firestore,new cs(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return M7(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=lAe(this._delegate):(e==null?void 0:e.source)==="server"?n=uAe(this._delegate):n=aAe(this._delegate),n.then(r=>new Vg(this.firestore,new cs(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ls(this.firestore,e?this._delegate.withConverter(Bc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Jr(t,e,n){return t.message=t.message.replace(e,n),t}function L7(t){for(const e of t)if(typeof e=="object"&&!fC(e))return e;return{}}function U7(t,e){var r,i;let n;return fC(t[0])?n=t[0]:fC(t[1])?n=t[1]:typeof t[0]=="function"?n={next:t[0],error:t[1],complete:t[2]}:n={next:t[1],error:t[2],complete:t[3]},{next:s=>{n.next&&n.next(e(s))},error:(r=n.error)==null?void 0:r.bind(n),complete:(i=n.complete)==null?void 0:i.bind(n)}}class Vg{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new ls(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return N7(this._delegate,e._delegate)}}class Lg extends Vg{data(e){const n=this._delegate.data(e);return this._delegate._converter||g_e(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}}class Yr{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Sw(e)}where(e,n,r){try{return new Yr(this.firestore,gl(this._delegate,QSe(e,n,r)))}catch(i){throw Jr(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Yr(this.firestore,gl(this._delegate,XSe(e,n)))}catch(r){throw Jr(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Yr(this.firestore,gl(this._delegate,ZSe(e)))}catch(n){throw Jr(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Yr(this.firestore,gl(this._delegate,eAe(e)))}catch(n){throw Jr(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Yr(this.firestore,gl(this._delegate,tAe(...e)))}catch(n){throw Jr(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Yr(this.firestore,gl(this._delegate,nAe(...e)))}catch(n){throw Jr(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Yr(this.firestore,gl(this._delegate,rAe(...e)))}catch(n){throw Jr(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Yr(this.firestore,gl(this._delegate,iAe(...e)))}catch(n){throw Jr(n,"endAt()","Query.endAt()")}}isEqual(e){return g7(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=dAe(this._delegate):(e==null?void 0:e.source)==="server"?n=fAe(this._delegate):n=cAe(this._delegate),n.then(r=>new hC(this.firestore,new Ms(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=L7(e),r=U7(e,i=>new hC(this.firestore,new Ms(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return M7(this._delegate,n,r)}withConverter(e){return new Yr(this.firestore,e?this._delegate.withConverter(Bc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class NAe{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Lg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class hC{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Yr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Lg(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new NAe(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Lg(this._firestore,r))})}isEqual(e){return N7(this._delegate,e._delegate)}}class fh extends Yr{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ls(this.firestore,e):null}doc(e){try{return e===void 0?new ls(this.firestore,tb(this._delegate)):new ls(this.firestore,tb(this._delegate,e))}catch(n){throw Jr(n,"doc()","CollectionReference.doc()")}}add(e){return mAe(this._delegate,e).then(n=>new ls(this.firestore,n))}isEqual(e){return p7(this._delegate,e._delegate)}withConverter(e){return new fh(this.firestore,e?this._delegate.withConverter(Bc.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function hc(t){return Ct(t,Jt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(...e){this._delegate=new Wl(...e)}static documentId(){return new NN(un.keyField().canonicalString())}isEqual(e){return e=Qe(e),e instanceof Wl?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{static serverTimestamp(){const e=_Ae();return e._methodName="FieldValue.serverTimestamp",new nc(e)}static delete(){const e=wAe();return e._methodName="FieldValue.delete",new nc(e)}static arrayUnion(...e){const n=TAe(...e);return n._methodName="FieldValue.arrayUnion",new nc(n)}static arrayRemove(...e){const n=EAe(...e);return n._methodName="FieldValue.arrayRemove",new nc(n)}static increment(e){const n=SAe(e);return n._methodName="FieldValue.increment",new nc(n)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAe={Firestore:k7,GeoPoint:Ns,Timestamp:Ot,Blob:D7,Transaction:O7,WriteBatch:V7,DocumentReference:ls,DocumentSnapshot:Vg,Query:Yr,QueryDocumentSnapshot:Lg,QuerySnapshot:hC,CollectionReference:fh,FieldPath:NN,FieldValue:nc,setLogLevel:PAe,CACHE_SIZE_UNLIMITED:LSe};function DAe(t,e){t.INTERNAL.registerComponent(new vo("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Y({},MAe)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kAe(t){DAe(t,(e,n)=>new k7(e,n,new RAe)),t.registerVersion(AAe,CAe)}kAe(At);const F7={apiKey:"AIzaSyCrM4asB5oZreqLf2zodwABKGwNeqiEAP4",authDomain:"growwithme-18ce2.firebaseapp.com",projectId:"growwithme-18ce2",storageBucket:"growwithme-18ce2.appspot.com",messagingSenderId:"889105420419",appId:"1:889105420419:web:3fa56d6876340029ee8bb6",measurementId:"G-N5NR1H01Z0"};At.apps.length||At.initializeApp(F7);const yl=At.auth(),Ne=At.firestore(),OAe=new At.auth.GoogleAuthProvider;OAe.setCustomParameters({prompt:"select_account",client_id:"889105420419-n9vdkh7ogbqvmgu81k4tq4r1eb9voe1a.apps.googleusercontent.com"});const We={getIdeasPaginated:(t,e=20)=>P(null,null,function*(){let n=Ne.collection("ideas").orderBy("status").limit(e);t&&(n=n.startAfter(t));const r=yield n.get(),i=r.docs.map(l=>Y({id:l.id},l.data())),s=r.docs.length>0?r.docs[r.docs.length-1]:null,o=r.docs.length===e;return{ideas:i,lastDoc:s,hasMore:o}}),getUserProfile:t=>P(null,null,function*(){const n=yield Ne.collection("users").doc(t).get();return n.exists?Y({id:n.id},n.data()):null}),createUserProfile:(t,e)=>P(null,null,function*(){yield Ne.collection("users").doc(t).set(e)}),getUsers:t=>P(null,null,function*(){const n=yield Ne.collection("users").get(),r=[];return n.forEach(i=>{r.push(Y({id:i.id},i.data()))}),t?r.filter(i=>i.id!==t):r}),getChats:t=>P(null,null,function*(){const n=yield Ne.collection("chats").where("participants","array-contains",t).get(),r=[];for(const i of n.docs){const s=i.data(),o=s.participants.find(l=>l!==t);if(o){const l=yield We.getUserProfile(o);l&&r.push(xe(Y({id:i.id},s),{participantDetails:[l]}))}}return r}),getChatsRealtime:(t,e)=>Ne.collection("chats").where("participants","array-contains",t).onSnapshot(r=>P(null,null,function*(){const i=[];for(const s of r.docs){const o=s.data(),l=o.participants.find(u=>u!==t);if(l){const u=yield We.getUserProfile(l);u&&i.push(xe(Y({id:s.id},o),{participantDetails:[u]}))}}e(i)})),markChatAsRead:(t,e)=>P(null,null,function*(){try{yield Ne.collection("chats").doc(t).update({[`unreadCounts.${e}`]:0})}catch(n){console.error("Failed to mark chat as read:",n)}}),getChatId:(t,e)=>[t,e].sort().join("_"),postIdea:t=>P(null,null,function*(){const e=xe(Y({},t),{likes:[],comments:[]});yield Ne.collection("ideas").add(e)}),getIdeas:()=>P(null,null,function*(){return(yield Ne.collection("ideas").orderBy("status").limit(20).get()).docs.map(n=>Y({id:n.id},n.data()))}),getIdeasByFounder:t=>P(null,null,function*(){return(yield Ne.collection("ideas").where("founderId","==",t).get()).docs.map(r=>Y({id:r.id},r.data()))}),joinIdea:(t,e)=>P(null,null,function*(){yield Ne.collection("ideas").doc(t).update({team:At.firestore.FieldValue.arrayUnion(e)})}),createJoinRequest:(t,e)=>P(null,null,function*(){const n={ideaId:t.id,ideaTitle:t.title,developerId:e.id,developerName:e.name,developerAvatar:e.avatarUrl,founderId:t.founderId,status:"pending",timestamp:new Date};yield Ne.collection("joinRequests").add(n)}),getJoinRequestsForFounder:(t,e)=>Ne.collection("joinRequests").where("founderId","==",t).where("status","==","pending").onSnapshot(i=>{const s=i.docs.map(o=>Y({id:o.id},o.data()));e(s)}),getJoinRequestsForDeveloper:(t,e)=>Ne.collection("joinRequests").where("developerId","==",t).onSnapshot(i=>{const s=i.docs.map(o=>Y({id:o.id},o.data()));e(s)}),updateJoinRequest:(t,e)=>P(null,null,function*(){const n=Ne.collection("joinRequests").doc(t);if(yield n.update({status:e}),e==="approved"){const i=(yield n.get()).data();yield We.joinIdea(i.ideaId,i.developerId)}}),removeTeamMember:(t,e)=>P(null,null,function*(){const n=Ne.collection("ideas").doc(t),s=yield Ne.collection("joinRequests").where("ideaId","==",t).where("developerId","==",e).where("status","==","approved").get(),o=Ne.batch();o.update(n,{team:At.firestore.FieldValue.arrayRemove(e)}),s.forEach(l=>{o.update(l.ref,{status:"rejected"})}),yield o.commit()}),createConnectionRequest:(t,e)=>P(null,null,function*(){const n=[t.id,e].sort().join("_"),r=Ne.collection("connectionRequests").doc(n),i=yield r.get();if(i.exists){const l=i.data();if(l&&l.status==="pending")throw new Error("Connection request already exists.")}const s={fromUserId:t.id,fromUserName:t.name,fromUserAvatar:t.avatarUrl,fromUserRole:t.role,toUserId:e,status:"pending",timestamp:new Date};yield r.set(s),yield Ne.collection("users").doc(t.id).update({pendingConnections:At.firestore.FieldValue.arrayUnion(e)})}),getPendingConnectionRequests:(t,e)=>Ne.collection("connectionRequests").where("toUserId","==",t).where("status","==","pending").onSnapshot(i=>{const s=i.docs.map(o=>Y({id:o.id},o.data()));e(s)}),updateConnectionRequest:(t,e)=>P(null,null,function*(){const n=Ne.collection("connectionRequests").doc(t);if(yield n.update({status:e}),e==="approved"){const o=(yield n.get()).data();o&&(yield We.addConnection(o.fromUserId,o.toUserId))}const i=(yield n.get()).data();i&&(yield Ne.collection("users").doc(i.fromUserId).update({pendingConnections:At.firestore.FieldValue.arrayRemove(i.toUserId)}))}),addConnection:(t,e)=>P(null,null,function*(){const n=Ne.collection("users").doc(t),r=Ne.collection("users").doc(e),i=Ne.batch();i.update(n,{connections:At.firestore.FieldValue.arrayUnion(e)}),i.update(r,{connections:At.firestore.FieldValue.arrayUnion(t)}),yield i.commit()}),getSentConnectionRequests:(t,e)=>Ne.collection("connectionRequests").where("fromUserId","==",t).onSnapshot(i=>{const s=i.docs.map(o=>Y({id:o.id},o.data()));e(s)}),withdrawConnectionRequest:t=>P(null,null,function*(){const e=Ne.collection("connectionRequests").doc(t),r=(yield e.get()).data();r&&(yield Ne.collection("users").doc(r.fromUserId).update({pendingConnections:At.firestore.FieldValue.arrayRemove(r.toUserId)})),yield e.delete()}),getConnections:t=>P(null,null,function*(){return t.length===0?[]:(yield Ne.collection("users").where(At.firestore.FieldPath.documentId(),"in",t).get()).docs.map(r=>Y({id:r.id},r.data()))}),removeConnection:(t,e)=>P(null,null,function*(){const n=Ne.collection("users").doc(t),r=Ne.collection("users").doc(e),i=[t,e].sort().join("_"),s=Ne.collection("connectionRequests").doc(i),o=Ne.batch();o.update(n,{connections:At.firestore.FieldValue.arrayRemove(e)}),o.update(r,{connections:At.firestore.FieldValue.arrayRemove(t)}),o.delete(s),yield o.commit()}),toggleLikeIdea:(t,e)=>P(null,null,function*(){const n=Ne.collection("ideas").doc(t),r=yield n.get();r.exists&&((r.data().likes||[]).includes(e)?yield n.update({likes:At.firestore.FieldValue.arrayRemove(e)}):yield n.update({likes:At.firestore.FieldValue.arrayUnion(e)}))}),addCommentToIdea:(t,e)=>P(null,null,function*(){const n=xe(Y({},e),{id:Ne.collection("ideas").doc().id});yield Ne.collection("ideas").doc(t).update({comments:At.firestore.FieldValue.arrayUnion(n)})}),deleteCommentFromIdea:(t,e)=>P(null,null,function*(){yield Ne.collection("ideas").doc(t).update({comments:At.firestore.FieldValue.arrayRemove(e)})}),updateIdea:(t,e)=>P(null,null,function*(){yield Ne.collection("ideas").doc(t).update(e)}),createNegotiationRequest:(t,e)=>P(null,null,function*(){const n=`${t.id}_${e.id}`,r=Ne.collection("negotiations").doc(n);if((yield r.get()).exists)throw new Error("A negotiation for this idea with this investor already exists.");const s={ideaId:t.id,ideaTitle:t.title,investorId:e.id,investorName:e.name,investorAvatar:e.avatarUrl,founderId:t.founderId,status:"pending",timestamp:new Date,offers:[]};return yield r.set(s),n}),getNegotiationsForFounder:(t,e)=>Ne.collection("negotiations").where("founderId","==",t).onSnapshot(i=>{const s=i.docs.map(o=>{const l=o.data();return xe(Y({id:o.id},l),{timestamp:l.timestamp.toDate?l.timestamp.toDate():l.timestamp,offers:l.offers?l.offers.map(u=>xe(Y({},u),{timestamp:u.timestamp.toDate?u.timestamp.toDate():u.timestamp})):[]})});e(s)}),getNegotiationsForInvestor:(t,e)=>Ne.collection("negotiations").where("investorId","==",t).onSnapshot(i=>{const s=i.docs.map(o=>{const l=o.data();return xe(Y({id:o.id},l),{timestamp:l.timestamp.toDate?l.timestamp.toDate():l.timestamp,offers:l.offers?l.offers.map(u=>xe(Y({},u),{timestamp:u.timestamp.toDate?u.timestamp.toDate():u.timestamp})):[]})});e(s)}),updateNegotiationStatus:(t,e,n,r)=>P(null,null,function*(){const i=Ne.collection("negotiations").doc(t),s={status:e};e==="accepted"&&typeof n=="number"&&typeof r=="number"&&(s.finalInvestment=n,s.finalEquity=r),yield i.update(s)}),getTotalInvestedAmountForIdeas:t=>P(null,null,function*(){const e=yield Ne.collection("negotiations").where("founderId","==",t).where("status","==","accepted").get();let n=0;return e.docs.forEach(r=>{const i=r.data();typeof i.finalInvestment=="number"&&(n+=i.finalInvestment)}),n}),addOfferToNegotiation:(t,e)=>P(null,null,function*(){yield Ne.collection("negotiations").doc(t).update({offers:At.firestore.FieldValue.arrayUnion(e),status:"active"})}),getAcceptedInvestorCountForIdeas:()=>P(null,null,function*(){const t=yield Ne.collection("negotiations").where("status","==","accepted").get(),e={};return t.docs.forEach(n=>{const r=n.data();r.ideaId&&(e[r.ideaId]=(e[r.ideaId]||0)+1)}),e}),getFounderIdeaEngagementAnalytics:t=>P(null,null,function*(){const e=yield We.getIdeasByFounder(t);let n=0,r=0;return e.forEach(i=>{n+=i.likes?i.likes.length:0,r+=i.comments?i.comments.length:0}),{totalLikes:n,totalComments:r}}),getConnectionStatus:(t,e)=>P(null,null,function*(){const i=(yield Ne.collection("users").doc(t).get()).data();if(i&&i.connections&&i.connections.includes(e))return{isConnected:!0,isPending:!1};const s=[t,e].sort().join("_"),l=yield Ne.collection("connectionRequests").doc(s).get();if(l.exists){const u=l.data();if(u&&u.status==="pending"&&u.fromUserId===t)return{isConnected:!1,isPending:!0}}return{isConnected:!1,isPending:!1}}),getConnectionStatusRealtime:(t,e,n)=>{const r=[],s=Ne.collection("users").doc(t).onSnapshot(m=>{var S;console.log(`FirestoreService: Current user ${t} connections changed:`,(S=m.data())==null?void 0:S.connections);const v=m.data();if(v&&v.connections&&v.connections.includes(e)){console.log("FirestoreService: Users are now connected"),n({isConnected:!0,isPending:!1});return}const b=[t,e].sort().join("_");Ne.collection("connectionRequests").doc(b).get().then(A=>{if(A.exists){const C=A.data();C&&C.status==="pending"&&C.fromUserId===t?(console.log("FirestoreService: Request is pending"),n({isConnected:!1,isPending:!0})):(console.log("FirestoreService: Request is not pending"),n({isConnected:!1,isPending:!1}))}else console.log("FirestoreService: No request exists"),n({isConnected:!1,isPending:!1})})}),o=[t,e].sort().join("_"),u=Ne.collection("connectionRequests").doc(o).onSnapshot(m=>{if(console.log(`FirestoreService: Connection request ${o} changed:`,m.data()),m.exists){const v=m.data();v&&v.status==="pending"&&v.fromUserId===t?(console.log("FirestoreService: Request is pending from current user"),n({isConnected:!1,isPending:!0})):v&&v.status==="approved"?(console.log("FirestoreService: Request was approved"),n({isConnected:!0,isPending:!1})):(console.log("FirestoreService: Request has other status:",v==null?void 0:v.status),n({isConnected:!1,isPending:!1}))}else console.log("FirestoreService: Request document deleted"),n({isConnected:!1,isPending:!1})}),f=Ne.collection("users").doc(e).onSnapshot(m=>{var b;console.log(`FirestoreService: Other user ${e} connections changed:`,(b=m.data())==null?void 0:b.connections);const v=m.data();v&&v.connections&&v.connections.includes(t)&&(console.log("FirestoreService: Other user now has current user in connections"),n({isConnected:!0,isPending:!1}))});return r.push(s,u,f),()=>{r.forEach(m=>m())}}},MN=({user:t,onClose:e,isOwnProfile:n,onMessage:r,onConnect:i,onViewConnections:s,isConnected:o,isPending:l,onStartNegotiation:u,currentUserId:d})=>{var b;const[f,m]=M.useState({isConnected:o||!1,isPending:l||!1});M.useEffect(()=>{m({isConnected:o||!1,isPending:l||!1})},[o,l]);const v=((b=t.connections)==null?void 0:b.length)||0;return M.useEffect(()=>{if(d&&i)return console.log(`ProfileCard: Setting up real-time listener for ${t.name} (${t.id})`),We.getConnectionStatusRealtime(d,t.id,S=>{console.log(`ProfileCard: Real-time status update for ${t.name}:`,S),m(S)})},[t.id,d,i]),x.jsx(jl,{children:x.jsx(ot.div,{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex justify-center items-center z-50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:x.jsxs(ot.div,{className:"bg-gradient-to-br from-slate-900/95 to-black/95 backdrop-blur-xl border border-slate-700/50 rounded-3xl max-w-2xl w-full mx-auto p-6 sm:p-8 relative shadow-2xl shadow-black/50",initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{duration:.3,ease:"easeOut"},children:[x.jsx("button",{onClick:e,"aria-label":"Close profile",className:"absolute top-4 right-4 p-2 rounded-full bg-slate-800/50 hover:bg-slate-700/50 text-slate-400 hover:text-white transition-all duration-200 hover:scale-110",children:x.jsx(xa,{className:"w-5 h-5"})}),x.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start text-center sm:text-left gap-6",children:[x.jsxs("div",{className:"relative",children:[x.jsx("img",{src:t.avatarUrl,alt:t.name,className:"w-28 h-28 sm:w-32 sm:h-32 rounded-full border-4 border-slate-600 shadow-2xl"}),x.jsx("div",{className:"absolute -bottom-1 -right-1 w-8 h-8 bg-gradient-to-r from-emerald-500 to-emerald-600 rounded-full border-2 border-slate-900 flex items-center justify-center",children:x.jsx("div",{className:"w-3 h-3 bg-white rounded-full"})})]}),x.jsxs("div",{className:"flex-1",children:[x.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-2",children:t.name}),x.jsx("span",{className:Et("inline-block text-lg font-medium px-4 py-2 rounded-full mb-3",t.role==="Developer"?"bg-blue-900/30 text-blue-300 border border-blue-700/30":t.role==="Founder"?"bg-purple-900/30 text-purple-300 border border-purple-700/30":"bg-emerald-900/30 text-emerald-300 border border-emerald-700/30"),children:t.role}),x.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start gap-4 text-slate-400",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Cne,{className:"w-4 h-4 text-slate-500"}),x.jsx("span",{className:"text-sm",children:t.location})]}),n?x.jsxs("button",{onClick:()=>s&&s(t.connections||[]),className:"flex items-center gap-2 cursor-pointer hover:text-white transition-colors text-sm",disabled:v===0,children:[x.jsx(iO,{className:"w-4 h-4 text-slate-500"}),x.jsxs("span",{children:[v," ",v===1?"Connection":"Connections"]})]}):x.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[x.jsx(iO,{className:"w-4 h-4 text-slate-500"}),x.jsxs("span",{children:[v," ",v===1?"Connection":"Connections"]})]})]})]})]}),x.jsxs("div",{className:"mt-8 space-y-6",children:[x.jsxs("div",{className:"space-y-3",children:[x.jsxs("h3",{className:"font-semibold text-lg text-white flex items-center gap-2",children:[x.jsx(nI,{className:"w-5 h-5 text-emerald-400"}),"Skills"]}),x.jsx("div",{className:"flex flex-wrap gap-2",children:t.skills.map(T=>x.jsx("span",{className:"bg-slate-800/50 text-slate-300 px-3 py-1.5 rounded-full text-sm border border-slate-700/50 hover:border-slate-600/50 transition-colors",children:T},T))})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("h3",{className:"font-semibold text-lg text-white flex items-center gap-2",children:[x.jsx(Ine,{className:"w-5 h-5 text-purple-400"}),"Interests"]}),x.jsx("div",{className:"flex flex-wrap gap-2",children:t.interests.map(T=>x.jsx("span",{className:"bg-slate-800/50 text-slate-300 px-3 py-1.5 rounded-full text-sm border border-slate-700/50 hover:border-slate-600/50 transition-colors",children:T},T))})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("h3",{className:"font-semibold text-lg text-white flex items-center gap-2",children:[x.jsx(Rne,{className:"w-5 h-5 text-amber-400"}),"Looking For"]}),x.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:t.lookingFor})]})]}),!n&&x.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-700/30 flex flex-col sm:flex-row justify-center gap-3",children:[f.isConnected?x.jsxs("button",{disabled:!0,className:"flex items-center justify-center gap-2 bg-emerald-600/20 text-emerald-300 border border-emerald-600/30 font-medium py-3 px-6 rounded-xl w-full sm:w-auto cursor-not-allowed",children:[x.jsx(Il,{className:"w-5 h-5"}),"Connected"]}):f.isPending?x.jsxs("button",{disabled:!0,className:"flex items-center justify-center gap-2 bg-amber-600/20 text-amber-300 border border-amber-600/30 font-medium py-3 px-6 rounded-xl w-full sm:w-auto cursor-not-allowed",children:[x.jsx(Il,{className:"w-5 h-5"}),"Pending"]}):x.jsxs("button",{onClick:()=>P(null,null,function*(){i&&(i(t),m({isConnected:!1,isPending:!0}))}),className:"flex items-center justify-center gap-2 bg-gradient-to-r from-slate-600 to-slate-500 hover:from-slate-500 hover:to-slate-400 text-white font-medium py-3 px-6 rounded-xl w-full sm:w-auto transition-all duration-200 hover:shadow-lg hover:shadow-slate-500/25 transform hover:scale-105",children:[x.jsx(Il,{className:"w-5 h-5"}),"Connect"]}),x.jsxs("button",{onClick:()=>r&&r(t),className:"flex items-center justify-center gap-2 bg-slate-800/50 hover:bg-slate-700/50 text-white font-medium py-3 px-6 rounded-xl w-full sm:w-auto transition-all duration-200 hover:shadow-lg hover:shadow-slate-500/25 transform hover:scale-105",children:[x.jsx(Sf,{className:"w-5 h-5"}),"Message"]})]})]})})})},VAe=({user:t,onClose:e})=>{const[n,r]=M.useState(0),[i,s]=M.useState(""),[o,l]=M.useState(!1),u=d=>{d.preventDefault(),console.log({ratedUser:t.name,rating:n,feedback:i}),l(!0),setTimeout(()=>{e()},1500)};return x.jsx(jl,{children:x.jsx(ot.div,{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex justify-center items-center z-50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:x.jsxs(ot.div,{className:"bg-gradient-to-br from-slate-900/95 to-black/95 backdrop-blur-xl border border-slate-700/50 rounded-3xl max-w-md w-full mx-auto p-6 sm:p-8 relative shadow-2xl shadow-black/50",initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{duration:.3,ease:"easeOut"},children:[x.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 rounded-full bg-slate-800/50 hover:bg-slate-700/50 text-slate-400 hover:text-white transition-all duration-200 hover:scale-110",children:x.jsx(xa,{className:"w-5 h-5"})}),x.jsx(jl,{mode:"wait",children:o?x.jsxs(ot.div,{className:"text-center",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},children:[x.jsx(ot.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.1,duration:.3,type:"spring",stiffness:200},className:"w-16 h-16 bg-emerald-500/20 rounded-full mx-auto mb-4 flex items-center justify-center",children:x.jsx("div",{className:"w-8 h-8 bg-emerald-500 rounded-full flex items-center justify-center",children:x.jsx("div",{className:"w-4 h-4 bg-white rounded-full"})})}),x.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Thank You!"}),x.jsx("p",{className:"text-slate-300 text-sm",children:"Your feedback helps improve our matching algorithm."})]},"submitted"):x.jsxs(ot.form,{onSubmit:u,className:"space-y-6",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:[x.jsxs("h2",{className:"text-2xl font-bold text-center text-white",children:["Feedback for ",t.name]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx("label",{className:"block text-sm font-medium text-slate-300 text-center",children:"How would you rate this match?"}),x.jsx("div",{className:"flex justify-center gap-2",children:[1,2,3,4,5].map(d=>x.jsx(ot.button,{type:"button",className:`p-2 rounded-lg transition-all duration-200 ${n>=d?"text-amber-400 bg-amber-500/10":"text-slate-600 hover:text-slate-400"}`,onClick:()=>r(d),whileHover:{scale:1.1},whileTap:{scale:.9},children:x.jsx(xA,{className:"w-8 h-8"})},d))})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx("label",{htmlFor:"feedback",className:"block text-sm font-medium text-slate-300",children:"Additional comments (optional)"}),x.jsx("textarea",{id:"feedback",name:"feedback",rows:4,value:i,onChange:d=>s(d.target.value),className:"w-full bg-slate-800/50 border border-slate-700/50 rounded-xl p-3 text-white placeholder-slate-500 focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500/50 transition-all backdrop-blur-sm resize-none",placeholder:"What did you think about this match suggestion?"})]}),x.jsx(ot.button,{type:"submit",disabled:n===0,className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-400 hover:to-emerald-500 text-white font-medium py-3 rounded-xl transition-all duration-200 disabled:from-slate-600 disabled:to-slate-700 disabled:cursor-not-allowed disabled:opacity-50 transform hover:scale-105 hover:shadow-lg hover:shadow-emerald-500/25",whileHover:{scale:n>0?1.02:1},whileTap:{scale:.98},children:"Submit Feedback"})]},"form")})]})})})},LAe=({connectionIds:t,onClose:e,onSelectUser:n})=>{const[r,i]=M.useState([]),[s,o]=M.useState(!0);return M.useEffect(()=>{const l=()=>P(null,null,function*(){o(!0);try{const u=yield We.getConnections(t);i(u)}catch(u){console.error("Failed to fetch connections:",u)}finally{o(!1)}});t.length>0?l():(i([]),o(!1))},[t]),x.jsx(jl,{children:x.jsx(ot.div,{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex justify-center items-center z-50 p-4",onClick:e,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:x.jsxs(ot.div,{className:"bg-gradient-to-br from-slate-900/95 to-black/95 backdrop-blur-xl border border-slate-700/50 rounded-3xl shadow-2xl shadow-black/50 p-6 w-full max-w-md relative",onClick:l=>l.stopPropagation(),initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{duration:.3,ease:"easeOut"},children:[x.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 rounded-full bg-slate-800/50 hover:bg-slate-700/50 text-slate-400 hover:text-white transition-all duration-200 hover:scale-110",children:x.jsx(xa,{className:"w-5 h-5"})}),x.jsx("h2",{className:"text-2xl font-bold text-white mb-6 text-center",children:"Your Connections"}),x.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:s?x.jsxs(ot.div,{className:"text-center py-8",initial:{opacity:0},animate:{opacity:1},children:[x.jsx("div",{className:"w-8 h-8 border-2 border-slate-600 border-t-emerald-500 rounded-full animate-spin mx-auto mb-3"}),x.jsx("p",{className:"text-slate-400 text-sm",children:"Loading connections..."})]}):r.length>0?r.map((l,u)=>x.jsxs(ot.div,{className:"flex items-center bg-slate-800/50 hover:bg-slate-700/50 p-4 rounded-xl cursor-pointer transition-all duration-200 border border-slate-700/30 hover:border-slate-600/50 hover:shadow-lg hover:shadow-slate-500/10",onClick:()=>n(l),initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:u*.1,duration:.3},whileHover:{scale:1.02,y:-2},children:[x.jsx("img",{src:l.avatarUrl,alt:l.name,className:"w-12 h-12 rounded-full mr-4 border-2 border-slate-600 shadow-lg"}),x.jsxs("div",{className:"flex-1",children:[x.jsx("p",{className:"font-semibold text-white text-sm",children:l.name}),x.jsx("span",{className:`${l.role==="Developer"?"text-blue-400":l.role==="Founder"?"text-purple-400":"text-emerald-400"} text-xs font-medium`,children:l.role})]}),x.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"})]},l.id)):x.jsxs(ot.div,{className:"text-center py-8",initial:{opacity:0},animate:{opacity:1},children:[x.jsx("div",{className:"w-16 h-16 bg-slate-800/50 rounded-full mx-auto mb-4 flex items-center justify-center",children:x.jsx("div",{className:"w-8 h-8 bg-slate-600 rounded-full"})}),x.jsx("h3",{className:"text-lg font-medium text-slate-300 mb-2",children:"No connections yet"}),x.jsx("p",{className:"text-sm text-slate-500",children:"Start connecting with people to build your network!"})]})}),x.jsx(ot.button,{onClick:e,className:"mt-6 w-full bg-gradient-to-r from-slate-600 to-slate-500 hover:from-slate-500 hover:to-slate-400 text-white font-medium py-3 px-4 rounded-xl transition-all duration-200 hover:shadow-lg hover:shadow-slate-500/25 transform hover:scale-105",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Close"})]})})})},UAe=({title:t,message:e,onClose:n,type:r="success"})=>{const i=r==="success"?tI:Mne,s=r==="success"?"text-emerald-400":"text-red-400",o=r==="success"?"bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-400 hover:to-emerald-500":"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-400 hover:to-red-500";return x.jsx(jl,{children:x.jsx(ot.div,{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex justify-center items-center z-50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:x.jsxs(ot.div,{className:"bg-gradient-to-br from-slate-900/95 to-black/95 backdrop-blur-xl border border-slate-700/50 rounded-3xl max-w-sm w-full mx-auto p-6 sm:p-8 relative shadow-2xl shadow-black/50 text-center",initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{duration:.3,ease:"easeOut"},children:[x.jsx("button",{onClick:n,"aria-label":"Close",className:"absolute top-4 right-4 p-2 rounded-full bg-slate-800/50 hover:bg-slate-700/50 text-slate-400 hover:text-white transition-all duration-200 hover:scale-110",children:x.jsx(xa,{className:"w-5 h-5"})}),x.jsx(ot.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.1,duration:.3,type:"spring",stiffness:200},children:x.jsx(i,{className:`w-16 h-16 mx-auto mb-6 ${s}`})}),x.jsx(ot.h2,{className:"text-2xl font-bold text-white mb-3",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2,duration:.3},children:t}),x.jsx(ot.p,{className:"text-slate-300 mb-8 text-sm leading-relaxed",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3,duration:.3},children:e}),x.jsx(ot.button,{onClick:n,className:`${o} text-white font-medium py-3 px-8 rounded-xl transition-all duration-200 hover:shadow-lg transform hover:scale-105 w-full`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4,duration:.3},whileHover:{scale:1.05},whileTap:{scale:.95},children:"Close"})]})})})},FAe=()=>{const[t,e]=M.useState(!1);return M.useEffect(()=>{const n=()=>{e(window.innerWidth>=1024)};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),{enterDuration:t?.5:.2,exitDuration:t?.5:.15}},jAe=()=>x.jsx("div",{className:"bg-gradient-to-br from-slate-800/50 to-slate-900/50 backdrop-blur-sm p-4 rounded-2xl animate-pulse border border-slate-700/50 w-full",children:x.jsxs("div",{className:"flex flex-col sm:flex-row items-start space-y-4 sm:space-y-0 sm:space-x-4",children:[x.jsx("div",{className:"w-20 h-20 rounded-full bg-slate-700 mx-auto sm:mx-0"}),x.jsxs("div",{className:"flex-1 space-y-3",children:[x.jsx("div",{className:"h-5 bg-slate-700 rounded-full w-3/4"}),x.jsx("div",{className:"h-4 bg-slate-700 rounded-full w-1/2"}),x.jsx("div",{className:"h-3 bg-slate-700 rounded-full w-2/3"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("div",{className:"flex-1 h-10 bg-slate-700 rounded-lg"}),x.jsx("div",{className:"flex-1 h-10 bg-slate-700 rounded-lg"})]})]})]})}),BAe=({match:t,onMessage:e,onConnect:n,onFeedback:r,onViewProfile:i,isConnected:s,isPending:o,index:l,hoveredIndex:u,setHoveredIndex:d})=>{const f=t.user,m=t.compatibilityScore>80?"text-emerald-400":t.compatibilityScore>60?"text-amber-400":"text-orange-400",{enterDuration:v}=FAe();return x.jsxs("div",{className:"relative group block p-2 h-full w-full",onMouseEnter:()=>d(l),onMouseLeave:()=>d(null),children:[x.jsx(jl,{mode:"wait",children:u===l&&x.jsx(ot.span,{className:"absolute inset-0 h-full w-full bg-slate-800/[0.8] block rounded-3xl",layoutId:"hoverBackground",initial:{opacity:0},animate:{opacity:1,transition:{duration:v,ease:"easeOut"}},exit:{opacity:0,transition:{duration:.05,ease:"linear"}},style:{willChange:"opacity, transform",transformOrigin:"center"},layout:!0})}),x.jsxs("div",{className:"relative z-20 bg-gradient-to-br from-slate-900/90 to-black/90 backdrop-blur-sm border border-slate-800/50 rounded-2xl p-4 sm:p-6 transition-all duration-300 hover:border-slate-600/70 hover:shadow-2xl hover:shadow-slate-500/10 h-full",onClick:()=>i(f),children:[x.jsxs("div",{className:"sm:hidden space-y-3",children:[x.jsxs("div",{className:"flex items-start justify-between",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("img",{src:f.avatarUrl,alt:f.name,className:"w-12 h-12 rounded-full border-2 border-slate-700 shadow-lg"}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-sm font-semibold text-white",children:f.name}),x.jsx("span",{className:Et("text-xs font-medium px-2 py-1 rounded-full",f.role===yt.Developer?"bg-blue-900/30 text-blue-300 border border-blue-700/30":f.role===yt.Founder?"bg-purple-900/30 text-purple-300 border border-purple-700/30":"bg-emerald-900/30 text-emerald-300 border border-emerald-700/30"),children:f.role})]})]}),x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("button",{onClick:b=>{b.stopPropagation(),r(f)},className:"p-1.5 rounded-lg bg-slate-800/50 hover:bg-slate-700/50 text-slate-300 hover:text-white transition-colors",children:x.jsx(xA,{className:"w-3.5 h-3.5"})}),x.jsx("button",{onClick:b=>{b.stopPropagation(),e(f)},className:"p-1.5 rounded-lg bg-slate-800/50 hover:bg-slate-700/50 text-white transition-colors",children:x.jsx(Sf,{className:"w-3.5 h-3.5"})})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"flex-1 bg-slate-800/50 rounded-full h-2",children:x.jsx("div",{className:"bg-gradient-to-r from-slate-600 to-slate-500 h-2 rounded-full transition-all duration-500",style:{width:`${t.compatibilityScore}%`}})}),x.jsxs("span",{className:Et("text-xs font-bold",m),children:[t.compatibilityScore,"%"]})]}),s?x.jsxs("button",{disabled:!0,className:"w-full py-2 px-3 bg-emerald-600/20 text-emerald-300 border border-emerald-600/30 rounded-lg text-xs font-medium cursor-not-allowed",children:[x.jsx(uf,{className:"w-3.5 h-3.5 inline mr-1"})," Connected"]}):o?x.jsxs("button",{disabled:!0,className:"w-full py-2 px-3 bg-amber-600/20 text-amber-300 border border-amber-600/30 rounded-lg text-xs font-medium cursor-not-allowed",children:[x.jsx(uf,{className:"w-3.5 h-3.5 inline mr-1"})," Pending"]}):x.jsxs("button",{onClick:b=>{b.stopPropagation(),n(f)},className:"w-full py-2 px-3 bg-gradient-to-r from-slate-600 to-slate-500 hover:from-slate-500 hover:to-slate-400 text-white rounded-lg text-xs font-medium transition-all duration-200 hover:shadow-lg hover:shadow-slate-500/25",children:[x.jsx(Il,{className:"w-3.5 h-3.5 inline mr-1"})," Connect"]})]})]}),x.jsxs("div",{className:"hidden sm:block space-y-4",children:[x.jsxs("div",{className:"flex items-start space-x-4",children:[x.jsx("img",{src:f.avatarUrl,alt:f.name,className:"w-20 h-20 rounded-full border-2 border-slate-700 shadow-lg"}),x.jsxs("div",{className:"flex-1",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[x.jsx("h3",{className:"text-xl font-bold text-white",children:f.name}),x.jsx("span",{className:Et("text-sm font-medium px-3 py-1 rounded-full",f.role===yt.Developer?"bg-blue-900/30 text-blue-300 border border-blue-700/30":f.role===yt.Founder?"bg-purple-900/30 text-purple-300 border border-purple-700/30":"bg-emerald-900/30 text-emerald-300 border border-emerald-700/30"),children:f.role})]}),x.jsx("p",{className:"text-slate-400 text-sm",children:f.location})]})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex-1 bg-slate-800/50 rounded-full h-3",children:x.jsx("div",{className:"bg-gradient-to-r from-slate-600 to-slate-500 h-3 rounded-full transition-all duration-500",style:{width:`${t.compatibilityScore}%`}})}),x.jsxs("span",{className:Et("text-lg font-bold",m),children:[t.compatibilityScore,"%"]})]}),x.jsxs("p",{className:"text-slate-300 text-sm italic border-l-2 border-slate-600 pl-4",children:['"',t.justification,'"']}),x.jsxs("div",{className:"flex gap-2 pt-2",children:[x.jsx("button",{onClick:b=>{b.stopPropagation(),r(f)},className:"p-2 rounded-lg bg-slate-800/50 hover:bg-slate-700/50 text-slate-300 hover:text-white transition-colors",children:x.jsx(xA,{className:"w-4 h-4"})}),s?x.jsxs("button",{disabled:!0,className:"flex-1 py-2 px-4 bg-emerald-600/20 text-emerald-300 border border-emerald-600/30 rounded-lg text-sm font-medium cursor-not-allowed",children:[x.jsx(uf,{className:"w-4 h-4 inline mr-2"})," Connected"]}):o?x.jsxs("button",{disabled:!0,className:"flex-1 py-2 px-4 bg-amber-600/20 text-amber-300 border border-amber-600/30 rounded-lg text-sm font-medium cursor-not-allowed",children:[x.jsx(uf,{className:"w-4 h-4 inline mr-2"})," Pending"]}):x.jsxs("button",{onClick:b=>{b.stopPropagation(),n(f)},className:"flex-1 py-2 px-4 bg-gradient-to-r from-slate-600 to-slate-500 hover:from-slate-500 hover:to-slate-400 text-white rounded-lg text-sm font-medium transition-all duration-200 hover:shadow-lg hover:shadow-slate-500/25",children:[x.jsx(Il,{className:"w-4 h-4 inline mr-2"})," Connect"]}),x.jsxs("button",{onClick:b=>{b.stopPropagation(),e(f)},className:"py-2 px-4 bg-slate-800/50 hover:bg-slate-700/50 text-white rounded-lg text-sm font-medium transition-colors",children:[x.jsx(Sf,{className:"w-4 h-4 inline mr-2"})," Message"]})]})]})]})]})]})},U5=({user:t,matches:e,isLoading:n,error:r,onFindMatches:i,searchQuery:s,setSearchQuery:o,hasActiveSearch:l,onMessage:u,onRequestsUpdated:d})=>{var Q,ae;const[f,m]=M.useState(null),[v,b]=M.useState(!1),[T,S]=M.useState(null),[A,C]=M.useState(!1),[D,N]=M.useState([]),[F,V]=M.useState(null),[B,k]=M.useState("matches"),[R,O]=M.useState(0),[j,q]=M.useState(null),[H,G]=M.useState(e),he=Ec.useCallback(Z=>{q(Z)},[]);M.useEffect(()=>{G(e)},[e]),M.useEffect(()=>{if(!t||e.length===0)return;const Z=[];e.forEach(ue=>{console.log(`Dashboard: Setting up real-time listener for match ${ue.user.name}`);const ce=We.getConnectionStatusRealtime(t.id,ue.user.id,fe=>{console.log(`Dashboard: Real-time status update for ${ue.user.name}:`,fe),G(Ce=>Ce.map(Ve=>Ve.user.id===ue.user.id?xe(Y({},Ve),{isConnected:fe.isConnected,isPending:fe.isPending}):Ve))});Z.push(ce)});const K=Ne.collection("users").doc(t.id).onSnapshot(ue=>{const ce=ue.data();ce&&ce.connections&&G(fe=>fe.map(Ce=>xe(Y({},Ce),{isConnected:ce.connections.includes(Ce.user.id),isPending:!1})))});return Z.push(K),()=>{Z.forEach(ue=>ue())}},[t,e]),Ec.useEffect(()=>{function Z(){return P(this,null,function*(){if(t.role===yt.Founder){const Ee=yield We.getTotalInvestedAmountForIdeas(t.id);O(Ee)}})}Z()},[t.id,t.role]);const we=Z=>P(null,null,function*(){if(t)try{yield We.createConnectionRequest(t,Z.id),V({title:"Request Sent",message:`Your connection request has been sent to ${Z.name}.`,type:"success"}),m(null),d(),G(Ee=>Ee.map(K=>K.user.id===Z.id?xe(Y({},K),{isConnected:!1,isPending:!0}):K))}catch(Ee){console.error("Failed to send connection request:",Ee),V({title:"Request Failed",message:"Could not send connection request. You may have already sent one to this user.",type:"error"})}});return x.jsxs("div",{className:"relative min-h-screen w-full overflow-hidden bg-gradient-to-br from-slate-950 via-black to-slate-950 font-sans",children:[x.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none",children:[x.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-950 via-black to-slate-950"}),x.jsx("div",{className:"absolute top-1/4 left-1/4 w-72 h-72 bg-emerald-500/5 rounded-full blur-3xl animate-pulse-slow"}),x.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-purple-500/5 rounded-full blur-3xl animate-pulse-slow",style:{animationDelay:"2s"}}),x.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.01)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.01)_1px,transparent_1px)] bg-[size:80px_80px]"})]}),x.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto py-8 sm:py-12 px-4 sm:px-6 lg:px-8",children:[x.jsxs(ot.div,{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-8 gap-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-light text-white mb-2",children:"Your Dashboard"}),x.jsx("p",{className:"text-slate-400 text-sm sm:text-base",children:"Discover and connect with amazing people"})]}),x.jsxs("button",{onClick:i,disabled:n,className:"flex items-center gap-3 bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-400 hover:to-emerald-500 text-white font-medium py-3 px-6 rounded-xl shadow-lg hover:shadow-emerald-500/25 transition-all duration-200 disabled:from-slate-600 disabled:to-slate-700 disabled:cursor-not-allowed disabled:shadow-none transform hover:scale-105",children:[x.jsx(MB,{className:`w-5 h-5 ${n?"animate-spin":""}`}),n?"Finding...":l?"Refresh Matches":"Find Matches"]})]}),x.jsx(ot.div,{className:"mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:x.jsxs("div",{className:"relative",children:[x.jsx(tx,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 z-10"}),x.jsx("input",{type:"text",placeholder:"Search matches by keyword, skill, or location...",value:s,onChange:Z=>o(Z.target.value),className:"w-full bg-slate-900/50 border border-slate-700/50 rounded-xl py-4 pl-14 pr-4 text-white placeholder-slate-400 focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500/50 transition-all backdrop-blur-sm relative z-0"})]})}),x.jsx(ot.div,{className:"mb-8 border-b border-slate-700/30",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:x.jsx("button",{onClick:()=>k("matches"),className:Et("py-3 px-6 text-sm font-medium transition-all duration-200 border-b-2",B==="matches"?"text-emerald-400 border-emerald-500":"text-slate-400 hover:text-white border-transparent hover:border-slate-600"),children:"Matches"})}),B==="matches"&&x.jsx(ot.div,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:n?Array.from({length:3}).map((Z,Ee)=>x.jsx(jAe,{},Ee)):H.length>0?H.map((Z,Ee)=>x.jsx(ot.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1*Ee},children:x.jsx(BAe,{match:Z,onMessage:u,onConnect:we,onFeedback:K=>{S(K),b(!0)},onViewProfile:m,isConnected:Z.isConnected,isPending:Z.isPending,index:Ee,hoveredIndex:j,setHoveredIndex:he})},Z.user.id)):x.jsx(ot.div,{className:"text-slate-400 col-span-full text-center py-16",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6},children:x.jsxs("div",{className:"max-w-md mx-auto",children:[x.jsx("div",{className:"w-16 h-16 bg-slate-800/50 rounded-full mx-auto mb-4 flex items-center justify-center",children:x.jsx(tx,{className:"w-8 h-8 text-slate-600"})}),x.jsx("h3",{className:"text-lg font-medium text-slate-300 mb-2",children:"No matches found"}),x.jsx("p",{className:"text-sm text-slate-500",children:"Try refreshing or adjusting your search criteria to discover new connections."})]})})}),B==="analytics"&&t.role===yt.Founder&&x.jsx(a$,{data:{userEngagement:{dailyActiveUsers:0,monthlyActiveUsers:0,averageSessionDuration:0},matchSuccess:{totalMatchesMade:0,successfulConnections:0,successRate:0},platformPerformance:{dau_data:[],match_rate_data:[]}},totalIdeas:0,totalNegotiations:0,totalDealsAccepted:0,totalInvested:R})]}),v&&T&&x.jsx(VAe,{user:T,onClose:()=>b(!1)}),A&&x.jsx(LAe,{userIds:D,onClose:()=>C(!1),onSelectUser:Z=>{C(!1),m(Z)}}),F&&x.jsx(UAe,{title:F.title,message:F.message,type:F.type,onClose:()=>V(null)}),f&&x.jsx(MN,{user:f,onClose:()=>m(null),isOwnProfile:!1,onMessage:u,onConnect:we,currentUserId:t.id,isConnected:((Q=H.find(Z=>Z.user.id===f.id))==null?void 0:Q.isConnected)||!1,isPending:((ae=H.find(Z=>Z.user.id===f.id))==null?void 0:ae.isPending)||!1})]})},DN=({negotiation:t,currentUser:e,onClose:n,onOfferMade:r,onStatusChange:i,onBackToNegotiationList:s,isMobile:o=!1})=>{var k,R;if(!t)return x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4",children:x.jsxs("div",{className:"bg-neutral-900 text-white p-6 rounded-2xl shadow-2xl max-w-2xl w-full",children:[x.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-purple-500 mx-auto"}),x.jsx("p",{className:"text-center mt-4",children:"Loading Negotiation..."})]})});t.ideaTitle,t.investorName,(k=t.offers[0])!=null&&k.investment,(R=t.offers[0])!=null&&R.equity;const[l,u]=M.useState(t.offers||[]),[d,f]=M.useState(""),[m,v]=M.useState(""),[b,T]=M.useState(t.status==="active"||t.status==="pending"?"ongoing":t.status),S=M.useRef();M.useEffect(()=>{const O=Ne.collection("negotiations").doc(t.id);return S.current=O.onSnapshot(j=>{if(j.exists){const q=j.data();u(q.offers?q.offers.map(H=>{var G;return xe(Y({},H),{timestamp:(G=H.timestamp)!=null&&G.toDate?H.timestamp.toDate():H.timestamp})}):[]),q.status==="accepted"||q.status==="closed"?T("accepted"):q.status==="rejected"||q.status==="declined"?T("declined"):(q.status==="pending"||q.status==="active")&&T("ongoing")}}),()=>{S.current&&S.current()}},[t.id]),M.useEffect(()=>{if(l.length===0&&e.id===t.founderId){const O={investment:5e5,equity:10,by:"founder",timestamp:new Date};r(O),u([O])}},[l.length,e.id,t.founderId,r]);const A=l[l.length-1],C=e.id===t.founderId?"founder":"investor",D=!A||A.by!==C,N=()=>{const O=Number(d),j=Number(m);if(O>0&&j>0&&j<100){const q={investment:O,equity:j,by:C,timestamp:new Date};r(q),u([...l,q]),f(""),v("")}},F=()=>{T("accepted"),i("accepted")},V=()=>{T("declined"),i("declined")},B=({offer:O,isLast:j})=>x.jsxs("div",{className:`p-4 rounded-xl ${j?"bg-purple-900/30 border border-purple-700/30 shadow-lg shadow-purple-500/20":"bg-slate-800/20 border border-slate-700/20"}`,children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:"font-bold text-lg text-white",children:O.by==="founder"?`${t.founderName}'s Offer`:`${t.investorName}'s Offer`}),x.jsx("span",{className:"text-xs text-neutral-400",children:new Date(O.timestamp).toLocaleTimeString()})]}),x.jsxs("div",{className:"mt-2 flex gap-6 text-white",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(kne,{className:"w-5 h-5 text-green-400"}),x.jsxs("span",{children:["$",O.investment.toLocaleString()]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(DB,{className:"w-5 h-5 text-blue-400"}),x.jsxs("span",{children:[O.equity,"% Equity"]})]})]})]});return x.jsxs("div",{className:"w-full h-full bg-gradient-to-br from-slate-950 to-black flex flex-col",children:[x.jsx("div",{className:"flex-shrink-0 p-4 sm:p-6 border-b border-slate-800/30",children:x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[o&&s&&x.jsx("button",{onClick:s,className:"p-2 rounded-lg hover:bg-slate-800/50 transition-colors",children:x.jsx(LB,{className:"w-5 h-5 text-slate-400"})}),x.jsxs("div",{children:[x.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-white",children:["Negotiation for ",t.ideaTitle]}),x.jsxs("p",{className:"text-sm text-slate-400",children:["Between Founder & ",t.investorName," (Investor)"]})]})]}),!o&&x.jsx("button",{onClick:n,className:"text-slate-400 hover:text-white text-2xl",children:"×"})]})}),x.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto p-4 sm:p-6",children:x.jsxs("div",{className:"space-y-4",children:[l.length>0?x.jsx("div",{className:"space-y-2",children:l.map((O,j)=>x.jsx(B,{offer:O,isLast:j===l.length-1},j))}):x.jsxs("div",{className:"text-center p-8 bg-slate-800/20 border border-slate-700/20 rounded-xl",children:[x.jsx("p",{className:"font-semibold text-white",children:"Waiting for the first offer..."}),x.jsx("p",{className:"text-sm text-slate-400 mt-1",children:C==="founder"?"You can make the opening offer below.":`Waiting for ${t.founderName} to make an offer.`})]}),b==="ongoing"&&x.jsx("div",{className:"mt-6 pt-4 border-t border-slate-700/30",children:D?x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-semibold text-center mb-4 text-white",children:"Your Turn to Counter"}),x.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"counterInvestment",className:"block text-sm font-medium text-slate-300 mb-1",children:"Investment ($)"}),x.jsx("input",{id:"counterInvestment",type:"number",value:d,onChange:O=>f(O.target.value),placeholder:"e.g., 550000",className:"w-full bg-slate-800/50 border border-slate-700/30 rounded-xl py-2 px-3 text-white focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 transition-all backdrop-blur-sm"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"counterEquity",className:"block text-sm font-medium text-slate-300 mb-1",children:"Equity (%)"}),x.jsx("input",{id:"counterEquity",type:"number",value:m,onChange:O=>v(O.target.value),placeholder:"e.g., 12",className:"w-full bg-slate-800/50 border border-slate-700/30 rounded-xl py-2 px-3 text-white focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 transition-all backdrop-blur-sm"})]})]}),x.jsx("button",{onClick:N,className:"w-full bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-500 hover:to-purple-600 text-white font-bold py-2.5 px-4 rounded-xl transition-all duration-200 shadow-lg hover:shadow-purple-500/25",children:"Make Offer"}),l.length>0&&x.jsxs("div",{className:"mt-4 flex justify-center gap-4",children:[x.jsx("button",{onClick:F,className:"text-sm text-green-400 hover:text-green-300",children:"Accept Current Offer"}),x.jsx("button",{onClick:V,className:"text-sm text-red-400 hover:text-red-300",children:"Decline & End"})]})]}):x.jsxs("div",{className:"text-center p-4 bg-slate-800/20 border border-slate-700/20 rounded-xl",children:[x.jsxs("p",{className:"font-semibold text-white",children:["Waiting for ",(A==null?void 0:A.by)==="founder"?t.investorName:"the Founder"," to respond..."]}),x.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"You will be notified of their response."})]})}),b!=="ongoing"&&x.jsx("div",{className:`mt-6 p-6 rounded-xl text-center border ${b==="accepted"?"bg-green-900/30 border-green-700/30":"bg-red-900/30 border-red-700/30"}`,children:b==="accepted"?x.jsxs(x.Fragment,{children:[x.jsx(tI,{className:"w-12 h-12 mx-auto text-green-400 mb-3"}),x.jsx("h3",{className:"text-xl font-bold text-green-300 mb-2",children:"Deal Accepted!"}),x.jsxs("p",{className:"text-slate-300",children:["$",A==null?void 0:A.investment.toLocaleString()," for ",A==null?void 0:A.equity,"% equity."]})]}):x.jsxs(x.Fragment,{children:[x.jsx(VB,{className:"w-12 h-12 mx-auto text-red-400 mb-3"}),x.jsxs("h3",{className:"text-xl font-bold text-red-300 mb-2",children:["Negotiation ",t.status]}),x.jsx("p",{className:"text-slate-300",children:"This negotiation has been terminated."})]})})]})})]})},qAe=({user:t,setIsMobileNegotiationOpen:e,selectedNegotiationId:n,onNegotiationSelected:r})=>{const[i,s]=M.useState([]),[o,l]=M.useState(!0),[u,d]=M.useState(null),[f,m]=M.useState(null),[v,b]=M.useState(""),[T,S]=M.useState("active"),[A,C]=M.useState(!1);if(M.useEffect(()=>{if(t.role!==yt.Founder&&t.role!==yt.Investor&&t.role!=="founder"&&t.role!=="investor"){l(!1);return}const O=t.role===yt.Founder||t.role==="founder"?We.getNegotiationsForFounder(t.id,j=>{s(j),l(!1)}):We.getNegotiationsForInvestor(t.id,j=>{s(j),l(!1)});return()=>O()},[t.id,t.role]),M.useEffect(()=>{if(n&&i.length>0){const O=i.find(j=>j.id===n);O&&(m(O),C(!0),e&&e(!0),r&&r())}},[n,i,e,r]),o)return x.jsx("div",{className:"flex justify-center items-center h-64",children:x.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-purple-500"})});if(u)return x.jsx("p",{className:"text-center text-red-400",children:u});const D=i.filter(O=>{var he,we,Q;const j=v.toLowerCase(),q=((he=O.ideaTitle)==null?void 0:he.toLowerCase())||"",H=((we=O.investorName)==null?void 0:we.toLowerCase())||"",G=((Q=O.founderName)==null?void 0:Q.toLowerCase())||"";return q.includes(j)||H.includes(j)||G.includes(j)}),N=D.filter(O=>O.status==="active"),F=D.filter(O=>O.status==="accepted"),V=D.filter(O=>O.status==="declined"),B=t.role===yt.Founder||t.role==="founder",k=O=>{m(O),C(!0),e&&e(!0)},R=()=>{m(null),C(!1),e&&e(!1)};return x.jsxs("div",{className:Et("w-full h-full max-h-full bg-gradient-to-br from-slate-950 to-black overflow-hidden flex",A?"pt-0 pb-0":"pt-16 pb-16 lg:pt-0 lg:pb-0"),children:[x.jsxs("div",{className:Et("flex-shrink-0 bg-gradient-to-b from-slate-900/90 to-black/90 backdrop-blur-sm flex flex-col h-full transition-all duration-300 ease-in-out",A?"hidden lg:flex lg:w-80 xl:w-96":"w-full lg:w-80 xl:w-96 lg:border-r lg:border-slate-800/30"),children:[x.jsxs("div",{className:"flex-shrink-0 p-3 sm:p-4 lg:p-6 border-b border-slate-800/30",children:[x.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white mb-4",children:"Negotiations"}),x.jsxs("div",{className:"relative",children:[x.jsx(tx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400 z-10"}),x.jsx("input",{type:"text",placeholder:"Search deals...",value:v,onChange:O=>b(O.target.value),className:"w-full bg-slate-800/50 border border-slate-700/30 rounded-xl py-3 pl-10 pr-4 text-white placeholder-slate-400 focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 transition-all backdrop-blur-sm"})]})]}),x.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto",children:[x.jsx("div",{className:"px-3 sm:px-4 lg:px-6 pt-4",children:x.jsxs("div",{className:"flex space-x-2 bg-gradient-to-r from-slate-900/90 to-black/90 backdrop-blur-xl border border-slate-700/50 rounded-2xl p-1.5 shadow-2xl shadow-black/50",children:[x.jsxs("button",{onClick:()=>S("active"),className:Et("flex-1 py-3 px-4 rounded-xl text-sm font-medium transition-all duration-300 relative overflow-hidden min-w-0",T==="active"?"bg-gradient-to-r from-slate-600 to-slate-500 text-white shadow-lg shadow-slate-500/25 border border-slate-500/30":"text-slate-400 hover:text-white hover:bg-slate-800/50 hover:border-slate-600/30 border border-transparent"),children:[x.jsxs("div",{className:"flex items-center justify-center gap-2",children:[x.jsx("span",{className:"relative z-10 truncate",children:"Active"}),x.jsx("span",{className:Et("px-2 py-0.5 rounded-full text-xs font-semibold flex-shrink-0",T==="active"?"bg-white/20 text-white":"bg-slate-700/50 text-slate-300"),children:N.length})]}),T==="active"&&x.jsx(ot.div,{className:"absolute inset-0 bg-gradient-to-r from-slate-600/20 to-slate-500/20",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}})]}),x.jsxs("button",{onClick:()=>S("accepted"),className:Et("flex-1 py-3 px-4 rounded-xl text-sm font-medium transition-all duration-300 relative overflow-hidden min-w-0",T==="accepted"?"bg-gradient-to-r from-slate-600 to-slate-500 text-white shadow-lg shadow-slate-500/25 border border-slate-500/30":"text-slate-400 hover:text-white hover:bg-slate-800/50 hover:border-slate-600/30 border border-transparent"),children:[x.jsxs("div",{className:"flex items-center justify-center gap-2",children:[x.jsx("span",{className:"relative z-10 truncate",children:"Accepted"}),x.jsx("span",{className:Et("px-2 py-0.5 rounded-full text-xs font-semibold flex-shrink-0",T==="accepted"?"bg-white/20 text-white":"bg-slate-700/50 text-slate-300"),children:F.length})]}),T==="accepted"&&x.jsx(ot.div,{className:"absolute inset-0 bg-gradient-to-r from-slate-600/20 to-slate-500/20",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}})]}),x.jsxs("button",{onClick:()=>S("declined"),className:Et("flex-1 py-3 px-4 rounded-xl text-sm font-medium transition-all duration-300 relative overflow-hidden min-w-0",T==="declined"?"bg-gradient-to-r from-slate-600 to-slate-500 text-white shadow-lg shadow-slate-500/25 border border-slate-500/30":"text-slate-400 hover:text-white hover:bg-slate-800/50 hover:border-slate-600/30 border border-transparent"),children:[x.jsxs("div",{className:"flex items-center justify-center gap-2",children:[x.jsx("span",{className:"relative z-10 truncate",children:"Declined"}),x.jsx("span",{className:Et("px-2 py-0.5 rounded-full text-xs font-semibold flex-shrink-0",T==="declined"?"bg-white/20 text-white":"bg-slate-700/50 text-slate-300"),children:V.length})]}),T==="declined"&&x.jsx(ot.div,{className:"absolute inset-0 bg-gradient-to-r from-slate-600/20 to-slate-500/20",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}})]})]})}),x.jsxs("div",{className:"px-3 sm:px-4 lg:px-6 pt-6 flex-1 min-h-0 flex flex-col",children:[T==="active"&&x.jsx("div",{className:"flex-1 min-h-0 flex flex-col",children:N.length>0?x.jsx("div",{className:"space-y-2 flex-1 min-h-0 overflow-y-auto",children:N.map(O=>x.jsxs(ot.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>k(O),className:Et("p-2.5 sm:p-3 lg:p-4 flex items-center cursor-pointer rounded-xl transition-all duration-200","hover:bg-slate-800/50 hover:shadow-lg hover:shadow-slate-500/10",(f==null?void 0:f.id)===O.id?"bg-purple-900/30 border border-purple-700/30 shadow-lg shadow-purple-500/20":"bg-slate-800/20 border border-slate-700/20"),children:[x.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-full mr-3 sm:mr-4 bg-gradient-to-br from-slate-700/50 to-slate-800/50 border-2 border-slate-700/50 shadow-lg flex items-center justify-center",children:x.jsx(Ar,{className:"w-6 h-6 sm:w-7 sm:h-7 text-slate-400"})}),x.jsxs("div",{className:"flex-grow overflow-hidden min-w-0",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h3",{className:"font-bold text-white truncate text-base sm:text-lg",children:O.ideaTitle}),x.jsx("span",{className:"ml-2 px-2 py-1 text-xs font-semibold rounded-full flex-shrink-0 bg-yellow-900/50 text-yellow-300",children:"Active"})]}),x.jsx("p",{className:"text-sm text-slate-400 truncate pr-2",children:B?`with ${O.investorName}`:`with ${O.founderName}`})]})]},O.id))}):x.jsx("div",{className:"flex-1 flex items-center justify-center px-6",children:x.jsxs("div",{className:"text-center max-w-sm mx-auto",children:[x.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-full flex items-center justify-center border border-slate-700/30 shadow-lg",children:x.jsx(Ar,{className:"w-10 h-10 text-slate-500"})}),x.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-3 text-white",children:"No Active Deals"}),x.jsx("p",{className:"text-sm sm:text-base text-slate-400 leading-relaxed",children:B?"You don't have any active negotiations with investors.":"You don't have any active deals with founders."})]})})}),T==="accepted"&&x.jsx("div",{className:"flex-1 min-h-0 flex flex-col",children:F.length>0?x.jsx("div",{className:"space-y-2 flex-1 min-h-0 overflow-y-auto",children:F.map(O=>x.jsxs(ot.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>k(O),className:Et("p-2.5 sm:p-3 lg:p-4 flex items-center cursor-pointer rounded-xl transition-all duration-200","hover:bg-slate-800/50 hover:shadow-lg hover:shadow-slate-500/10",(f==null?void 0:f.id)===O.id?"bg-purple-900/30 border border-purple-700/30 shadow-lg shadow-purple-500/20":"bg-slate-800/20 border border-slate-700/20"),children:[x.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-full mr-3 sm:mr-4 bg-gradient-to-br from-slate-700/50 to-slate-800/50 border-2 border-slate-700/50 shadow-lg flex items-center justify-center",children:x.jsx(Ar,{className:"w-6 h-6 sm:w-7 sm:h-7 text-slate-400"})}),x.jsxs("div",{className:"flex-grow overflow-hidden min-w-0",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h3",{className:"font-bold text-white truncate text-base sm:text-lg",children:O.ideaTitle}),x.jsx("span",{className:"ml-2 px-2 py-1 text-xs font-semibold rounded-full flex-shrink-0 bg-green-900/50 text-green-300",children:"Accepted"})]}),x.jsx("p",{className:"text-sm text-slate-400 truncate pr-2",children:B?`with ${O.investorName}`:`with ${O.founderName}`})]})]},O.id))}):x.jsx("div",{className:"flex-1 flex items-center justify-center px-6",children:x.jsxs("div",{className:"text-center max-w-sm mx-auto",children:[x.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-full flex items-center justify-center border border-slate-700/30 shadow-lg",children:x.jsx(Ar,{className:"w-10 h-10 text-slate-500"})}),x.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-3 text-white",children:"No Accepted Deals"}),x.jsx("p",{className:"text-sm sm:text-base text-slate-400 leading-relaxed",children:B?"You don't have any accepted negotiations with investors.":"You don't have any accepted deals with founders."})]})})}),T==="declined"&&x.jsx("div",{className:"flex-1 min-h-0 flex flex-col",children:V.length>0?x.jsx("div",{className:"space-y-2 flex-1 min-h-0 overflow-y-auto",children:V.map(O=>x.jsxs(ot.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>k(O),className:Et("p-2.5 sm:p-3 lg:p-4 flex items-center cursor-pointer rounded-xl transition-all duration-200","hover:bg-slate-800/50 hover:shadow-lg hover:shadow-slate-500/10",(f==null?void 0:f.id)===O.id?"bg-purple-900/30 border border-purple-700/30 shadow-lg shadow-purple-500/20":"bg-slate-800/20 border border-slate-700/20"),children:[x.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-full mr-3 sm:mr-4 bg-gradient-to-br from-slate-700/50 to-slate-800/50 border-2 border-slate-700/50 shadow-lg flex items-center justify-center",children:x.jsx(Ar,{className:"w-6 h-6 sm:w-7 sm:h-7 text-slate-400"})}),x.jsxs("div",{className:"flex-grow overflow-hidden min-w-0",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h3",{className:"font-bold text-white truncate text-base sm:text-lg",children:O.ideaTitle}),x.jsx("span",{className:"ml-2 px-2 py-1 text-xs font-semibold rounded-full flex-shrink-0 bg-red-900/50 text-red-300",children:"Declined"})]}),x.jsx("p",{className:"text-sm text-slate-400 truncate pr-2",children:B?`with ${O.investorName}`:`with ${O.founderName}`})]})]},O.id))}):x.jsx("div",{className:"flex-1 flex items-center justify-center px-6",children:x.jsxs("div",{className:"text-center max-w-sm mx-auto",children:[x.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-full flex items-center justify-center border border-slate-700/30 shadow-lg",children:x.jsx(Ar,{className:"w-10 h-10 text-slate-500"})}),x.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-3 text-white",children:"No Declined Deals"}),x.jsx("p",{className:"text-sm sm:text-base text-slate-400 leading-relaxed",children:B?"You don't have any declined negotiations with investors.":"You don't have any declined deals with founders."})]})})})]})]})]}),x.jsx("div",{className:Et("min-w-0 h-full max-h-full overflow-hidden bg-gradient-to-br from-slate-950 to-black flex justify-center transition-all duration-300 ease-in-out",A?"flex-1 w-full":"flex-1"),children:x.jsx("div",{className:"w-full max-w-4xl h-full max-h-full overflow-hidden",children:f?x.jsx(DN,{negotiation:f,currentUser:t,onClose:R,onOfferMade:O=>P(null,null,function*(){yield We.addOfferToNegotiation(f.id,O),m(j=>j?xe(Y({},j),{offers:[...j.offers,O],status:"active"}):null)}),onStatusChange:O=>P(null,null,function*(){yield We.updateNegotiationStatus(f.id,O),m(j=>j?xe(Y({},j),{status:O}):null)}),onBackToNegotiationList:R,isMobile:A}):x.jsx("div",{className:"flex items-center justify-center h-full px-6",children:x.jsxs("div",{className:"text-center max-w-sm mx-auto",children:[x.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-slate-800/50 rounded-full flex items-center justify-center",children:x.jsx(Ar,{className:"w-10 h-10 text-slate-600"})}),x.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-3",children:"Select a deal to view details"}),x.jsx("p",{className:"text-sm sm:text-base text-slate-400 leading-relaxed",children:"Choose from your active, accepted, or declined deals to see the full negotiation details"})]})})})})]})},zAe=({user:t,currentUser:e,onBackToChatList:n,isMobile:r})=>{const[i,s]=M.useState([]),[o,l]=M.useState(""),[u,d]=M.useState(!1),f=M.useRef(null),m=We.getChatId(e.id,t.id),v=()=>{f.current&&f.current.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},b=M.useCallback(()=>{We.markChatAsRead(m,e.id)},[m,e.id]);M.useEffect(()=>{i.length>0&&v()},[i]),M.useEffect(()=>{const C=Ne.collection("chats").doc(m).collection("messages").orderBy("timestamp","asc").onSnapshot(D=>{const N=D.docs.map(F=>{const V=F.data();return{id:F.id,senderId:V.senderId,text:V.text,timestamp:V.timestamp.toDate()}});s(N),N.length>0&&We.markChatAsRead(m,e.id),N.length>0&&setTimeout(()=>v(),100)});return()=>C()},[m,e.id]),M.useEffect(()=>{const A=()=>{b(),b()},C=document.querySelector(".messages-container");if(C)return C.addEventListener("scroll",A),C.addEventListener("touchstart",b),C.addEventListener("click",b),()=>{C.removeEventListener("scroll",A),C.removeEventListener("touchstart",b),C.removeEventListener("click",b)}},[b]),M.useEffect(()=>{const A=()=>{b()};return window.addEventListener("focus",A),()=>window.removeEventListener("focus",A)},[b]);const T=A=>P(null,null,function*(){if(A.preventDefault(),o.trim()==="")return;d(!0);const C={senderId:e.id,text:o,timestamp:At.firestore.FieldValue.serverTimestamp()};l("");try{const D=Ne.collection("chats").doc(m),N=D.collection("messages").doc(),F=Ne.batch();F.set(N,C);const V=At.firestore.FieldValue.increment(1);F.set(D,{participants:[e.id,t.id],lastMessage:C,unreadCounts:{[t.id]:V,[e.id]:0}},{merge:!0}),yield F.commit()}catch(D){console.error("Failed to send message:",D)}finally{d(!1),v()}}),S=A=>{const C=new Date,D=new Date(A);return C.toDateString()===D.toDateString()?D.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):D.toLocaleDateString([],{month:"short",day:"numeric"})};return x.jsxs("div",{className:"flex flex-col h-full max-h-full bg-gradient-to-br from-slate-950 to-black overflow-hidden",children:[x.jsxs("div",{className:"flex-shrink-0 flex items-center gap-3 p-2 sm:p-3 border-b border-slate-800/30 bg-gradient-to-r from-slate-900/90 to-black/90 backdrop-blur-sm z-10",children:[n&&x.jsx(ot.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:n,className:"p-1.5 rounded-lg bg-slate-800/50 hover:bg-slate-700/50 transition-all duration-200 border border-slate-700/30",children:x.jsx(LB,{className:"w-4 h-4 text-white"})}),x.jsx("img",{src:t.avatarUrl,alt:t.name,className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full border-2 border-slate-700/50 shadow-lg"}),x.jsxs("div",{className:"flex-grow min-w-0",children:[x.jsx("h3",{className:"font-bold text-white text-base sm:text-lg truncate",children:t.name}),x.jsx("p",{className:"text-xs text-slate-400",children:t.role})]}),u&&x.jsxs("div",{className:"flex items-center gap-1 text-slate-400 text-xs",children:[x.jsxs("div",{className:"flex space-x-1",children:[x.jsx(ot.div,{animate:{y:[0,-5,0]},transition:{duration:.6,repeat:1/0,delay:0},className:"w-1.5 h-1.5 bg-slate-400 rounded-full"}),x.jsx(ot.div,{animate:{y:[0,-5,0]},transition:{duration:.6,repeat:1/0,delay:.2},className:"w-1.5 h-1.5 bg-slate-400 rounded-full"}),x.jsx(ot.div,{animate:{y:[0,-5,0]},transition:{duration:.6,repeat:1/0,delay:.4},className:"w-1.5 h-1.5 bg-slate-400 rounded-full"})]}),x.jsx("span",{className:"ml-1",children:"typing..."})]})]}),x.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto bg-gradient-to-br from-slate-950 to-black messages-container",children:x.jsxs("div",{className:"flex flex-col min-h-full p-3 sm:p-4",children:[x.jsx("div",{className:"flex-1"}),x.jsxs("div",{className:"space-y-3",children:[x.jsx(jl,{children:i.map((A,C)=>x.jsxs(ot.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},className:Et("flex gap-2 sm:gap-3",A.senderId===e.id?"justify-end":"justify-start"),children:[A.senderId!==e.id&&x.jsx("img",{src:t.avatarUrl,alt:`${t.name}'s avatar`,className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full border border-slate-700/50 shadow-md"}),x.jsxs("div",{className:"flex flex-col",children:[x.jsx("div",{className:Et("max-w-[200px] sm:max-w-[280px] lg:max-w-[320px] p-2.5 sm:p-3 rounded-2xl shadow-lg","transition-all duration-200 hover:shadow-xl",A.senderId===e.id?"bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-br-md border border-purple-500/30":"bg-gradient-to-r from-slate-800/80 to-slate-700/80 text-slate-200 rounded-bl-md border border-slate-600/30 backdrop-blur-sm"),children:x.jsx("p",{className:"text-sm sm:text-base leading-relaxed break-words font-normal",children:A.text})}),x.jsx("p",{className:Et("text-xs mt-1 opacity-50 font-light px-1",A.senderId===e.id?"text-right text-purple-200":"text-left text-slate-400"),children:S(A.timestamp)})]}),A.senderId===e.id&&x.jsx("img",{src:e.avatarUrl,alt:"Your avatar",className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full border border-slate-700/50 shadow-md"})]},A.id))}),i.length===0&&x.jsx("div",{className:"flex items-center justify-center h-full min-h-[400px]",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-slate-800/50 rounded-full flex items-center justify-center",children:x.jsx(lf,{className:"w-8 h-8 text-slate-600"})}),x.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Start a conversation"}),x.jsxs("p",{className:"text-slate-400",children:["Send your first message to ",t.name]})]})}),x.jsx("div",{ref:f})]})]})}),x.jsx("div",{className:"flex-shrink-0 p-2 sm:p-3 border-t border-slate-800/30 bg-gradient-to-r from-slate-900/90 to-black/90 backdrop-blur-sm",children:x.jsxs("form",{onSubmit:T,className:"flex items-center gap-2 bg-slate-800/50 border border-slate-700/30 rounded-xl p-1.5 transition-all duration-200 focus-within:border-purple-500/50 focus-within:ring-2 focus-within:ring-purple-500/20",children:[x.jsx("input",{type:"text",value:o,onChange:A=>l(A.target.value),placeholder:`Message ${t.name}...`,className:"flex-1 bg-transparent p-1.5 sm:p-2 text-white placeholder-slate-400 focus:outline-none text-sm sm:text-base",disabled:u}),x.jsx(ot.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"submit",title:"Send message","aria-label":"Send message",disabled:!o.trim()||u,className:Et("p-1.5 sm:p-2 rounded-lg transition-all duration-200",o.trim()&&!u?"bg-gradient-to-r from-purple-600 to-purple-700 text-white hover:from-purple-500 hover:to-purple-600 shadow-lg hover:shadow-purple-500/25":"bg-slate-700/50 text-slate-500 cursor-not-allowed"),children:x.jsx(lf,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})})]})},$Ae=({chats:t,currentUser:e,connections:n,setIsMobileChatOpen:r})=>{const[i,s]=M.useState(""),[o,l]=M.useState(null),[u,d]=M.useState(!1),[f,m]=M.useState("chats"),[v,b]=M.useState(t);M.useEffect(()=>{const k=We.getChatsRealtime(e.id,R=>{b(R)});return()=>k()},[e.id]);const S=[...v].sort((k,R)=>{var q,H;const O=(q=k.lastMessage)!=null&&q.timestamp?new Date(k.lastMessage.timestamp.seconds*1e3).getTime():0;return((H=R.lastMessage)!=null&&H.timestamp?new Date(R.lastMessage.timestamp.seconds*1e3).getTime():0)-O}).filter(k=>{const R=k.participantDetails.find(O=>O.id!==e.id);return R&&R.name.toLowerCase().includes(i.toLowerCase())}),A=v.map(k=>k.participantDetails.find(R=>R.id!==e.id)).filter(Boolean),D=n.filter(k=>!A.some(R=>R.id===k.id)).filter(k=>k.name.toLowerCase().includes(i.toLowerCase())),N=k=>{l(k),d(!0),r(!0);const R=v.find(O=>O.participantDetails.some(j=>j.id===k.id));R&&We.markChatAsRead(R.id,e.id)},F=()=>{d(!1),l(null),r(!1)},V=k=>{var R;return((R=k.unreadCounts)==null?void 0:R[e.id])||0},B=()=>v.reduce((k,R)=>k+V(R),0);return x.jsxs("div",{className:Et("w-full h-full max-h-full bg-gradient-to-br from-slate-950 to-black overflow-hidden flex",u?"pt-0 pb-0":"pt-16 pb-16 lg:pt-0 lg:pb-0"),children:[x.jsxs("div",{className:Et("flex-shrink-0 bg-gradient-to-b from-slate-900/90 to-black/90 backdrop-blur-sm flex flex-col h-full","w-full lg:w-80 xl:w-96 lg:border-r lg:border-slate-800/30","transition-all duration-300 ease-in-out",u?"hidden lg:flex":"flex"),children:[x.jsxs("div",{className:"flex-shrink-0 p-3 sm:p-4 lg:p-6 border-b border-slate-800/30",children:[x.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white mb-4",children:"Messages"}),x.jsxs("div",{className:"relative",children:[x.jsx(tx,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400 z-10"}),x.jsx("input",{type:"text",placeholder:"Search by name...",value:i,onChange:k=>s(k.target.value),className:"w-full bg-slate-800/50 border border-slate-700/30 rounded-xl py-3 pl-10 pr-4 text-white placeholder-slate-400 focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 transition-all backdrop-blur-sm"})]})]}),x.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto",children:[x.jsx("div",{className:"px-3 sm:px-4 lg:px-6 pt-4",children:x.jsxs("div",{className:"flex space-x-2 bg-gradient-to-r from-slate-900/90 to-black/90 backdrop-blur-xl border border-slate-700/50 rounded-2xl p-1.5 shadow-2xl shadow-black/50",children:[x.jsxs("button",{onClick:()=>m("chats"),className:Et("flex-1 py-3 px-4 rounded-xl text-sm font-medium transition-all duration-300 relative overflow-hidden min-w-0",f==="chats"?"bg-gradient-to-r from-slate-600 to-slate-500 text-white shadow-lg shadow-slate-500/25 border border-slate-500/30":"text-slate-400 hover:text-white hover:bg-slate-800/50 hover:border-slate-600/30 border border-transparent"),children:[x.jsxs("div",{className:"flex items-center justify-center gap-2",children:[x.jsx("span",{className:"relative z-10 truncate",children:"Chats"}),x.jsx("span",{className:Et("px-2 py-0.5 rounded-full text-xs font-semibold flex-shrink-0",f==="chats"?"bg-white/20 text-white":"bg-slate-700/50 text-slate-300"),children:S.length}),B()>0&&x.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center animate-pulse",children:B()>99?"99+":B()})]}),f==="chats"&&x.jsx(ot.div,{className:"absolute inset-0 bg-gradient-to-r from-slate-600/20 to-slate-500/20",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}})]}),x.jsxs("button",{onClick:()=>m("contacts"),className:Et("flex-1 py-3 px-4 rounded-xl text-sm font-medium transition-all duration-300 relative overflow-hidden min-w-0",f==="contacts"?"bg-gradient-to-r from-slate-600 to-slate-500 text-white shadow-lg shadow-slate-500/25 border border-slate-500/30":"text-slate-400 hover:text-white hover:bg-slate-800/50 hover:border-slate-600/30 border border-transparent"),children:[x.jsxs("div",{className:"flex items-center justify-center gap-2",children:[x.jsx("span",{className:"relative z-10 truncate",children:"Contacts"}),x.jsx("span",{className:Et("px-2 py-0.5 rounded-full text-xs font-semibold flex-shrink-0",f==="contacts"?"bg-white/20 text-white":"bg-slate-700/50 text-slate-300"),children:D.length})]}),f==="contacts"&&x.jsx(ot.div,{className:"absolute inset-0 bg-gradient-to-r from-slate-600/20 to-slate-500/20",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}})]})]})}),x.jsx("div",{className:"px-3 sm:px-4 lg:px-6 pt-6 flex-1 min-h-0 flex flex-col",children:f==="chats"?x.jsx("div",{className:"flex-1 min-h-0 flex flex-col",children:S.length>0?x.jsx("div",{className:"space-y-2 flex-1 min-h-0 overflow-y-auto",children:S.map(k=>{const R=k.participantDetails.find(O=>O.id!==e.id);return R?x.jsxs(ot.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>N(R),className:Et("p-2.5 sm:p-3 lg:p-4 flex items-center cursor-pointer rounded-xl transition-all duration-200","hover:bg-slate-800/50 hover:shadow-lg hover:shadow-slate-500/10",(o==null?void 0:o.id)===R.id?"bg-purple-900/30 border border-purple-700/30 shadow-lg shadow-purple-500/20":"bg-slate-800/20 border border-slate-700/20"),children:[x.jsx("img",{src:R.avatarUrl,alt:R.name,className:"w-12 h-12 sm:w-14 sm:h-14 rounded-full mr-3 sm:mr-4 border-2 border-slate-700/50 shadow-lg"}),x.jsxs("div",{className:"flex-grow overflow-hidden min-w-0",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h3",{className:"font-bold text-white truncate text-base sm:text-lg",children:R.name}),V(k)>0&&x.jsx("span",{className:"ml-2 px-2 py-1 bg-red-500 text-white text-xs font-bold rounded-full flex-shrink-0 animate-pulse",children:V(k)>99?"99+":V(k)})]}),k.lastMessage?x.jsxs("p",{className:"text-sm text-slate-400 truncate pr-2",children:[x.jsx("span",{className:"font-semibold text-purple-400",children:k.lastMessage.senderId===e.id?"You: ":""}),k.lastMessage.text]}):x.jsx("p",{className:"text-sm text-slate-500 italic",children:"No messages yet"})]})]},k.id):null})}):x.jsx("div",{className:"flex-1 flex items-center justify-center px-6",children:x.jsxs("div",{className:"text-center max-w-sm mx-auto",children:[x.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-full flex items-center justify-center border border-slate-700/30 shadow-lg",children:x.jsx(lf,{className:"w-10 h-10 text-slate-500"})}),x.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-3 text-white",children:"No Active Chats"}),x.jsx("p",{className:"text-sm sm:text-base text-slate-400 leading-relaxed",children:"Start a conversation with your connections to see them here."})]})})}):x.jsx("div",{className:"flex-1 min-h-0 flex flex-col",children:D.length>0?x.jsx("div",{className:"space-y-2 flex-1 min-h-0 overflow-y-auto",children:D.map(k=>x.jsxs(ot.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>N(k),className:Et("p-2.5 sm:p-3 lg:p-4 flex items-center cursor-pointer rounded-xl transition-all duration-200","hover:bg-slate-800/50 hover:shadow-lg hover:shadow-slate-500/10",(o==null?void 0:o.id)===k.id?"bg-emerald-900/30 border border-emerald-700/30 shadow-lg shadow-emerald-500/20":"bg-slate-800/20 border border-slate-700/20"),children:[x.jsx("img",{src:k.avatarUrl,alt:k.name,className:"w-12 h-12 sm:w-14 sm:h-14 rounded-full mr-3 sm:mr-4 border-2 border-slate-700/50 shadow-lg"}),x.jsxs("div",{className:"flex-grow overflow-hidden min-w-0",children:[x.jsx("h3",{className:"font-bold text-white text-base sm:text-lg",children:k.name}),x.jsx("p",{className:"text-sm text-slate-400",children:k.role})]}),x.jsx(lf,{className:"w-5 h-5 sm:w-6 sm:h-6 text-slate-500 hover:text-emerald-400 transition-colors"})]},k.id))}):x.jsx("div",{className:"flex-1 flex items-center justify-center px-6",children:x.jsxs("div",{className:"text-center max-w-sm mx-auto",children:[x.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-slate-800/50 to-slate-900/50 rounded-full flex items-center justify-center border border-slate-700/30 shadow-lg",children:x.jsx(lf,{className:"w-10 h-10 text-slate-500"})}),x.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-3 text-white",children:"No Connections Available"}),x.jsx("p",{className:"text-sm sm:text-base text-slate-400 leading-relaxed",children:"Connect with other users to start new conversations."})]})})})})]})]}),x.jsx("div",{className:Et("flex-1 min-w-0 h-full max-h-full overflow-hidden bg-gradient-to-br from-slate-950 to-black flex justify-center","transition-all duration-300 ease-in-out",u?"flex":"hidden lg:flex"),children:x.jsx("div",{className:"w-full max-w-4xl h-full max-h-full overflow-hidden",children:o?x.jsx(zAe,{user:o,currentUser:e,onBackToChatList:F,isMobile:u}):x.jsx("div",{className:"flex items-center justify-center h-full px-6",children:x.jsxs("div",{className:"text-center max-w-sm mx-auto",children:[x.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-slate-800/50 rounded-full flex items-center justify-center",children:x.jsx(lf,{className:"w-10 h-10 text-slate-600"})}),x.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-3",children:"Select a chat to start messaging"}),x.jsx("p",{className:"text-sm sm:text-base text-slate-400 leading-relaxed",children:"Choose from your active conversations or start a new one"})]})})})})]})},GAe=({user:t,onRequestsUpdated:e})=>{const[n,r]=M.useState([]),[i,s]=M.useState(null);if(M.useEffect(()=>{if(t){const u=We.getJoinRequestsForFounder(t.id,d=>{r(d),e()});return()=>u()}},[t,e]),n.length===0)return x.jsxs("div",{className:"text-center py-16 px-6 bg-neutral-900 border-2 border-dashed border-neutral-700 rounded-2xl mt-8",children:[x.jsx(uo,{className:"w-12 h-12 mx-auto text-neutral-600"}),x.jsx("h3",{className:"text-xl font-semibold mt-4 text-white",children:"No Pending Requests"}),x.jsx("p",{className:"text-neutral-400 mt-2 max-w-md mx-auto",children:"You don't have any pending join requests for your ideas right now."})]});const o=(u,d)=>P(null,null,function*(){try{yield We.updateJoinRequest(u,d)}catch(f){console.error("Failed to update join request:",f)}}),l=u=>P(null,null,function*(){try{const d=yield We.getUserProfile(u);d?s(d):alert("Could not load developer's profile.")}catch(d){console.error("Error fetching profile:",d),alert("An error occurred while fetching the profile.")}});return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"bg-neutral-900 border border-neutral-800 rounded-2xl p-6 space-y-4 mt-8",children:[x.jsx("h2",{className:"text-2xl font-bold text-white",children:"Incoming Join Requests"}),x.jsx("ul",{className:"divide-y divide-neutral-800",children:n.map(u=>x.jsxs("li",{className:"py-4 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[x.jsxs("div",{className:"flex items-center gap-4 cursor-pointer group",onClick:()=>l(u.developerId),children:[x.jsx("img",{src:u.developerAvatar,alt:u.developerName,className:"w-12 h-12 rounded-full"}),x.jsxs("div",{children:[x.jsxs("p",{className:"text-white",children:[x.jsx("span",{className:"font-semibold group-hover:underline",children:u.developerName})," wants to join your idea: ",x.jsx("span",{className:"font-semibold text-purple-400",children:u.ideaTitle})]}),x.jsx("p",{className:"text-sm text-neutral-500",children:new Date(u.timestamp.toString()).toLocaleString()})]})]}),x.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0 self-end sm:self-center",children:[x.jsx("button",{"aria-label":`Approve ${u.developerName}`,onClick:()=>o(u.id,"approved"),className:"p-2 bg-green-600 hover:bg-green-700 rounded-full text-white transition-colors",children:x.jsx(rI,{className:"w-5 h-5"})}),x.jsx("button",{"aria-label":`Reject ${u.developerName}`,onClick:()=>o(u.id,"rejected"),className:"p-2 bg-red-600 hover:bg-red-700 rounded-full text-white transition-colors",children:x.jsx(xa,{className:"w-5 h-5"})})]})]},u.id))})]}),i&&x.jsx(MN,{user:i,onClose:()=>s(null),currentUserId:t.id})]})},HAe=({idea:t,onClose:e,onTeamUpdated:n})=>{const[r,i]=M.useState([]),[s,o]=M.useState(!0);M.useEffect(()=>{P(null,null,function*(){o(!0);const d=yield Promise.all(t.team.map(f=>We.getUserProfile(f)));i(d.filter(f=>f!==null)),o(!1)})},[t]);const l=u=>P(null,null,function*(){if(window.confirm("Are you sure you want to remove this team member?"))try{yield We.removeTeamMember(t.id,u),n()}catch(d){console.error("Failed to remove team member:",d),alert("An error occurred. Please try again.")}});return x.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex justify-center items-center p-4 animate-fade-in",children:x.jsxs("div",{className:"bg-neutral-900 border border-neutral-800 rounded-2xl shadow-lg w-full max-w-md relative",children:[x.jsxs("div",{className:"p-6 border-b border-neutral-800",children:[x.jsxs("h2",{className:"text-xl font-bold text-white",children:['Manage Team for "',t.title,'"']}),x.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-neutral-500 hover:text-white",children:x.jsx(xa,{className:"w-6 h-6"})})]}),x.jsx("div",{className:"p-6",children:s?x.jsx("p",{className:"text-neutral-400",children:"Loading team members..."}):x.jsx("ul",{className:"space-y-3",children:r.map(u=>x.jsxs("li",{className:"flex items-center justify-between bg-neutral-800/50 p-3 rounded-lg",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("img",{src:u.avatarUrl,alt:u.name,className:"w-10 h-10 rounded-full"}),x.jsxs("div",{children:[x.jsx("p",{className:"font-semibold text-white",children:u.name}),x.jsx("p",{className:"text-sm text-neutral-400",children:u.role})]})]}),u.id!==t.founderId&&x.jsx("button",{onClick:()=>l(u.id),className:"p-2 text-red-500 hover:bg-red-500/10 rounded-full","aria-label":`Remove ${u.name}`,children:x.jsx(OB,{className:"w-5 h-5"})})]},u.id))})})]})})},KAe=({idea:t,open:e,onClose:n})=>{var r,i;return!e||!t?null:x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60",children:x.jsxs("div",{className:"bg-neutral-900 rounded-2xl border border-neutral-800 w-full max-w-lg mx-2 p-6 relative animate-fadeInUp",children:[x.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-neutral-400 hover:text-white",title:"Close","aria-label":"Close",children:x.jsx(xa,{className:"w-6 h-6"})}),x.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[x.jsx("img",{src:t.founderAvatar,alt:t.founderName,className:"w-14 h-14 rounded-full border-2 border-neutral-700"}),x.jsxs("div",{children:[x.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:t.title}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("span",{className:"text-sm text-neutral-400",children:["by ",t.founderName]}),x.jsx("span",{className:"ml-1 px-2 py-0.5 rounded-full text-xs font-semibold bg-purple-900/60 text-purple-300",children:"Founder"})]})]})]}),x.jsx("p",{className:"text-neutral-300 mb-4 whitespace-pre-line",children:t.description}),t.investmentDetails&&x.jsxs("div",{className:"mb-4 p-3 bg-purple-900/30 border border-purple-800 rounded-lg text-sm",children:[x.jsx("h4",{className:"font-bold text-purple-300 mb-2",children:"Investment Opportunity"}),x.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-neutral-400",children:"Asking:"}),x.jsxs("p",{className:"font-semibold text-white",children:["$",t.investmentDetails.targetInvestment.toLocaleString()]})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-neutral-400",children:"Equity:"}),x.jsxs("p",{className:"font-semibold text-white",children:[t.investmentDetails.equityOffered,"%"]})]})]})]}),x.jsxs("div",{className:"mb-4",children:[x.jsxs("h4",{className:"font-semibold text-white mb-2 flex items-center gap-2",children:[x.jsx(nI,{className:"w-5 h-5 text-purple-400"})," Required Skills:"]}),x.jsx("div",{className:"flex flex-wrap gap-2",children:t.requiredSkills.map(s=>x.jsx("span",{className:"bg-blue-900/50 text-blue-300 text-xs font-medium px-2.5 py-1 rounded-full",children:s},s))})]}),x.jsxs("div",{className:"flex items-center gap-6 mt-4",children:[x.jsxs("div",{className:"flex items-center gap-1.5 text-neutral-400",children:[x.jsx(cf,{className:"w-5 h-5"}),x.jsx("span",{children:((r=t.likes)==null?void 0:r.length)||0})]}),x.jsxs("div",{className:"flex items-center gap-1.5 text-neutral-400",children:[x.jsx(df,{className:"w-5 h-5"}),x.jsx("span",{children:((i=t.comments)==null?void 0:i.length)||0})]}),x.jsxs("div",{className:"flex items-center gap-1.5 text-green-400",children:[x.jsx(uo,{className:"w-5 h-5"}),x.jsxs("span",{children:[t.team.length," team"]})]})]})]})})},WAe=()=>{const[t,e]=M.useState(!1);return M.useEffect(()=>{const n=()=>{e(window.innerWidth>=1024)};return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),{enterDuration:t?.5:.2,exitDuration:t?.5:.15}},YAe=({user:t,onIdeaPosted:e,editingIdea:n,onCancelEdit:r})=>{const[i,s]=M.useState(""),[o,l]=M.useState(""),[u,d]=M.useState([]),[f,m]=M.useState(""),[v,b]=M.useState(""),[T,S]=M.useState(""),[A,C]=M.useState(!1),[D,N]=M.useState(null);M.useEffect(()=>{var k,R;n&&(s(n.title),l(n.description),d(n.requiredSkills),b(((k=n.investmentDetails)==null?void 0:k.targetInvestment.toString())||""),S(((R=n.investmentDetails)==null?void 0:R.equityOffered.toString())||""))},[n]);const F=k=>{k.key==="Enter"&&f.trim()&&(k.preventDefault(),u.includes(f.trim())||d([...u,f.trim()]),m(""))},V=k=>{d(u.filter(R=>R!==k))},B=k=>P(null,null,function*(){if(k.preventDefault(),!i||!o||u.length===0){N("Please fill out all fields and add at least one required skill.");return}if(N(null),C(!0),n){const R={title:i,description:o,requiredSkills:u,investmentDetails:{targetInvestment:parseInt(v,10)||0,equityOffered:parseInt(T,10)||0}};try{yield We.updateIdea(n.id,R),e()}catch(O){N("Failed to update idea. Please try again."),console.error(O)}finally{C(!1)}}else{const R={founderId:t.id,founderName:t.name,founderAvatar:t.avatarUrl,title:i,description:o,requiredSkills:u,status:"recruiting",team:[t.id],likes:[],comments:[],investmentDetails:{targetInvestment:parseInt(v,10)||0,equityOffered:parseInt(T,10)||0}};try{yield We.postIdea(R),s(""),l(""),d([]),m(""),b(""),S(""),e()}catch(O){N("Failed to post idea. Please try again."),console.error(O)}finally{C(!1)}}});return x.jsxs("form",{onSubmit:B,className:"bg-gradient-to-br from-slate-900/90 to-black/90 backdrop-blur-sm p-6 rounded-2xl border border-slate-800/50 shadow-2xl shadow-slate-500/10 space-y-4",children:[x.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[x.jsx(Ar,{className:"w-6 h-6 text-amber-400"}),n?"Edit Your Startup Idea":"Post a New Startup Idea"]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-slate-300 mb-1",children:"Idea Title"}),x.jsx("input",{id:"title",type:"text",value:i,onChange:k=>s(k.target.value),placeholder:"e.g., AI-Powered Personal Chef",className:"w-full bg-slate-800/50 border border-slate-700/30 rounded-lg py-2 px-3 text-white focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 transition-all backdrop-blur-sm"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-300 mb-1",children:"Detailed Description"}),x.jsx("textarea",{id:"description",value:o,onChange:k=>l(k.target.value),placeholder:"Describe your vision, the problem it solves, and your target audience.",rows:4,className:"w-full bg-slate-800/50 border border-slate-700/30 rounded-lg py-2 px-3 text-white focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 transition-all backdrop-blur-sm"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"skills",className:"block text-sm font-medium text-slate-300 mb-1",children:"Required Skills"}),x.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:u.map(k=>x.jsxs("div",{className:"flex items-center gap-1 bg-purple-900/30 text-purple-300 px-2 py-1 rounded-full text-sm border border-purple-700/30",children:[k,x.jsx("button",{type:"button",onClick:()=>V(k),className:"text-purple-300 hover:text-white",children:"×"})]},k))}),x.jsx("input",{id:"skills",type:"text",value:f,onChange:k=>m(k.target.value),onKeyDown:F,placeholder:"e.g., React, Python, Marketing... (Press Enter to add)",className:"w-full bg-slate-800/50 border border-slate-700/30 rounded-lg py-2 px-3 text-white focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 transition-all backdrop-blur-sm"})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"targetInvestment",className:"block text-sm font-medium text-slate-300 mb-1",children:"Target Investment ($)"}),x.jsx("input",{id:"targetInvestment",type:"number",value:v,onChange:k=>b(k.target.value),placeholder:"e.g., 50000",className:"w-full bg-slate-800/50 border border-slate-700/30 rounded-lg py-2 px-3 text-white focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 transition-all backdrop-blur-sm"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"equityOffered",className:"block text-sm font-medium text-slate-300 mb-1",children:"Equity Offered (%)"}),x.jsx("input",{id:"equityOffered",type:"number",value:T,onChange:k=>S(k.target.value),placeholder:"e.g., 10",className:"w-full bg-slate-800/50 border border-slate-700/30 rounded-lg py-2 px-3 text-white focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 transition-all backdrop-blur-sm"})]})]}),D&&x.jsx("p",{className:"text-red-400 text-sm",children:D}),x.jsxs("div",{className:"flex gap-4",children:[n&&x.jsx("button",{type:"button",onClick:r,className:"w-full flex items-center justify-center gap-2 bg-slate-700/50 hover:bg-slate-600/50 text-white font-bold py-2 px-4 rounded-lg transition-all duration-200 border border-slate-600/30",children:"Cancel"}),x.jsxs("button",{type:"submit",disabled:A,className:"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-500 hover:to-purple-600 text-white font-bold py-2 px-4 rounded-lg transition-all duration-200 hover:shadow-lg hover:shadow-purple-500/25 disabled:from-slate-600 disabled:to-slate-700 disabled:opacity-50",children:[x.jsx(kB,{className:"w-5 h-5"}),A?n?"Saving...":"Posting...":n?"Save Changes":"Post Idea"]})]})]})},JAe=({idea:t,user:e,onJoinRequest:n,hasPendingRequest:r,onManageTeam:i,joinRequests:s,onLike:o,onComment:l,onDeleteComment:u,onEdit:d,onStartNegotiation:f,negotiationStatuses:m,investorCounts:v,onNavigateToNegotiation:b})=>{var Z,Ee,K,ue,ce,fe,Ce,Ve,$e;const T=t.founderId===e.id,S=e.role===yt.Developer&&!t.team.includes(e.id),A=t.team.includes(e.id),C=s.some(_e=>_e.ideaId===t.id&&_e.developerId===e.id&&_e.status==="approved"),[D,N]=M.useState(""),[F,V]=M.useState(!1),[B,k]=M.useState(!1),[R,O]=M.useState(null),[j,q]=M.useState(!1),[H,G]=M.useState(!1),{enterDuration:he}=WAe(),we=(Z=t.likes)==null?void 0:Z.includes(e.id),Q=_e=>{_e.preventDefault(),D.trim()&&(l(t.id,D),N(""))},ae=()=>P(null,null,function*(){q(!0);try{let _e=null;_e=(yield new Promise(Ae=>{We.getNegotiationsForInvestor(e.id,Ae)})).find(Ae=>Ae.ideaId===t.id),_e||(yield We.createNegotiationRequest(t,e),_e=(yield new Promise(Se=>{We.getNegotiationsForInvestor(e.id,Se)})).find(Se=>Se.ideaId===t.id)),b&&_e&&b(_e.id)}catch(_e){alert("Failed to open negotiation.")}finally{q(!1)}});return x.jsxs("div",{className:"relative group block p-2 h-full w-full",onMouseEnter:()=>G(!0),onMouseLeave:()=>G(!1),children:[x.jsx(jl,{mode:"wait",children:H&&x.jsx(ot.span,{className:"absolute inset-0 h-full w-full bg-slate-800/[0.8] block rounded-3xl",layoutId:"ideaHoverBackground",initial:{opacity:0},animate:{opacity:1,transition:{duration:he,ease:"easeOut"}},exit:{opacity:0,transition:{duration:.05,ease:"linear"}},style:{willChange:"opacity, transform",transformOrigin:"center"},layout:!0})}),x.jsxs("div",{className:"relative z-20 bg-gradient-to-br from-slate-900/90 to-black/90 backdrop-blur-sm border border-slate-800/50 rounded-2xl p-4 sm:p-6 transition-all duration-300 hover:border-slate-600/70 hover:shadow-2xl hover:shadow-slate-500/10 h-full flex flex-col",children:[x.jsx("div",{className:"flex items-start justify-between gap-2 sm:gap-4 mb-2 sm:mb-4",children:x.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 min-w-0",children:[x.jsx("img",{src:t.founderAvatar,alt:t.founderName,className:"w-9 h-9 sm:w-12 sm:h-12 rounded-full border-2 border-slate-700 shrink-0 shadow-lg"}),x.jsxs("div",{className:"min-w-0",children:[x.jsx("h3",{className:"text-base sm:text-xl font-bold text-white break-words",children:t.title}),x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("span",{className:"text-xs sm:text-sm text-slate-400 truncate",children:t.founderName}),x.jsx("span",{className:Et("ml-1 px-2 py-0.5 rounded-full text-[10px] sm:text-xs font-semibold","bg-purple-900/30 text-purple-300 border border-purple-700/30"),children:"Founder"})]})]})]})}),x.jsxs("div",{className:"flex flex-col gap-1 sm:gap-2 flex-grow",children:[x.jsx("p",{className:"text-slate-300 text-xs sm:text-sm mb-1 sm:mb-2 line-clamp-2 sm:line-clamp-4",children:t.description}),(e.role===yt.Investor||T)&&t.investmentDetails&&x.jsxs("div",{className:"hidden sm:block mb-2 p-3 bg-purple-900/20 border border-purple-800/30 rounded-xl text-xs",children:[x.jsx("h4",{className:"font-bold text-purple-300 mb-2",children:"Investment Details"}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-slate-400 text-xs",children:"Target Investment:"}),x.jsxs("p",{className:"font-semibold text-white text-sm",children:["$",t.investmentDetails.targetInvestment.toLocaleString()]})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-slate-400 text-xs",children:"Equity Offered:"}),x.jsxs("p",{className:"font-semibold text-white text-sm",children:[t.investmentDetails.equityOffered,"%"]})]})]})]}),!(e.role===yt.Investor||e.role==="investor")&&x.jsxs("div",{className:"hidden sm:block",children:[x.jsxs("h4",{className:"font-semibold text-white mb-2 flex items-center gap-1 text-xs",children:[x.jsx(nI,{className:"w-4 h-4 text-emerald-400"})," Required Skills:"]}),x.jsx("div",{className:"flex flex-wrap gap-1",children:t.requiredSkills.map(_e=>x.jsx("span",{className:Et("bg-blue-900/30 text-blue-300 text-[10px] font-medium px-2 py-1 rounded-full border border-blue-700/30"),children:_e},_e))})]}),!T&&v&&v[t.id]>0&&x.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[x.jsx(uo,{className:"w-4 h-4 text-emerald-400"}),x.jsxs("span",{className:"text-emerald-300 text-xs font-semibold",children:[v[t.id]," investor",v[t.id]>1?"s":""," invested"]})]})]}),T?null:x.jsx("div",{className:"sm:hidden",children:x.jsxs("div",{className:"absolute bottom-3 right-3 flex items-center gap-2 bg-slate-900/80 rounded-xl px-2 py-1 shadow-lg z-10",children:[x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("button",{onClick:_e=>{_e.stopPropagation(),o(t.id)},title:we?"Unlike":"Like",className:`transition-colors ${we?"text-red-500":"text-slate-400 hover:text-red-500"}`,children:x.jsx(cf,{className:"w-5 h-5",fill:we?"currentColor":"none"})}),x.jsx("span",{className:"text-xs text-slate-400 min-w-[16px] text-center",children:((Ee=t.likes)==null?void 0:Ee.length)||0})]}),x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("button",{onClick:_e=>{_e.stopPropagation(),V(!F)},title:"Toggle comments",className:"text-slate-400 hover:text-blue-500 transition-colors",children:x.jsx(df,{className:"w-5 h-5"})}),x.jsx("span",{className:"text-xs text-slate-400 min-w-[16px] text-center",children:((K=t.comments)==null?void 0:K.length)||0})]})]})}),x.jsx("div",{className:"mt-2 sm:mt-4 pt-2 sm:pt-4 border-t border-slate-700/30",children:x.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-2 sm:gap-4",children:[x.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-slate-400",children:[T?x.jsx("span",{className:"text-xs sm:text-sm font-semibold text-purple-400",children:"Your Idea"}):A||C?x.jsxs("span",{className:"flex items-center gap-1 text-xs sm:text-sm font-semibold text-emerald-400",children:[x.jsx(rI,{className:"w-5 h-5"}),"Joined"]}):r?x.jsx("span",{className:"text-xs sm:text-sm font-semibold text-amber-400",children:"Request Sent"}):S?x.jsxs("span",{className:"flex items-center gap-2",children:[x.jsx("button",{onClick:_e=>{_e.stopPropagation(),n(t)},className:"bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-500 hover:to-emerald-600 text-white font-bold py-1 px-2 sm:py-2 sm:px-4 rounded-lg transition-all duration-200 hover:shadow-lg hover:shadow-emerald-500/25 text-xs sm:text-sm",children:"Send Join Request"}),x.jsxs("span",{className:"hidden sm:inline-flex items-center gap-2 ml-2",children:[x.jsx("button",{onClick:_e=>{_e.stopPropagation(),o(t.id)},title:we?"Unlike":"Like",className:`transition-colors ${we?"text-red-500":"text-slate-400 hover:text-red-500"}`,children:x.jsx(cf,{className:"w-5 h-5 sm:w-6 sm:h-6",fill:we?"currentColor":"none"})}),x.jsx("span",{className:"text-xs sm:text-sm text-slate-400 min-w-[16px] text-center",children:((ue=t.likes)==null?void 0:ue.length)||0}),x.jsx("button",{onClick:_e=>{_e.stopPropagation(),V(!F)},title:"Toggle comments",className:"text-slate-400 hover:text-blue-500 transition-colors",children:x.jsx(df,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),x.jsx("span",{className:"text-xs sm:text-sm text-slate-400 min-w-[16px] text-center",children:((ce=t.comments)==null?void 0:ce.length)||0})]})]}):null,e.role===yt.Investor&&!T&&m&&x.jsxs("span",{className:"flex items-center gap-2",children:[m[t.id]&&x.jsx("span",{className:Et("text-[10px] sm:text-xs font-semibold px-1.5 py-0.5 rounded-full",m[t.id]==="accepted"?"bg-emerald-900/30 text-emerald-300 border border-emerald-700/30":m[t.id]==="declined"?"bg-red-900/30 text-red-300 border border-red-700/30":m[t.id]==="active"?"bg-amber-900/30 text-amber-300 border border-amber-700/30":"bg-slate-800 text-slate-400"),children:m[t.id].charAt(0).toUpperCase()+m[t.id].slice(1)}),x.jsx("button",{onClick:_e=>{_e.stopPropagation(),ae()},className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-500 hover:to-blue-600 text-white font-bold py-1 px-2 sm:py-1 sm:px-3 rounded-lg transition-all duration-200 hover:shadow-lg hover:shadow-blue-500/25 text-xs sm:text-xs whitespace-nowrap leading-none",disabled:j,children:j?"Loading...":"Open Negotiation"}),x.jsxs("span",{className:"hidden sm:inline-flex items-center gap-2 ml-2",children:[x.jsx("button",{onClick:_e=>{_e.stopPropagation(),o(t.id)},title:we?"Unlike":"Like",className:`transition-colors ${we?"text-red-500":"text-slate-400 hover:text-red-500"}`,children:x.jsx(cf,{className:"w-5 h-5 sm:w-6 sm:h-6",fill:we?"currentColor":"none"})}),x.jsx("span",{className:"text-xs sm:text-sm text-slate-400 min-w-[16px] text-center",children:((fe=t.likes)==null?void 0:fe.length)||0}),x.jsx("button",{onClick:_e=>{_e.stopPropagation(),V(!F)},title:"Toggle comments",className:"text-slate-400 hover:text-blue-500 transition-colors",children:x.jsx(df,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),x.jsx("span",{className:"text-xs sm:text-sm text-slate-400 min-w-[16px] text-center",children:((Ce=t.comments)==null?void 0:Ce.length)||0})]})]})]}),T?x.jsxs("div",{className:"w-full sm:w-auto mt-1 sm:mt-0 flex flex-col gap-1",children:[v&&v[t.id]>0&&x.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[x.jsx(uo,{className:"w-4 h-4 text-emerald-400"}),x.jsxs("span",{className:"text-emerald-300 text-xs font-semibold",children:[v[t.id]," investor",v[t.id]>1?"s":""," invested"]})]}),x.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[x.jsx("button",{onClick:_e=>{_e.stopPropagation(),i(t)},className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-500 hover:to-blue-600 text-white font-bold py-1 px-3 sm:py-2 sm:px-4 rounded-lg transition-all duration-200 hover:shadow-lg hover:shadow-blue-500/25 text-xs sm:text-sm whitespace-nowrap min-w-[90px] max-w-[120px]",children:"Manage Team"}),x.jsxs("div",{className:"flex items-center gap-1 bg-slate-800/50 rounded-xl px-2 py-1 shadow-lg z-10",children:[x.jsx("button",{onClick:_e=>{_e.stopPropagation(),o(t.id)},title:we?"Unlike":"Like",className:`transition-colors ${we?"text-red-500":"text-slate-400 hover:text-red-500"}`,children:x.jsx(cf,{className:"w-5 h-5",fill:we?"currentColor":"none"})}),x.jsx("span",{className:"text-xs text-slate-400 min-w-[16px] text-center",children:((Ve=t.likes)==null?void 0:Ve.length)||0}),x.jsx("button",{onClick:_e=>{_e.stopPropagation(),V(!F)},title:"Toggle comments",className:"text-slate-400 hover:text-blue-500 transition-colors",children:x.jsx(df,{className:"w-5 h-5"})}),x.jsx("span",{className:"text-xs text-slate-400 min-w-[16px] text-center",children:(($e=t.comments)==null?void 0:$e.length)||0}),x.jsx("button",{onClick:_e=>{_e.stopPropagation(),d(t)},title:"Edit idea",className:"text-slate-400 hover:text-purple-400",children:x.jsx(Dne,{className:"w-5 h-5"})})]})]})]}):null]})}),F&&x.jsxs("div",{className:"mt-2 sm:mt-4 pt-2 sm:pt-4 border-t border-slate-700/30",children:[x.jsx("h5",{className:"font-bold text-white mb-2 text-xs sm:text-base",children:"Comments"}),x.jsx("div",{className:"space-y-2 sm:space-y-3 max-h-32 sm:max-h-48 overflow-y-auto pr-2",children:t.comments&&t.comments.length>0?t.comments.map(_e=>x.jsxs("div",{className:"flex items-start gap-2 group",children:[x.jsx("img",{src:_e.userAvatar,alt:_e.userName,className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full"}),x.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-2 text-xs sm:text-sm w-full border border-slate-700/30",children:[x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsx("p",{className:"font-semibold text-white truncate",children:_e.userName}),T&&x.jsx("button",{onClick:()=>u(t.id,_e),title:"Delete comment",className:"text-slate-500 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:x.jsx(OB,{className:"w-4 h-4"})})]}),x.jsx("p",{className:"text-slate-300 break-words",children:_e.text})]})]},_e.id)):x.jsx("p",{className:"text-slate-400 text-xs sm:text-sm",children:"No comments yet."})}),x.jsxs("form",{onSubmit:Q,className:"mt-2 sm:mt-3 flex gap-2",children:[x.jsx("input",{type:"text",value:D,onChange:_e=>N(_e.target.value),placeholder:"Add a comment...",className:"flex-grow bg-slate-800/50 border border-slate-700/30 rounded-lg py-1 px-2 sm:py-1.5 sm:px-3 text-white text-xs sm:text-sm focus:ring-2 focus:ring-purple-500/50 focus:border-purple-500/50 transition-all backdrop-blur-sm"}),x.jsx("button",{type:"submit",className:"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-500 hover:to-purple-600 text-white font-bold py-1 px-2 sm:py-1.5 sm:px-4 rounded-lg text-xs sm:text-sm transition-all duration-200 hover:shadow-lg hover:shadow-purple-500/25",children:"Post"})]})]}),B&&R&&x.jsx(DN,{negotiation:R,currentUser:e,onClose:()=>k(!1),onOfferMade:_e=>P(null,null,function*(){yield We.addOfferToNegotiation(R.id,_e);const Ae=(yield new Promise(Se=>{We.getNegotiationsForInvestor(e.id,Se)})).find(Se=>Se.ideaId===t.id);O(Ae)}),onStatusChange:_e=>P(null,null,function*(){yield We.updateNegotiationStatus(R.id,_e);const Ae=(yield new Promise(Se=>{We.getNegotiationsForInvestor(e.id,Se)})).find(Se=>Se.ideaId===t.id);O(Ae)})})]})]})},QAe=({user:t,onNavigateToNegotiation:e})=>{var ct,Ae;const[n,r]=M.useState([]),i=Ec.useRef(null),[s,o]=M.useState(null),[l,u]=M.useState(!0),[d,f]=M.useState([]),[m,v]=M.useState(!0),[b,T]=M.useState(null),[S,A]=M.useState(!1),[C,D]=M.useState(null),[N,F]=M.useState("ideas"),[V,B]=M.useState(null),[k,R]=M.useState(null),[O,j]=M.useState({}),[q,H]=M.useState({}),[G,he]=M.useState(null),[we,Q]=M.useState(!1),ae=()=>P(null,null,function*(){if(i.current){r(i.current.ideas),o(i.current.lastDoc),u(i.current.hasMore),v(!1);return}v(!0);try{const{ideas:Se,lastDoc:ke,hasMore:de}=yield We.getIdeasPaginated();r(Se),o(ke),u(de),i.current={ideas:Se,lastDoc:ke,hasMore:de}}catch(Se){T("Could not load data. Please try again later."),console.error(Se)}finally{v(!1)}});M.useEffect(()=>{N==="ideas"&&ae()},[t,N]);const Z=()=>P(null,null,function*(){if(!(!s||!l)){v(!0);try{const{ideas:Se,lastDoc:ke,hasMore:de}=yield We.getIdeasPaginated(s);r(Mt=>{const lt=[...Mt,...Se];return i.current={ideas:lt,lastDoc:ke,hasMore:de},lt}),o(ke),u(de)}catch(Se){T("Could not load more ideas.")}finally{v(!1)}}});M.useEffect(()=>{if(t.role===yt.Investor||t.role==="investor")return We.getNegotiationsForInvestor(t.id,Se=>{const ke={};Se.forEach(de=>{ke[de.ideaId]=de.status}),j(ke)})},[t.id,t.role]),M.useEffect(()=>{We.getAcceptedInvestorCountForIdeas().then(H)},[]);const Ee=()=>{A(!1),D(null),i.current=null,ae()},K=Se=>{D(Se),A(!0)},ue=()=>{D(null),A(!1)},ce=Se=>P(null,null,function*(){try{yield We.createJoinRequest(Se,t),f(ke=>[...ke,{id:"temp-id",ideaId:Se.id,ideaTitle:Se.title,developerId:t.id,developerName:t.name,developerAvatar:t.avatarUrl,founderId:Se.founderId,status:"pending",timestamp:new Date}])}catch(ke){console.error("Failed to send join request:",ke),alert("Failed to send join request. Please try again.")}}),fe=()=>{i.current=null,ae()},Ce=Se=>P(null,null,function*(){try{yield We.toggleLikeIdea(Se,t.id),r(ke=>ke.map(de=>{var Mt;if(de.id===Se){const lt=(Mt=de.likes)==null?void 0:Mt.includes(t.id),Xt=de.likes||[];return xe(Y({},de),{likes:lt?Xt.filter(hn=>hn!==t.id):[...Xt,t.id]})}return de}))}catch(ke){console.error("Failed to like idea:",ke)}}),Ve=(Se,ke)=>P(null,null,function*(){try{const de={userId:t.id,userName:t.name,userAvatar:t.avatarUrl,text:ke,timestamp:new Date};yield We.addCommentToIdea(Se,de),i.current=null,ae()}catch(de){console.error("Failed to add comment:",de)}}),$e=(Se,ke)=>P(null,null,function*(){if(window.confirm("Are you sure you want to delete this comment?"))try{yield We.deleteCommentFromIdea(Se,ke),i.current=null,ae()}catch(de){console.error("Failed to delete comment:",de)}}),_e=[];return x.jsxs("div",{className:"space-y-8 mt-9",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[x.jsx("h1",{className:"text-3xl font-bold text-white",children:"Idea Marketplace"}),t.role===yt.Founder&&!S&&x.jsxs("button",{onClick:()=>A(!0),className:"flex items-center gap-2 bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-500 hover:to-purple-600 text-white font-bold py-2 px-5 rounded-lg transition-all duration-200 hover:shadow-lg hover:shadow-purple-500/25",children:[x.jsx(kB,{className:"w-5 h-5"}),"Post New Idea"]})]}),S&&x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:x.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-black rounded-2xl shadow-2xl p-0 w-full max-w-lg mx-2 relative border border-slate-800/50",children:[x.jsx("button",{className:"absolute top-3 right-3 text-slate-400 hover:text-white text-2xl font-bold z-10 transition-colors",onClick:ue,"aria-label":"Close edit form",children:"×"}),x.jsx(YAe,{user:t,onIdeaPosted:Ee,editingIdea:C,onCancelEdit:ue})]})}),t.role===yt.Founder&&x.jsxs("div",{className:"border-b border-slate-700/30 flex space-x-4",children:[x.jsx("button",{onClick:()=>F("ideas"),className:`py-2 px-4 text-sm font-medium transition-colors ${N==="ideas"?"text-white border-b-2 border-purple-500":"text-slate-400 hover:text-white"}`,children:"Browse Ideas"}),x.jsx("button",{onClick:()=>F("requests"),className:`py-2 px-4 text-sm font-medium transition-colors ${N==="requests"?"text-white border-b-2 border-emerald-500":"text-slate-400 hover:text-white"}`,children:"Join Requests"})]}),N==="ideas"&&x.jsxs(x.Fragment,{children:[m&&x.jsx("div",{className:"flex justify-center items-center h-64",children:x.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-purple-500"})}),b&&x.jsx("p",{className:"text-center text-red-400",children:b}),!m&&!b&&x.jsxs(x.Fragment,{children:[n.length===0&&x.jsxs("div",{className:"text-center py-16 px-6 bg-gradient-to-br from-slate-900/50 to-black/50 border-2 border-dashed border-slate-700/30 rounded-2xl backdrop-blur-sm",children:[x.jsx(Ar,{className:"w-12 h-12 mx-auto text-slate-600"}),x.jsx("h3",{className:"text-xl font-semibold mt-4 text-white",children:"No Ideas Yet"}),x.jsx("p",{className:"text-slate-400 mt-2 max-w-md mx-auto",children:t.role===yt.Founder?"Be the first to share your vision! Post a startup idea to attract talented developers.":"No ideas have been posted yet. Check back soon to find exciting projects to join."})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.map(Se=>x.jsx("div",{className:"cursor-pointer group",tabIndex:0,role:"button","aria-label":`View details for ${Se.title}`,onClick:ke=>{const de=ke.target.tagName.toLowerCase();de!=="button"&&de!=="svg"&&de!=="path"&&de!=="input"&&de!=="textarea"&&de!=="a"&&(he(Se),Q(!0))},onKeyDown:ke=>{(ke.key==="Enter"||ke.key===" ")&&(he(Se),Q(!0))},children:x.jsx(JAe,{idea:Se,user:t,onJoinRequest:ce,hasPendingRequest:_e.includes(Se.id),onManageTeam:B,joinRequests:d,onLike:Ce,onComment:Ve,onDeleteComment:$e,onEdit:K,onStartNegotiation:R,negotiationStatuses:O,investorCounts:q,onNavigateToNegotiation:e})},Se.id)),G&&x.jsx(Ec.Suspense,{fallback:null,children:x.jsx(KAe,{idea:G,open:we,onClose:()=>{Q(!1),setTimeout(()=>he(null),200)}})})]}),l&&x.jsx("div",{className:"flex justify-center mt-6",children:x.jsx("button",{onClick:Z,className:"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-500 hover:to-purple-600 text-white font-bold py-2 px-6 rounded-lg transition-all duration-200 hover:shadow-lg hover:shadow-purple-500/25",disabled:m,children:m?"Loading...":"Load More Ideas"})}),V&&x.jsx(HAe,{idea:V,onClose:()=>B(null),onTeamUpdated:()=>{B(null),i.current=null,ae()}}),k&&(t.role===yt.Investor||t.id===k.founderId)&&x.jsx(DN,{startupName:k.title,founderName:k.founderName,investorName:t.role===yt.Investor?t.name:"Investor",currentUser:t,onClose:()=>R(null),initialInvestment:(ct=k.investmentDetails)==null?void 0:ct.targetInvestment,initialEquity:(Ae=k.investmentDetails)==null?void 0:Ae.equityOffered})]})]}),t.role===yt.Founder&&N==="requests"&&x.jsxs("div",{className:"mt-8",children:[x.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Approve Developer Join Requests"}),x.jsx(GAe,{user:t,joinRequests:d,onRequestsUpdated:fe})]})]})},XAe=({request:t,onUpdateRequest:e})=>x.jsxs("div",{className:"bg-neutral-900 border border-neutral-800 rounded-2xl p-4 flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("img",{src:t.fromUserAvatar,alt:t.fromUserName,className:"w-16 h-16 rounded-full border-2 border-neutral-700"}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-bold text-white",children:t.fromUserName}),x.jsx("p",{className:"text-sm text-neutral-400",children:t.fromUserRole})]})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("button",{onClick:()=>e(t.id,"approved"),className:"p-3 rounded-full bg-green-600/20 hover:bg-green-600/40 text-green-400 transition-colors","aria-label":`Approve ${t.fromUserName}`,children:x.jsx(rI,{className:"w-6 h-6"})}),x.jsx("button",{onClick:()=>e(t.id,"rejected"),className:"p-3 rounded-full bg-red-600/20 hover:bg-red-600/40 text-red-400 transition-colors","aria-label":`Reject ${t.fromUserName}`,children:x.jsx(xa,{className:"w-6 h-6"})})]})]}),ZAe=({request:t,onWithdrawRequest:e})=>x.jsxs("div",{className:"bg-neutral-900 border border-neutral-800 rounded-2xl p-4 flex items-center justify-between",children:[x.jsx("div",{className:"flex items-center gap-4",children:x.jsxs("div",{children:[x.jsxs("h3",{className:"text-lg font-bold text-white",children:["Request to ",t.fromUserName,"..."]}),x.jsxs("p",{className:`text-sm font-semibold ${t.status==="pending"?"text-yellow-400":t.status==="approved"?"text-green-400":"text-red-400"}`,children:["Status: ",t.status]})]})}),t.status==="pending"&&x.jsxs("button",{onClick:()=>e(t.id),className:"flex items-center gap-2 bg-neutral-700 hover:bg-neutral-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors","aria-label":`Withdraw request to ${t.fromUserName}`,children:[x.jsx(Nne,{className:"w-5 h-5"}),"Withdraw"]})]}),e1e=({incomingRequests:t,sentRequests:e})=>{const[n,r]=M.useState("incoming"),i=(l,u)=>P(null,null,function*(){try{yield We.updateConnectionRequest(l,u)}catch(d){console.error(`Failed to ${u} request:`,d),alert(`Could not ${u} the request. Please try again.`)}}),s=l=>P(null,null,function*(){if(window.confirm("Are you sure you want to withdraw this connection request?"))try{yield We.withdrawConnectionRequest(l)}catch(u){console.error("Failed to withdraw request:",u),alert("Could not withdraw the request. Please try again.")}}),o=t.filter(l=>l.status==="pending");return x.jsxs("div",{className:"space-y-8 mt-9",children:[x.jsx("h1",{className:"text-3xl font-bold text-white",children:"Connection Requests"}),x.jsxs("div",{className:"border-b border-neutral-800 flex space-x-4",children:[x.jsxs("button",{onClick:()=>r("incoming"),className:`py-2 px-4 text-sm font-medium transition-colors relative ${n==="incoming"?"text-white border-b-2 border-purple-500":"text-neutral-400 hover:text-white"}`,children:["Incoming",o.length>0&&x.jsx("span",{className:"absolute top-1 right-0 -mt-1 -mr-1 flex h-5 w-5 items-center justify-center rounded-full bg-red-500 text-xs text-white",children:o.length})]}),x.jsx("button",{onClick:()=>r("sent"),className:`py-2 px-4 text-sm font-medium transition-colors ${n==="sent"?"text-white border-b-2 border-purple-500":"text-neutral-400 hover:text-white"}`,children:"Sent"})]}),n==="incoming"&&x.jsx(x.Fragment,{children:o.length>0?x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.map(l=>x.jsx(XAe,{request:l,onUpdateRequest:i},l.id))}):x.jsxs("div",{className:"text-center py-16 px-6 bg-neutral-900 border-2 border-dashed border-neutral-700 rounded-2xl",children:[x.jsx("h3",{className:"text-xl font-semibold mt-4 text-white",children:"No Pending Incoming Requests"}),x.jsx("p",{className:"text-neutral-400 mt-2 max-w-md mx-auto",children:"You have no new connection requests right now."})]})}),n==="sent"&&x.jsx(x.Fragment,{children:e.length>0?x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map(l=>x.jsx(ZAe,{request:l,onWithdrawRequest:s},l.id))}):x.jsxs("div",{className:"text-center py-16 px-6 bg-neutral-900 border-2 border-dashed border-neutral-700 rounded-2xl",children:[x.jsx("h3",{className:"text-xl font-semibold mt-4 text-white",children:"No Sent Requests"}),x.jsx("p",{className:"text-neutral-400 mt-2 max-w-md mx-auto",children:"You haven't sent any connection requests yet."})]})})]})},t1e=({connections:t,currentUser:e,onMessage:n,onRemoveConnection:r})=>{const[i,s]=M.useState(null),[o,l]=M.useState(!1),u=m=>{o||s(m)},d=()=>{s(null)},f=(m,v)=>{m.stopPropagation(),window.confirm(`Are you sure you want to remove ${v.name} from your connections?`)&&r(v)};return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"space-y-8 mt-10",children:[x.jsx("div",{className:"bg-neutral-900/50 border border-neutral-800 rounded-2xl p-6",children:x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center gap-3",children:[x.jsx(uo,{className:"w-8 h-8 text-purple-400"}),"Your People"]}),x.jsx("p",{className:"text-neutral-400 mt-2",children:"Browse and manage your connections."})]}),x.jsx("button",{onClick:()=>l(!o),className:"bg-neutral-800 hover:bg-neutral-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-300",children:o?"Done":"Manage"})]})}),t.length>0?x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:t.map(m=>x.jsxs("div",{onClick:()=>u(m),className:"relative bg-neutral-900 p-5 rounded-2xl flex flex-col items-center text-center cursor-pointer hover:bg-neutral-800 transition-all duration-300 border border-neutral-800 hover:border-purple-500 transform hover:-translate-y-1",children:[o&&x.jsx("button",{onClick:v=>f(v,m),className:"absolute top-2 right-2 text-neutral-500 hover:text-red-500 transition-colors z-10","aria-label":`Remove ${m.name}`,children:x.jsx(VB,{className:"w-6 h-6"})}),x.jsx("img",{src:m.avatarUrl,alt:m.name,className:"w-24 h-24 rounded-full mb-4 border-4 border-neutral-700"}),x.jsx("h3",{className:"font-semibold text-white text-lg",children:m.name}),x.jsx("p",{className:"text-sm text-purple-400",children:m.role}),x.jsx("p",{className:"text-xs text-neutral-500 mt-1",children:m.location})]},m.id))}):x.jsxs("div",{className:"text-center py-16 px-6 bg-neutral-900 border-2 border-dashed border-neutral-700 rounded-2xl",children:[x.jsx(uo,{className:"w-12 h-12 mx-auto text-neutral-600"}),x.jsx("h3",{className:"text-xl font-semibold mt-4 text-white",children:"No Connections Yet"}),x.jsx("p",{className:"text-neutral-400 mt-2 max-w-md mx-auto",children:"You haven't made any connections. Start by finding matches on the dashboard and sending connection requests!"})]})]}),i&&x.jsx(MN,{user:i,onClose:d,isOwnProfile:i.id===e.id,onMessage:n,onConnect:()=>{},currentUserId:e.id})]})};function n1e({isDomainError:t}){return x.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mt-4",role:"alert",children:[x.jsx("strong",{className:"font-bold",children:"API Key Error: "}),t?x.jsx("span",{className:"block sm:inline",children:"Your domain is not authorized to use this API key. Please check your Firebase and Gemini API settings."}):x.jsx("span",{className:"block sm:inline",children:"API key is missing or invalid. Please set up your environment variables correctly."})]})}const oi=({currentView:t,targetView:e,setView:n,children:r,icon:i,pendingCount:s})=>{const o=t===e;return x.jsxs("div",{className:`flex items-center space-x-3 px-4 py-3 rounded-lg cursor-pointer transition-colors duration-200 ${o?"bg-purple-600 text-white font-semibold shadow-lg":"text-neutral-300 hover:bg-neutral-700/50 hover:text-white"}`,onClick:()=>n(e),children:[x.jsx(i,{className:"w-6 h-6"}),x.jsx("span",{className:"flex-grow",children:r}),s&&s>0&&x.jsx("span",{className:"bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:s})]})},r1e=({currentView:t,setView:e,userProfile:n,onLogout:r,pendingRequestCount:i,isMobileChatOpen:s=!1,isMobileNegotiationOpen:o=!1})=>{const[l,u]=M.useState(!1),[d,f]=M.useState(!1),[m,v]=M.useState(!1),b=S(),T=A=>{e(n?A:Ie.AUTH)};if(M.useEffect(()=>{if(d)v(!0);else{const A=setTimeout(()=>v(!1),300);return()=>clearTimeout(A)}},[d]),!n)return x.jsx("header",{className:"fixed top-0 left-0 right-0 bg-white/5 backdrop-blur-sm z-50 border-b border-white/10 shadow-lg",children:x.jsx("nav",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:x.jsxs("div",{className:"flex items-center justify-between h-16",children:[x.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer",onClick:()=>e(Ie.LANDING),children:[x.jsx(af,{className:"h-8 w-8 text-purple-500"}),x.jsx("span",{className:"font-bold text-xl text-white",children:"Grow With Me"})]}),x.jsxs("button",{onClick:()=>e(Ie.AUTH),className:"flex items-center gap-2 bg-neutral-800 hover:bg-neutral-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-300",children:[x.jsx(Pne,{className:"w-5 h-5"}),"Login"]})]})})});function S(){const[A,C]=M.useState(!0),D=M.useRef(0);return M.useEffect(()=>{const N=()=>{const F=window.scrollY;if(F<10){C(!0),D.current=F;return}F>D.current&&F-D.current>10?C(!1):F<D.current&&D.current-F>10&&C(!0),D.current=F};return window.addEventListener("scroll",N,{passive:!0}),()=>window.removeEventListener("scroll",N)},[]),A}return x.jsxs(x.Fragment,{children:[!s&&!o&&x.jsxs("header",{className:"lg:hidden fixed top-0 left-0 right-0 bg-white/10 backdrop-blur-sm z-50 border-b border-white/10 shadow-lg flex items-center h-16 px-4 justify-between",children:[x.jsxs("div",{className:"flex items-center",children:[x.jsx("button",{onClick:()=>f(!0),className:"p-2 rounded-lg hover:bg-neutral-800 focus:outline-none mr-2 sm:block hidden lg:hidden",title:"Open menu",children:x.jsx(Sne,{className:"w-7 h-7 text-white"})}),x.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer",onClick:()=>e(Ie.LANDING),children:[x.jsx(af,{className:"h-8 w-8 text-purple-500"}),x.jsx("span",{className:"font-bold text-xl text-white",children:"Grow With Me"})]})]}),x.jsx("div",{className:"flex items-center",children:x.jsxs("div",{className:"relative",children:[x.jsx("img",{src:n.avatarUrl,alt:n.name,className:"w-9 h-9 rounded-full border-2 border-neutral-700 cursor-pointer",onClick:()=>u(!l)}),l&&x.jsxs("div",{className:"absolute right-0 mt-2 w-44 bg-neutral-800 rounded-lg shadow-lg py-1 border border-neutral-700 animate-fade-in-scale-sm z-50",children:[x.jsx("a",{href:"#",onClick:A=>{A.preventDefault(),e(Ie.ONBOARDING),u(!1),f(!1)},className:"block px-4 py-2 text-sm text-neutral-300 hover:bg-neutral-700",children:"My Profile"}),x.jsxs("a",{href:"#",onClick:A=>{A.preventDefault(),T(Ie.PEOPLE),u(!1),f(!1)},className:`block px-4 py-2 text-sm hover:bg-neutral-700 flex items-center gap-2 ${t===Ie.PEOPLE?"text-purple-400":"text-neutral-300"}`,children:[x.jsx(uo,{className:"w-4 h-4"})," People"]}),x.jsxs("a",{href:"#",onClick:A=>{A.preventDefault(),T(Ie.REQUESTS),u(!1),f(!1)},className:`block px-4 py-2 text-sm hover:bg-neutral-700 flex items-center gap-2 ${t===Ie.REQUESTS?"text-purple-400":"text-neutral-300"}`,children:[i>0&&x.jsx("span",{className:"bg-red-500 text-white text-xs rounded-full px-1 mr-1",children:i}),x.jsx(Il,{className:"w-4 h-4"})," Requests"]}),x.jsxs("a",{href:"#",onClick:A=>{A.preventDefault(),r(),u(!1),f(!1)},className:"block px-4 py-2 text-sm text-red-400 hover:bg-neutral-700 flex items-center gap-2",children:[x.jsx(YT,{className:"w-4 h-4"})," Logout"]})]})]})})]}),!s&&!o&&x.jsxs("nav",{className:`fixed bottom-0 left-0 right-0 z-50 bg-white/10 backdrop-blur-sm border-t border-white/10 shadow-lg flex justify-between items-center h-16 px-1 sm:hidden lg:hidden gap-1 transition-transform duration-300 ${b?"translate-y-0":"translate-y-full"}`,children:[x.jsxs("button",{onClick:()=>T(Ie.DASHBOARD),className:`flex flex-col items-center flex-1 py-1 mx-0.5 ${t===Ie.DASHBOARD?"text-purple-400":"text-neutral-300"}`,children:[" ",x.jsx(S0,{className:"w-5 h-5 mb-0.5"})," ",x.jsx("span",{className:"text-[11px] leading-tight",children:"Dashboard"})," "]}),x.jsxs("button",{onClick:()=>T(Ie.ANALYTICS),className:`flex flex-col items-center flex-1 py-1 mx-0.5 ${t===Ie.ANALYTICS?"text-purple-400":"text-neutral-300"}`,children:[" ",x.jsx(JT,{className:"w-5 h-5 mb-0.5"})," ",x.jsx("span",{className:"text-[11px] leading-tight",children:"Analytics"})," "]}),x.jsxs("button",{onClick:()=>T(Ie.MESSAGES),className:`flex flex-col items-center flex-1 py-1 mx-0.5 ${t===Ie.MESSAGES?"text-purple-400":"text-neutral-300"}`,children:[" ",x.jsx(Sf,{className:"w-5 h-5 mb-0.5"})," ",x.jsx("span",{className:"text-[11px] leading-tight",children:"Messages"})," "]}),x.jsxs("button",{onClick:()=>T(Ie.IDEAS),className:`flex flex-col items-center flex-1 py-1 mx-0.5 ${t===Ie.IDEAS?"text-purple-400":"text-neutral-300"}`,children:[" ",x.jsx(Ar,{className:"w-5 h-5 mb-0.5"})," ",x.jsx("span",{className:"text-[11px] leading-tight",children:"Ideas"})," "]}),x.jsxs("button",{onClick:()=>T(Ie.NEGOTIATIONS),className:`flex flex-col items-center flex-1 py-1 mx-0.5 ${t===Ie.NEGOTIATIONS?"text-purple-400":"text-neutral-300"}`,children:[" ",x.jsx(Ar,{className:"w-5 h-5 mb-0.5"})," ",x.jsx("span",{className:"text-[11px] leading-tight",children:"Negotiations"})," "]})]}),(d||m)&&x.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",children:[x.jsx("div",{className:"fixed inset-0 bg-white/10 backdrop-blur-sm transition-opacity duration-300 opacity-100 pointer-events-auto",onClick:()=>f(!1)}),x.jsxs("aside",{className:`relative w-64 bg-white/5 backdrop-blur-sm border-r border-white/10 shadow-lg text-white p-4 flex flex-col h-full z-50 transform transition-transform duration-300 ${d?"translate-x-0":"-translate-x-full"} pointer-events-auto`,style:{minWidth:"16rem"},children:[x.jsxs("div",{className:"absolute inset-0 -z-10 pointer-events-none",children:[x.jsx("div",{className:"absolute top-1/4 left-1/4 w-32 h-32 bg-emerald-500/10 rounded-full blur-2xl animate-pulse-slow"}),x.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-40 h-40 bg-purple-500/10 rounded-full blur-2xl animate-pulse-slow",style:{animationDelay:"2s"}})]}),x.jsxs("div",{className:"flex items-center justify-between mb-10 px-2",children:[x.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer",onClick:()=>{e(Ie.LANDING),f(!1)},children:[x.jsx(af,{className:"h-8 w-8 text-purple-500"}),x.jsx("span",{className:"font-bold text-xl text-white",children:"Grow With Me"})]}),x.jsx("button",{onClick:()=>f(!1),className:"p-2 rounded-lg hover:bg-neutral-800 focus:outline-none",title:"Close menu",children:x.jsx(xa,{className:"w-6 h-6 text-white"})})]}),x.jsx("nav",{className:"flex-grow",children:x.jsxs("ul",{className:"space-y-2",children:[x.jsx("li",{children:x.jsx(oi,{currentView:t,targetView:Ie.DASHBOARD,setView:A=>{T(A),f(!1)},icon:S0,children:"Dashboard"})}),x.jsx("li",{children:x.jsx(oi,{currentView:t,targetView:Ie.ANALYTICS,setView:A=>{T(A),f(!1)},icon:JT,children:"Analytics"})}),x.jsx("li",{children:x.jsx(oi,{currentView:t,targetView:Ie.MESSAGES,setView:A=>{T(A),f(!1)},icon:Sf,children:"Messages"})}),x.jsx("li",{children:x.jsx(oi,{currentView:t,targetView:Ie.IDEAS,setView:A=>{T(A),f(!1)},icon:Ar,children:"Ideas"})}),x.jsx("li",{children:x.jsx(oi,{currentView:t,targetView:Ie.PEOPLE,setView:A=>{T(A),f(!1)},icon:uo,children:"People"})}),x.jsx("li",{children:x.jsx(oi,{currentView:t,targetView:Ie.REQUESTS,setView:A=>{T(A),f(!1)},icon:Il,pendingCount:i,children:"Requests"})}),x.jsx("li",{children:x.jsx(oi,{currentView:t,targetView:Ie.NEGOTIATIONS,setView:A=>{T(A),f(!1)},icon:Ar,children:"Negotiations"})})]})}),x.jsx("div",{className:"mt-auto",children:x.jsxs("div",{className:"relative",children:[x.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg cursor-pointer hover:bg-neutral-800 transition-colors",onClick:()=>u(!l),children:[x.jsx("img",{src:n.avatarUrl,alt:n.name,className:"w-10 h-10 rounded-full border-2 border-neutral-700"}),x.jsxs("div",{className:"flex-grow overflow-hidden",children:[x.jsx("p",{className:"text-sm text-white font-semibold truncate",children:n.name}),x.jsx("p",{className:"text-xs text-neutral-400 truncate",children:n.role})]})]}),l&&x.jsxs("div",{className:"absolute bottom-full left-0 mb-2 w-full bg-neutral-800 rounded-lg shadow-lg py-1 border border-neutral-700 animate-fade-in-scale-sm",children:[x.jsx("a",{href:"#",onClick:A=>{A.preventDefault(),e(Ie.ONBOARDING),u(!1)},className:"block px-4 py-2 text-sm text-neutral-300 hover:bg-neutral-700",children:"My Profile"}),x.jsxs("a",{href:"#",onClick:A=>{A.preventDefault(),r(),u(!1)},className:"block px-4 py-2 text-sm text-red-400 hover:bg-neutral-700 flex items-center gap-2",children:[x.jsx(YT,{className:"w-4 h-4"})," Logout"]})]})]})})]})]}),x.jsxs("aside",{className:"hidden lg:flex w-64 bg-white/5 backdrop-blur-sm border-r border-white/10 shadow-lg text-white p-4 flex-col h-screen fixed z-50",children:[x.jsxs("div",{className:"absolute inset-0 -z-10 pointer-events-none",children:[x.jsx("div",{className:"absolute top-1/4 left-1/4 w-32 h-32 bg-emerald-500/10 rounded-full blur-2xl animate-pulse-slow"}),x.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-40 h-40 bg-purple-500/10 rounded-full blur-2xl animate-pulse-slow",style:{animationDelay:"2s"}})]}),x.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer mb-10 px-2",onClick:()=>e(Ie.LANDING),children:[x.jsx(af,{className:"h-8 w-8 text-purple-500"}),x.jsx("span",{className:"font-bold text-xl text-white",children:"Grow With Me"})]}),x.jsx("nav",{className:"flex-grow",children:x.jsxs("ul",{className:"space-y-2",children:[x.jsx("li",{children:x.jsx(oi,{currentView:t,targetView:Ie.DASHBOARD,setView:T,icon:S0,children:"Dashboard"})}),x.jsx("li",{children:x.jsx(oi,{currentView:t,targetView:Ie.ANALYTICS,setView:T,icon:JT,children:"Analytics"})}),x.jsx("li",{children:x.jsx(oi,{currentView:t,targetView:Ie.MESSAGES,setView:T,icon:Sf,children:"Messages"})}),x.jsx("li",{children:x.jsx(oi,{currentView:t,targetView:Ie.IDEAS,setView:T,icon:Ar,children:"Ideas"})}),x.jsx("li",{children:x.jsx(oi,{currentView:t,targetView:Ie.PEOPLE,setView:T,icon:uo,children:"People"})}),x.jsx("li",{children:x.jsx(oi,{currentView:t,targetView:Ie.REQUESTS,setView:T,icon:Il,pendingCount:i,children:"Requests"})}),x.jsx("li",{children:x.jsx(oi,{currentView:t,targetView:Ie.NEGOTIATIONS,setView:T,icon:Ar,children:"Negotiations"})})]})}),x.jsx("div",{className:"mt-auto",children:x.jsxs("div",{className:"relative",children:[x.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg cursor-pointer hover:bg-neutral-800 transition-colors",onClick:()=>u(!l),children:[x.jsx("img",{src:n.avatarUrl,alt:n.name,className:"w-10 h-10 rounded-full border-2 border-neutral-700"}),x.jsxs("div",{className:"flex-grow overflow-hidden",children:[x.jsx("p",{className:"text-sm text-white font-semibold truncate",children:n.name}),x.jsx("p",{className:"text-xs text-neutral-400 truncate",children:n.role})]})]}),l&&x.jsxs("div",{className:"absolute bottom-full left-0 mb-2 w-full bg-neutral-800 rounded-lg shadow-lg py-1 border border-neutral-700 animate-fade-in-scale-sm",children:[x.jsx("a",{href:"#",onClick:A=>{A.preventDefault(),e(Ie.ONBOARDING),u(!1)},className:"block px-4 py-2 text-sm text-neutral-300 hover:bg-neutral-700",children:"My Profile"}),x.jsxs("a",{href:"#",onClick:A=>{A.preventDefault(),r(),u(!1)},className:"block px-4 py-2 text-sm text-red-400 hover:bg-neutral-700 flex items-center gap-2",children:[x.jsx(YT,{className:"w-4 h-4"})," Logout"]})]})]})})]})]})},i1e=[{id:"dev_1",name:"Alex Chen",role:yt.Developer,avatarUrl:"https://api.dicebear.com/8.x/bottts/svg?seed=alex",location:"San Francisco, CA",interests:["AI/ML","Web3","SaaS"],skills:["React","Python","Go","Kubernetes"],experience:"5+ years as a full-stack engineer at a FAANG company. Built and scaled multiple products from 0 to 1.",lookingFor:"A visionary founder with a strong product sense to build the next big thing in developer tools."},{id:"founder_1",name:"Brenda Smith",role:yt.Founder,avatarUrl:"https://api.dicebear.com/8.x/bottts/svg?seed=brenda",location:"New York, NY",interests:["FinTech","E-commerce","Marketplaces"],skills:["Product Management","Marketing","Business Strategy"],experience:"Second-time founder. Exited my first startup for $20M. Deep expertise in product-market fit and GTM strategy.",lookingFor:"A technical co-founder who is passionate about building scalable and beautiful products."},{id:"investor_1",name:"Charles Davis",role:yt.Investor,avatarUrl:"https://api.dicebear.com/8.x/bottts/svg?seed=charles",location:"Remote",interests:["AI","Future of Work","Climate Tech"],skills:["Venture Capital","Fundraising","Growth Hacking"],experience:"Partner at a Tier 1 VC firm. Led Series A rounds for several unicorns. I love working with ambitious founders.",lookingFor:"Early-stage startups with a unique insight and massive market potential. Looking to write checks from $500k to $2M."},{id:"dev_2",name:"Diana Rodriguez",role:yt.Developer,avatarUrl:"https://api.dicebear.com/8.x/bottts/svg?seed=diana",location:"Austin, TX",interests:["Cybersecurity","DevOps","Cloud Infrastructure"],skills:["AWS","Terraform","Rust","Security Audits"],experience:"Senior security engineer with a background in pentesting and cloud architecture. Love building secure and resilient systems.",lookingFor:"A co-founder who understands the security space and wants to build a product that makes the internet safer."},{id:"founder_2",name:"Ethan Wong",role:yt.Founder,avatarUrl:"https://api.dicebear.com/8.x/bottts/svg?seed=ethan",location:"Singapore",interests:["Gaming","Creator Economy","Social Platforms"],skills:["Community Building","UI/UX Design","Agile Methodology"],experience:"Former product manager at a major gaming company. Launched a social app with over 1M MAU.",lookingFor:"An investor who believes in the power of community and a lead developer to build our V2."}];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let s1e,o1e;function a1e(){return{geminiUrl:s1e,vertexUrl:o1e}}function l1e(t,e,n,r){var i,s;if(!(t!=null&&t.baseUrl)){const o=a1e();return e?(i=o.vertexUrl)!==null&&i!==void 0?i:n:(s=o.geminiUrl)!==null&&s!==void 0?s:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xc{}function ze(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function g(t,e,n){for(let s=0;s<e.length-1;s++){const o=e[s];if(o.endsWith("[]")){const l=o.slice(0,-2);if(!(l in t))if(Array.isArray(n))t[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[l])){const u=t[l];if(Array.isArray(n))for(let d=0;d<u.length;d++){const f=u[d];g(f,e.slice(s+1),n[d])}else for(const d of u)g(d,e.slice(s+1),n)}return}else if(o.endsWith("[0]")){const l=o.slice(0,-3);l in t||(t[l]=[{}]);const u=t[l];g(u[0],e.slice(s+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else t[r]=n}function p(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in t){const s=t[i];return Array.isArray(s)?s.map(o=>p(o,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mC(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var F5;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(F5||(F5={}));var j5;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(j5||(j5={}));var Mi;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Mi||(Mi={}));var B5;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(B5||(B5={}));var q5;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(q5||(q5={}));var z5;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(z5||(z5={}));var $5;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})($5||($5={}));var G5;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(G5||(G5={}));var H5;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(H5||(H5={}));var K5;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(K5||(K5={}));var W5;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(W5||(W5={}));var Y5;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Y5||(Y5={}));var J5;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(J5||(J5={}));var Q5;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(Q5||(Q5={}));var X5;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(X5||(X5={}));var rb;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(rb||(rb={}));var Z5;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Z5||(Z5={}));var pC;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(pC||(pC={}));var eF;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(eF||(eF={}));var tF;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(tF||(tF={}));var nF;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(nF||(nF={}));var rF;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(rF||(rF={}));var iF;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(iF||(iF={}));var sF;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(sF||(sF={}));var oF;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(oF||(oF={}));var aF;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(aF||(aF={}));var lF;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(lF||(lF={}));var uF;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(uF||(uF={}));var cF;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(cF||(cF={}));var dF;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(dF||(dF={}));var fF;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(fF||(fF={}));var hF;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(hF||(hF={}));var mF;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(mF||(mF={}));var pF;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(pF||(pF={}));var gF;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(gF||(gF={}));var yF;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(yF||(yF={}));var vF;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(vF||(vF={}));var xF;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(xF||(xF={}));var bF;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(bF||(bF={}));var wF;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(wF||(wF={}));var _F;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(_F||(_F={}));var TF;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(TF||(TF={}));var EF;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(EF||(EF={}));var SF;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(SF||(SF={}));var xf;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(xf||(xf={}));class gC{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class pp{get text(){var e,n,r,i,s,o,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1;const m=[];for(const v of(u=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&u!==void 0?u:[]){for(const[b,T]of Object.entries(v))b!=="text"&&b!=="thought"&&(T!==null||T!==void 0)&&m.push(b);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;f=!0,d+=v.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var e,n,r,i,s,o,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const f=[];for(const m of(u=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&u!==void 0?u:[]){for(const[v,b]of Object.entries(m))v!=="inlineData"&&(b!==null||b!==void 0)&&f.push(v);m.inlineData&&typeof m.inlineData.data=="string"&&(d+=atob(m.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,i,s,o,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(u=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,r,i,s,o,l,u,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(u=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,i,s,o,l,u,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(u=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.output}}class AF{}class CF{}class u1e{}class c1e{}class d1e{}class f1e{}class IF{}class RF{}class PF{}class h1e{}class NF{}class MF{}class DF{}class kF{}class m1e{}class p1e{}class g1e{}class OF{}class y1e{get text(){var e,n,r;let i="",s=!1;const o=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,d]of Object.entries(l))u!=="text"&&u!=="thought"&&d!==null&&o.push(u);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;s=!0,i+=l.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,n,r;let i="";const s=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(o))l!=="inlineData"&&u!==null&&s.push(l);o.inlineData&&typeof o.inlineData.data=="string"&&(i+=atob(o.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class ib{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const r=new ib;if(r.name=e.name,r.metadata=e.metadata,r.done=e.done,r.error=e.error,n){const i=e.response;if(i){const s=new NF,o=i.videos;s.generatedVideos=o==null?void 0:o.map(l=>({video:{uri:l.gcsUri,videoBytes:l.bytesBase64Encoded?mC(l.bytesBase64Encoded):void 0,mimeType:l.mimeType}})),s.raiMediaFilteredCount=i.raiMediaFilteredCount,s.raiMediaFilteredReasons=i.raiMediaFilteredReasons,r.response=s}}else{const i=e.response;if(i){const s=new NF,o=i.generateVideoResponse,l=o==null?void 0:o.generatedSamples;s.generatedVideos=l==null?void 0:l.map(u=>{const d=u.video;return{video:{uri:d==null?void 0:d.uri,videoBytes:d!=null&&d.encodedVideo?mC(d==null?void 0:d.encodedVideo):void 0,mimeType:u.encoding}}}),s.raiMediaFilteredCount=o==null?void 0:o.raiMediaFilteredCount,s.raiMediaFilteredReasons=o==null?void 0:o.raiMediaFilteredReasons,r.response=s}}return r}}class v1e{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function j7(t,e){const n=Nt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function B7(t){return Array.isArray(t)?t.map(e=>sb(e)):[sb(t)]}function sb(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function q7(t){const e=sb(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function z7(t){const e=sb(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function VF(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function $7(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>VF(e)):[VF(t)]}function yC(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function LF(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function UF(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function qr(t){if(t==null)throw new Error("ContentUnion is required");return yC(t)?t:{role:"user",parts:$7(t)}}function G7(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=qr(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=qr(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>qr(n)):[qr(e)]}function ds(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(LF(t)||UF(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[qr(t)]}const e=[],n=[],r=yC(t[0]);for(const i of t){const s=yC(i);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if(LF(i)||UF(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:$7(n)}),e}function x1e(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Mi).includes(n[0].toUpperCase())?n[0].toUpperCase():Mi.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Mi).includes(r.toUpperCase())?r.toUpperCase():Mi.TYPE_UNSPECIFIED})}}function Nf(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&x1e(t.type,e);for(const[o,l]of Object.entries(t))if(l!=null)if(o=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;e.type=Object.values(Mi).includes(l.toUpperCase())?l.toUpperCase():Mi.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=Nf(l);else if(r.includes(o)){const u=[];for(const d of l){if(d.type=="null"){e.nullable=!0;continue}u.push(Nf(d))}e[o]=u}else if(i.includes(o)){const u={};for(const[d,f]of Object.entries(l))u[d]=Nf(f);e[o]=u}else{if(o==="additionalProperties")continue;e[o]=l}return e}function kN(t){return Nf(t)}function ON(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function VN(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Bh(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Nf(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Nf(e.response));return t}function qh(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function b1e(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Ra(t,e){if(typeof e!="string")throw new Error("name must be a string");return b1e(t,e,"cachedContents")}function H7(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Zc(t){return mC(t)}function w1e(t){return t!=null&&typeof t=="object"&&"name"in t}function _1e(t){return t!=null&&typeof t=="object"&&"video"in t}function T1e(t){return t!=null&&typeof t=="object"&&"uri"in t}function K7(t){var e;let n;if(w1e(t)&&(n=t.name),!(T1e(t)&&(n=t.uri,n===void 0))&&!(_1e(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function W7(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Y7(t){for(const e of["models","tunedModels","publisherModels"])if(E1e(t,e))return t[e];return[]}function E1e(t,e){return t!==null&&typeof t=="object"&&e in t}function S1e(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function A1e(t,e={}){const n=[],r=new Set;for(const i of t){const s=i.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);const o=S1e(i,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function J7(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function C1e(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function zh(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Q7(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function I1e(t){const e={},n=p(t,["fps"]);n!=null&&g(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&g(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&g(e,["startOffset"],i),e}function R1e(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&g(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function P1e(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function N1e(t){const e={},n=p(t,["videoMetadata"]);n!=null&&g(e,["videoMetadata"],I1e(n));const r=p(t,["thought"]);r!=null&&g(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&g(e,["inlineData"],R1e(i));const s=p(t,["fileData"]);s!=null&&g(e,["fileData"],P1e(s));const o=p(t,["thoughtSignature"]);o!=null&&g(e,["thoughtSignature"],o);const l=p(t,["codeExecutionResult"]);l!=null&&g(e,["codeExecutionResult"],l);const u=p(t,["executableCode"]);u!=null&&g(e,["executableCode"],u);const d=p(t,["functionCall"]);d!=null&&g(e,["functionCall"],d);const f=p(t,["functionResponse"]);f!=null&&g(e,["functionResponse"],f);const m=p(t,["text"]);return m!=null&&g(e,["text"],m),e}function X7(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>N1e(s))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function M1e(t){const e={},n=p(t,["anyOf"]);n!=null&&g(e,["anyOf"],n);const r=p(t,["default"]);r!=null&&g(e,["default"],r);const i=p(t,["description"]);i!=null&&g(e,["description"],i);const s=p(t,["enum"]);s!=null&&g(e,["enum"],s);const o=p(t,["example"]);o!=null&&g(e,["example"],o);const l=p(t,["format"]);l!=null&&g(e,["format"],l);const u=p(t,["items"]);u!=null&&g(e,["items"],u);const d=p(t,["maxItems"]);d!=null&&g(e,["maxItems"],d);const f=p(t,["maxLength"]);f!=null&&g(e,["maxLength"],f);const m=p(t,["maxProperties"]);m!=null&&g(e,["maxProperties"],m);const v=p(t,["maximum"]);v!=null&&g(e,["maximum"],v);const b=p(t,["minItems"]);b!=null&&g(e,["minItems"],b);const T=p(t,["minLength"]);T!=null&&g(e,["minLength"],T);const S=p(t,["minProperties"]);S!=null&&g(e,["minProperties"],S);const A=p(t,["minimum"]);A!=null&&g(e,["minimum"],A);const C=p(t,["nullable"]);C!=null&&g(e,["nullable"],C);const D=p(t,["pattern"]);D!=null&&g(e,["pattern"],D);const N=p(t,["properties"]);N!=null&&g(e,["properties"],N);const F=p(t,["propertyOrdering"]);F!=null&&g(e,["propertyOrdering"],F);const V=p(t,["required"]);V!=null&&g(e,["required"],V);const B=p(t,["title"]);B!=null&&g(e,["title"],B);const k=p(t,["type"]);return k!=null&&g(e,["type"],k),e}function D1e(t){const e={};if(p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=p(t,["category"]);n!=null&&g(e,["category"],n);const r=p(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function k1e(t){const e={},n=p(t,["behavior"]);n!=null&&g(e,["behavior"],n);const r=p(t,["description"]);r!=null&&g(e,["description"],r);const i=p(t,["name"]);i!=null&&g(e,["name"],i);const s=p(t,["parameters"]);s!=null&&g(e,["parameters"],s);const o=p(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const l=p(t,["response"]);l!=null&&g(e,["response"],l);const u=p(t,["responseJsonSchema"]);return u!=null&&g(e,["responseJsonSchema"],u),e}function O1e(t){const e={},n=p(t,["startTime"]);n!=null&&g(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&g(e,["endTime"],r),e}function V1e(t){const e={},n=p(t,["timeRangeFilter"]);if(n!=null&&g(e,["timeRangeFilter"],O1e(n)),p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function L1e(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&g(e,["dynamicThreshold"],r),e}function U1e(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&g(e,["dynamicRetrievalConfig"],L1e(n)),e}function F1e(){return{}}function j1e(t){const e={},n=p(t,["environment"]);return n!=null&&g(e,["environment"],n),e}function B1e(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(d=>k1e(d))),g(e,["functionDeclarations"],u)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearch"]);r!=null&&g(e,["googleSearch"],V1e(r));const i=p(t,["googleSearchRetrieval"]);if(i!=null&&g(e,["googleSearchRetrieval"],U1e(i)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&g(e,["urlContext"],F1e());const o=p(t,["computerUse"]);o!=null&&g(e,["computerUse"],j1e(o));const l=p(t,["codeExecution"]);return l!=null&&g(e,["codeExecution"],l),e}function q1e(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);return r!=null&&g(e,["allowedFunctionNames"],r),e}function z1e(t){const e={},n=p(t,["latitude"]);n!=null&&g(e,["latitude"],n);const r=p(t,["longitude"]);return r!=null&&g(e,["longitude"],r),e}function $1e(t){const e={},n=p(t,["latLng"]);n!=null&&g(e,["latLng"],z1e(n));const r=p(t,["languageCode"]);return r!=null&&g(e,["languageCode"],r),e}function G1e(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],q1e(n));const r=p(t,["retrievalConfig"]);return r!=null&&g(e,["retrievalConfig"],$1e(r)),e}function H1e(t){const e={},n=p(t,["voiceName"]);return n!=null&&g(e,["voiceName"],n),e}function Z7(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&g(e,["prebuiltVoiceConfig"],H1e(n)),e}function K1e(t){const e={},n=p(t,["speaker"]);n!=null&&g(e,["speaker"],n);const r=p(t,["voiceConfig"]);return r!=null&&g(e,["voiceConfig"],Z7(r)),e}function W1e(t){const e={},n=p(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>K1e(i))),g(e,["speakerVoiceConfigs"],r)}return e}function Y1e(t){const e={},n=p(t,["voiceConfig"]);n!=null&&g(e,["voiceConfig"],Z7(n));const r=p(t,["multiSpeakerVoiceConfig"]);r!=null&&g(e,["multiSpeakerVoiceConfig"],W1e(r));const i=p(t,["languageCode"]);return i!=null&&g(e,["languageCode"],i),e}function J1e(t){const e={},n=p(t,["includeThoughts"]);n!=null&&g(e,["includeThoughts"],n);const r=p(t,["thinkingBudget"]);return r!=null&&g(e,["thinkingBudget"],r),e}function Q1e(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],X7(qr(i)));const s=p(e,["temperature"]);s!=null&&g(r,["temperature"],s);const o=p(e,["topP"]);o!=null&&g(r,["topP"],o);const l=p(e,["topK"]);l!=null&&g(r,["topK"],l);const u=p(e,["candidateCount"]);u!=null&&g(r,["candidateCount"],u);const d=p(e,["maxOutputTokens"]);d!=null&&g(r,["maxOutputTokens"],d);const f=p(e,["stopSequences"]);f!=null&&g(r,["stopSequences"],f);const m=p(e,["responseLogprobs"]);m!=null&&g(r,["responseLogprobs"],m);const v=p(e,["logprobs"]);v!=null&&g(r,["logprobs"],v);const b=p(e,["presencePenalty"]);b!=null&&g(r,["presencePenalty"],b);const T=p(e,["frequencyPenalty"]);T!=null&&g(r,["frequencyPenalty"],T);const S=p(e,["seed"]);S!=null&&g(r,["seed"],S);const A=p(e,["responseMimeType"]);A!=null&&g(r,["responseMimeType"],A);const C=p(e,["responseSchema"]);C!=null&&g(r,["responseSchema"],M1e(kN(C)));const D=p(e,["responseJsonSchema"]);if(D!=null&&g(r,["responseJsonSchema"],D),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=p(e,["safetySettings"]);if(n!==void 0&&N!=null){let q=N;Array.isArray(q)&&(q=q.map(H=>D1e(H))),g(n,["safetySettings"],q)}const F=p(e,["tools"]);if(n!==void 0&&F!=null){let q=qh(F);Array.isArray(q)&&(q=q.map(H=>B1e(Bh(H)))),g(n,["tools"],q)}const V=p(e,["toolConfig"]);if(n!==void 0&&V!=null&&g(n,["toolConfig"],G1e(V)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const B=p(e,["cachedContent"]);n!==void 0&&B!=null&&g(n,["cachedContent"],Ra(t,B));const k=p(e,["responseModalities"]);k!=null&&g(r,["responseModalities"],k);const R=p(e,["mediaResolution"]);R!=null&&g(r,["mediaResolution"],R);const O=p(e,["speechConfig"]);if(O!=null&&g(r,["speechConfig"],Y1e(ON(O))),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const j=p(e,["thinkingConfig"]);return j!=null&&g(r,["thinkingConfig"],J1e(j)),r}function X1e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["request","model"],Nt(t,r));const i=p(e,["contents"]);if(i!=null){let o=ds(i);Array.isArray(o)&&(o=o.map(l=>X7(l))),g(n,["request","contents"],o)}const s=p(e,["config"]);return s!=null&&g(n,["request","generationConfig"],Q1e(t,s,n)),n}function Z1e(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=p(e,["fileName"]);r!=null&&g(n,["fileName"],r);const i=p(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>X1e(t,o))),g(n,["requests","requests"],s)}return n}function eCe(t,e){const n={},r=p(t,["displayName"]);if(e!==void 0&&r!=null&&g(e,["batch","displayName"],r),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function FF(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Nt(t,r));const i=p(e,["src"]);i!=null&&g(n,["batch","inputConfig"],Z1e(t,J7(t,i)));const s=p(e,["config"]);return s!=null&&g(n,["config"],eCe(s,n)),n}function tCe(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],zh(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],i),n}function nCe(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],zh(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],i),n}function rCe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);if(e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function iCe(t){const e={},n=p(t,["config"]);return n!=null&&g(e,["config"],rCe(n,e)),e}function sCe(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],zh(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],i),n}function oCe(t){const e={},n=p(t,["format"]);n!=null&&g(e,["instancesFormat"],n);const r=p(t,["gcsUri"]);r!=null&&g(e,["gcsSource","uris"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&g(e,["bigquerySource","inputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function aCe(t){const e={},n=p(t,["format"]);n!=null&&g(e,["predictionsFormat"],n);const r=p(t,["gcsUri"]);r!=null&&g(e,["gcsDestination","outputUriPrefix"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&g(e,["bigqueryDestination","outputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function lCe(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=p(t,["dest"]);return e!==void 0&&i!=null&&g(e,["outputConfig"],aCe(C1e(i))),n}function uCe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],Nt(t,r));const i=p(e,["src"]);i!=null&&g(n,["inputConfig"],oCe(J7(t,i)));const s=p(e,["config"]);return s!=null&&g(n,["config"],lCe(s,n)),n}function cCe(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],zh(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],i),n}function dCe(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],zh(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],i),n}function fCe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&g(e,["_query","pageToken"],i);const s=p(t,["filter"]);return e!==void 0&&s!=null&&g(e,["_query","filter"],s),n}function hCe(t){const e={},n=p(t,["config"]);return n!=null&&g(e,["config"],fCe(n,e)),e}function mCe(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],zh(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],i),n}function pCe(t){const e={},n=p(t,["fps"]);n!=null&&g(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&g(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&g(e,["startOffset"],i),e}function gCe(t){const e={},n=p(t,["data"]);n!=null&&g(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function yCe(t){const e={},n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function vCe(t){const e={},n=p(t,["videoMetadata"]);n!=null&&g(e,["videoMetadata"],pCe(n));const r=p(t,["thought"]);r!=null&&g(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&g(e,["inlineData"],gCe(i));const s=p(t,["fileData"]);s!=null&&g(e,["fileData"],yCe(s));const o=p(t,["thoughtSignature"]);o!=null&&g(e,["thoughtSignature"],o);const l=p(t,["codeExecutionResult"]);l!=null&&g(e,["codeExecutionResult"],l);const u=p(t,["executableCode"]);u!=null&&g(e,["executableCode"],u);const d=p(t,["functionCall"]);d!=null&&g(e,["functionCall"],d);const f=p(t,["functionResponse"]);f!=null&&g(e,["functionResponse"],f);const m=p(t,["text"]);return m!=null&&g(e,["text"],m),e}function xCe(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>vCe(s))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function bCe(t){const e={},n=p(t,["citationSources"]);return n!=null&&g(e,["citations"],n),e}function wCe(t){const e={},n=p(t,["retrievedUrl"]);n!=null&&g(e,["retrievedUrl"],n);const r=p(t,["urlRetrievalStatus"]);return r!=null&&g(e,["urlRetrievalStatus"],r),e}function _Ce(t){const e={},n=p(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>wCe(i))),g(e,["urlMetadata"],r)}return e}function TCe(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],xCe(n));const r=p(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],bCe(r));const i=p(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const s=p(t,["finishReason"]);s!=null&&g(e,["finishReason"],s);const o=p(t,["urlContextMetadata"]);o!=null&&g(e,["urlContextMetadata"],_Ce(o));const l=p(t,["avgLogprobs"]);l!=null&&g(e,["avgLogprobs"],l);const u=p(t,["groundingMetadata"]);u!=null&&g(e,["groundingMetadata"],u);const d=p(t,["index"]);d!=null&&g(e,["index"],d);const f=p(t,["logprobsResult"]);f!=null&&g(e,["logprobsResult"],f);const m=p(t,["safetyRatings"]);return m!=null&&g(e,["safetyRatings"],m),e}function ECe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>TCe(d))),g(e,["candidates"],u)}const i=p(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const s=p(t,["promptFeedback"]);s!=null&&g(e,["promptFeedback"],s);const o=p(t,["responseId"]);o!=null&&g(e,["responseId"],o);const l=p(t,["usageMetadata"]);return l!=null&&g(e,["usageMetadata"],l),e}function eK(t){const e={},n=p(t,["details"]);n!=null&&g(e,["details"],n);const r=p(t,["code"]);r!=null&&g(e,["code"],r);const i=p(t,["message"]);return i!=null&&g(e,["message"],i),e}function SCe(t){const e={},n=p(t,["response"]);n!=null&&g(e,["response"],ECe(n));const r=p(t,["error"]);return r!=null&&g(e,["error"],eK(r)),e}function ACe(t){const e={},n=p(t,["responsesFile"]);n!=null&&g(e,["fileName"],n);const r=p(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>SCe(s))),g(e,["inlinedResponses"],i)}return e}function q0(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata","displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["metadata","state"]);i!=null&&g(e,["state"],Q7(i));const s=p(t,["metadata","createTime"]);s!=null&&g(e,["createTime"],s);const o=p(t,["metadata","endTime"]);o!=null&&g(e,["endTime"],o);const l=p(t,["metadata","updateTime"]);l!=null&&g(e,["updateTime"],l);const u=p(t,["metadata","model"]);u!=null&&g(e,["model"],u);const d=p(t,["metadata","output"]);return d!=null&&g(e,["dest"],ACe(d)),e}function CCe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>q0(o))),g(e,["batchJobs"],s)}return e}function ICe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const s=p(t,["error"]);return s!=null&&g(e,["error"],eK(s)),e}function tK(t){const e={},n=p(t,["details"]);n!=null&&g(e,["details"],n);const r=p(t,["code"]);r!=null&&g(e,["code"],r);const i=p(t,["message"]);return i!=null&&g(e,["message"],i),e}function RCe(t){const e={},n=p(t,["instancesFormat"]);n!=null&&g(e,["format"],n);const r=p(t,["gcsSource","uris"]);r!=null&&g(e,["gcsUri"],r);const i=p(t,["bigquerySource","inputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function PCe(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&g(e,["format"],n);const r=p(t,["gcsDestination","outputUriPrefix"]);r!=null&&g(e,["gcsUri"],r);const i=p(t,["bigqueryDestination","outputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function vC(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["state"]);i!=null&&g(e,["state"],Q7(i));const s=p(t,["error"]);s!=null&&g(e,["error"],tK(s));const o=p(t,["createTime"]);o!=null&&g(e,["createTime"],o);const l=p(t,["startTime"]);l!=null&&g(e,["startTime"],l);const u=p(t,["endTime"]);u!=null&&g(e,["endTime"],u);const d=p(t,["updateTime"]);d!=null&&g(e,["updateTime"],d);const f=p(t,["model"]);f!=null&&g(e,["model"],f);const m=p(t,["inputConfig"]);m!=null&&g(e,["src"],RCe(m));const v=p(t,["outputConfig"]);return v!=null&&g(e,["dest"],PCe(v)),e}function NCe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>vC(o))),g(e,["batchJobs"],s)}return e}function MCe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const s=p(t,["error"]);return s!=null&&g(e,["error"],tK(s)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var qc;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(qc||(qc={}));class Ty{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(s=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:()=>P(this,null,function*(){if(this.idxInternal>=this.pageLength)if(this.hasNextPage())yield this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}}),return:()=>P(this,null,function*(){return{value:void 0,done:!0}})}}nextPage(){return P(this,null,function*(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=yield this.requestInternal(this.params);return this.initNextPage(e),this.page})}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DCe extends Xc{constructor(e){super(),this.apiClient=e,this.create=n=>P(this,null,function*(){var r,i;if(this.apiClient.isVertexAI()){const o=Date.now().toString();if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_${timestampStr}"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_${o}`;else throw new Error("Unsupported source:"+n.src)}else if(Array.isArray(n.src)||typeof n.src!="string"&&n.src.inlinedRequests){let s="",o={};const l=FF(this.apiClient,n);s=ze("{model}:batchGenerateContent",l._url),o=l._query;const f=l.batch.inputConfig.requests,m=f.requests,v=[];for(const T of m){const S=T;if(S.systemInstruction){const A=S.systemInstruction;delete S.systemInstruction;const C=S.request;C.systemInstruction=A,S.request=C}v.push(S)}return f.requests=v,delete l.config,delete l._url,delete l._query,this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(T=>T.json()).then(T=>q0(T))}return yield this.createInternal(n)}),this.list=(...r)=>P(this,[...r],function*(n={}){return new Ty(qc.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),yield this.listInternal(n),n)})}createInternal(e){return P(this,null,function*(){var n,r,i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=uCe(this.apiClient,e);return l=ze("batchPredictionJobs",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>vC(f))}else{const d=FF(this.apiClient,e);return l=ze("{model}:batchGenerateContent",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),o.then(f=>q0(f))}})}get(e){return P(this,null,function*(){var n,r,i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=cCe(this.apiClient,e);return l=ze("batchPredictionJobs/{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>vC(f))}else{const d=tCe(this.apiClient,e);return l=ze("batches/{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),o.then(f=>q0(f))}})}cancel(e){return P(this,null,function*(){var n,r,i,s;let o="",l={};if(this.apiClient.isVertexAI()){const u=dCe(this.apiClient,e);o=ze("batchPredictionJobs/{name}:cancel",u._url),l=u._query,delete u.config,delete u._url,delete u._query,yield this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const u=nCe(this.apiClient,e);o=ze("batches/{name}:cancel",u._url),l=u._query,delete u.config,delete u._url,delete u._query,yield this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}})}listInternal(e){return P(this,null,function*(){var n,r,i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=hCe(e);return l=ze("batchPredictionJobs",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),o.then(f=>{const m=NCe(f),v=new OF;return Object.assign(v,m),v})}else{const d=iCe(e);return l=ze("batches",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),o.then(f=>{const m=CCe(f),v=new OF;return Object.assign(v,m),v})}})}delete(e){return P(this,null,function*(){var n,r,i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=mCe(this.apiClient,e);return l=ze("batchPredictionJobs/{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),o.then(f=>MCe(f))}else{const d=sCe(this.apiClient,e);return l=ze("batches/{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),o.then(f=>ICe(f))}})}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kCe(t){const e={},n=p(t,["fps"]);n!=null&&g(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&g(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&g(e,["startOffset"],i),e}function OCe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&g(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function VCe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function LCe(t){const e={},n=p(t,["videoMetadata"]);n!=null&&g(e,["videoMetadata"],kCe(n));const r=p(t,["thought"]);r!=null&&g(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&g(e,["inlineData"],OCe(i));const s=p(t,["fileData"]);s!=null&&g(e,["fileData"],VCe(s));const o=p(t,["thoughtSignature"]);o!=null&&g(e,["thoughtSignature"],o);const l=p(t,["codeExecutionResult"]);l!=null&&g(e,["codeExecutionResult"],l);const u=p(t,["executableCode"]);u!=null&&g(e,["executableCode"],u);const d=p(t,["functionCall"]);d!=null&&g(e,["functionCall"],d);const f=p(t,["functionResponse"]);f!=null&&g(e,["functionResponse"],f);const m=p(t,["text"]);return m!=null&&g(e,["text"],m),e}function jF(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>LCe(s))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function UCe(t){const e={},n=p(t,["behavior"]);n!=null&&g(e,["behavior"],n);const r=p(t,["description"]);r!=null&&g(e,["description"],r);const i=p(t,["name"]);i!=null&&g(e,["name"],i);const s=p(t,["parameters"]);s!=null&&g(e,["parameters"],s);const o=p(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const l=p(t,["response"]);l!=null&&g(e,["response"],l);const u=p(t,["responseJsonSchema"]);return u!=null&&g(e,["responseJsonSchema"],u),e}function FCe(t){const e={},n=p(t,["startTime"]);n!=null&&g(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&g(e,["endTime"],r),e}function jCe(t){const e={},n=p(t,["timeRangeFilter"]);if(n!=null&&g(e,["timeRangeFilter"],FCe(n)),p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function BCe(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&g(e,["dynamicThreshold"],r),e}function qCe(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&g(e,["dynamicRetrievalConfig"],BCe(n)),e}function zCe(){return{}}function $Ce(t){const e={},n=p(t,["environment"]);return n!=null&&g(e,["environment"],n),e}function GCe(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(d=>UCe(d))),g(e,["functionDeclarations"],u)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearch"]);r!=null&&g(e,["googleSearch"],jCe(r));const i=p(t,["googleSearchRetrieval"]);if(i!=null&&g(e,["googleSearchRetrieval"],qCe(i)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&g(e,["urlContext"],zCe());const o=p(t,["computerUse"]);o!=null&&g(e,["computerUse"],$Ce(o));const l=p(t,["codeExecution"]);return l!=null&&g(e,["codeExecution"],l),e}function HCe(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);return r!=null&&g(e,["allowedFunctionNames"],r),e}function KCe(t){const e={},n=p(t,["latitude"]);n!=null&&g(e,["latitude"],n);const r=p(t,["longitude"]);return r!=null&&g(e,["longitude"],r),e}function WCe(t){const e={},n=p(t,["latLng"]);n!=null&&g(e,["latLng"],KCe(n));const r=p(t,["languageCode"]);return r!=null&&g(e,["languageCode"],r),e}function YCe(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],HCe(n));const r=p(t,["retrievalConfig"]);return r!=null&&g(e,["retrievalConfig"],WCe(r)),e}function JCe(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const s=p(t,["displayName"]);e!==void 0&&s!=null&&g(e,["displayName"],s);const o=p(t,["contents"]);if(e!==void 0&&o!=null){let f=ds(o);Array.isArray(f)&&(f=f.map(m=>jF(m))),g(e,["contents"],f)}const l=p(t,["systemInstruction"]);e!==void 0&&l!=null&&g(e,["systemInstruction"],jF(qr(l)));const u=p(t,["tools"]);if(e!==void 0&&u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>GCe(m))),g(e,["tools"],f)}const d=p(t,["toolConfig"]);if(e!==void 0&&d!=null&&g(e,["toolConfig"],YCe(d)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function QCe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],j7(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],JCe(i,n)),n}function XCe(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],Ra(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],i),n}function ZCe(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],Ra(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],i),n}function eIe(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function tIe(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],Ra(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],eIe(i,n)),n}function nIe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function rIe(t){const e={},n=p(t,["config"]);return n!=null&&g(e,["config"],nIe(n,e)),e}function iIe(t){const e={},n=p(t,["fps"]);n!=null&&g(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&g(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&g(e,["startOffset"],i),e}function sIe(t){const e={},n=p(t,["displayName"]);n!=null&&g(e,["displayName"],n);const r=p(t,["data"]);r!=null&&g(e,["data"],r);const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function oIe(t){const e={},n=p(t,["displayName"]);n!=null&&g(e,["displayName"],n);const r=p(t,["fileUri"]);r!=null&&g(e,["fileUri"],r);const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function aIe(t){const e={},n=p(t,["videoMetadata"]);n!=null&&g(e,["videoMetadata"],iIe(n));const r=p(t,["thought"]);r!=null&&g(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&g(e,["inlineData"],sIe(i));const s=p(t,["fileData"]);s!=null&&g(e,["fileData"],oIe(s));const o=p(t,["thoughtSignature"]);o!=null&&g(e,["thoughtSignature"],o);const l=p(t,["codeExecutionResult"]);l!=null&&g(e,["codeExecutionResult"],l);const u=p(t,["executableCode"]);u!=null&&g(e,["executableCode"],u);const d=p(t,["functionCall"]);d!=null&&g(e,["functionCall"],d);const f=p(t,["functionResponse"]);f!=null&&g(e,["functionResponse"],f);const m=p(t,["text"]);return m!=null&&g(e,["text"],m),e}function BF(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>aIe(s))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function lIe(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const s=p(t,["parametersJsonSchema"]);s!=null&&g(e,["parametersJsonSchema"],s);const o=p(t,["response"]);o!=null&&g(e,["response"],o);const l=p(t,["responseJsonSchema"]);return l!=null&&g(e,["responseJsonSchema"],l),e}function uIe(t){const e={},n=p(t,["startTime"]);n!=null&&g(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&g(e,["endTime"],r),e}function cIe(t){const e={},n=p(t,["timeRangeFilter"]);n!=null&&g(e,["timeRangeFilter"],uIe(n));const r=p(t,["excludeDomains"]);return r!=null&&g(e,["excludeDomains"],r),e}function dIe(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&g(e,["dynamicThreshold"],r),e}function fIe(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&g(e,["dynamicRetrievalConfig"],dIe(n)),e}function hIe(t){const e={},n=p(t,["excludeDomains"]);return n!=null&&g(e,["excludeDomains"],n),e}function mIe(t){const e={},n=p(t,["apiKeyString"]);return n!=null&&g(e,["apiKeyString"],n),e}function pIe(t){const e={},n=p(t,["apiKeyConfig"]);n!=null&&g(e,["apiKeyConfig"],mIe(n));const r=p(t,["authType"]);r!=null&&g(e,["authType"],r);const i=p(t,["googleServiceAccountConfig"]);i!=null&&g(e,["googleServiceAccountConfig"],i);const s=p(t,["httpBasicAuthConfig"]);s!=null&&g(e,["httpBasicAuthConfig"],s);const o=p(t,["oauthConfig"]);o!=null&&g(e,["oauthConfig"],o);const l=p(t,["oidcConfig"]);return l!=null&&g(e,["oidcConfig"],l),e}function gIe(t){const e={},n=p(t,["authConfig"]);return n!=null&&g(e,["authConfig"],pIe(n)),e}function yIe(){return{}}function vIe(t){const e={},n=p(t,["environment"]);return n!=null&&g(e,["environment"],n),e}function xIe(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>lIe(v))),g(e,["functionDeclarations"],m)}const r=p(t,["retrieval"]);r!=null&&g(e,["retrieval"],r);const i=p(t,["googleSearch"]);i!=null&&g(e,["googleSearch"],cIe(i));const s=p(t,["googleSearchRetrieval"]);s!=null&&g(e,["googleSearchRetrieval"],fIe(s));const o=p(t,["enterpriseWebSearch"]);o!=null&&g(e,["enterpriseWebSearch"],hIe(o));const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],gIe(l)),p(t,["urlContext"])!=null&&g(e,["urlContext"],yIe());const d=p(t,["computerUse"]);d!=null&&g(e,["computerUse"],vIe(d));const f=p(t,["codeExecution"]);return f!=null&&g(e,["codeExecution"],f),e}function bIe(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);return r!=null&&g(e,["allowedFunctionNames"],r),e}function wIe(t){const e={},n=p(t,["latitude"]);n!=null&&g(e,["latitude"],n);const r=p(t,["longitude"]);return r!=null&&g(e,["longitude"],r),e}function _Ie(t){const e={},n=p(t,["latLng"]);n!=null&&g(e,["latLng"],wIe(n));const r=p(t,["languageCode"]);return r!=null&&g(e,["languageCode"],r),e}function TIe(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],bIe(n));const r=p(t,["retrievalConfig"]);return r!=null&&g(e,["retrievalConfig"],_Ie(r)),e}function EIe(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const s=p(t,["displayName"]);e!==void 0&&s!=null&&g(e,["displayName"],s);const o=p(t,["contents"]);if(e!==void 0&&o!=null){let m=ds(o);Array.isArray(m)&&(m=m.map(v=>BF(v))),g(e,["contents"],m)}const l=p(t,["systemInstruction"]);e!==void 0&&l!=null&&g(e,["systemInstruction"],BF(qr(l)));const u=p(t,["tools"]);if(e!==void 0&&u!=null){let m=u;Array.isArray(m)&&(m=m.map(v=>xIe(v))),g(e,["tools"],m)}const d=p(t,["toolConfig"]);e!==void 0&&d!=null&&g(e,["toolConfig"],TIe(d));const f=p(t,["kmsKeyName"]);return e!==void 0&&f!=null&&g(e,["encryption_spec","kmsKeyName"],f),n}function SIe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],j7(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],EIe(i,n)),n}function AIe(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],Ra(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],i),n}function CIe(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],Ra(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],i),n}function IIe(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function RIe(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],Ra(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],IIe(i,n)),n}function PIe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function NIe(t){const e={},n=p(t,["config"]);return n!=null&&g(e,["config"],PIe(n,e)),e}function z0(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["model"]);i!=null&&g(e,["model"],i);const s=p(t,["createTime"]);s!=null&&g(e,["createTime"],s);const o=p(t,["updateTime"]);o!=null&&g(e,["updateTime"],o);const l=p(t,["expireTime"]);l!=null&&g(e,["expireTime"],l);const u=p(t,["usageMetadata"]);return u!=null&&g(e,["usageMetadata"],u),e}function MIe(){return{}}function DIe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>z0(o))),g(e,["cachedContents"],s)}return e}function $0(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["model"]);i!=null&&g(e,["model"],i);const s=p(t,["createTime"]);s!=null&&g(e,["createTime"],s);const o=p(t,["updateTime"]);o!=null&&g(e,["updateTime"],o);const l=p(t,["expireTime"]);l!=null&&g(e,["expireTime"],l);const u=p(t,["usageMetadata"]);return u!=null&&g(e,["usageMetadata"],u),e}function kIe(){return{}}function OIe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>$0(o))),g(e,["cachedContents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VIe extends Xc{constructor(e){super(),this.apiClient=e,this.list=(...r)=>P(this,[...r],function*(n={}){return new Ty(qc.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),yield this.listInternal(n),n)})}create(e){return P(this,null,function*(){var n,r,i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=SIe(this.apiClient,e);return l=ze("cachedContents",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>$0(f))}else{const d=QCe(this.apiClient,e);return l=ze("cachedContents",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),o.then(f=>z0(f))}})}get(e){return P(this,null,function*(){var n,r,i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=AIe(this.apiClient,e);return l=ze("{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>$0(f))}else{const d=XCe(this.apiClient,e);return l=ze("{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),o.then(f=>z0(f))}})}delete(e){return P(this,null,function*(){var n,r,i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=CIe(this.apiClient,e);return l=ze("{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(()=>{const f=kIe(),m=new DF;return Object.assign(m,f),m})}else{const d=ZCe(this.apiClient,e);return l=ze("{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),o.then(()=>{const f=MIe(),m=new DF;return Object.assign(m,f),m})}})}update(e){return P(this,null,function*(){var n,r,i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=RIe(this.apiClient,e);return l=ze("{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>$0(f))}else{const d=tIe(this.apiClient,e);return l=ze("{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),o.then(f=>z0(f))}})}listInternal(e){return P(this,null,function*(){var n,r,i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=NIe(e);return l=ze("cachedContents",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),o.then(f=>{const m=OIe(f),v=new kF;return Object.assign(v,m),v})}else{const d=rIe(e);return l=ze("cachedContents",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),o.then(f=>{const m=DIe(f),v=new kF;return Object.assign(v,m),v})}})}}function qF(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function en(t){return this instanceof en?(this.v=t,this):new en(t)}function Mf(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(b){return function(T){return Promise.resolve(T).then(b,m)}}function l(b,T){r[b]&&(i[b]=function(S){return new Promise(function(A,C){s.push([b,S,A,C])>1||u(b,S)})},T&&(i[b]=T(i[b])))}function u(b,T){try{d(r[b](T))}catch(S){v(s[0][3],S)}}function d(b){b.value instanceof en?Promise.resolve(b.value.v).then(f,m):v(s[0][2],b)}function f(b){u("next",b)}function m(b){u("throw",b)}function v(b,T){b(T),s.shift(),s.length&&u(s[0][0],s[0][1])}}function Qp(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof qF=="function"?qF(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(l,u){o=t[s](o),i(l,u,o.done,o.value)})}}function i(s,o,l,u){Promise.resolve(u).then(function(d){s({value:d,done:l})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LIe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:nK(n)}function nK(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function UIe(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function zF(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let s=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),s&&!nK(t[r])&&(s=!1),r++;s?e.push(...i):e.pop()}return e}class FIe{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new jIe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class jIe{constructor(e,n,r,i={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),UIe(s)}sendMessage(e){return P(this,null,function*(){var n;yield this.sendPromise;const r=qr(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=P(this,null,function*(){var s,o,l;const u=yield i,d=(o=(s=u.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content,f=u.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let v=[];f!=null&&(v=(l=f.slice(m))!==null&&l!==void 0?l:[]);const b=d?[d]:[];this.recordHistory(r,b,v)}),yield this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i})}sendMessageStream(e){return P(this,null,function*(){var n;yield this.sendPromise;const r=qr(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=yield i;return this.processStreamResponse(s,r)})}getHistory(e=!1){const n=e?zF(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return Mf(this,arguments,function*(){var o,l,u,d;const f=[];try{for(var m=!0,v=Qp(e),b;b=yield en(v.next()),o=b.done,!o;m=!0){d=b.value,m=!1;const T=d;if(LIe(T)){const S=(i=(r=T.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;S!==void 0&&f.push(S)}yield yield en(T)}}catch(T){l={error:T}}finally{try{!m&&!o&&(u=v.return)&&(yield en(u.call(v)))}finally{if(l)throw l.error}}this.recordHistory(n,f)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(s=>s.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...zF(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Aw extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Aw.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BIe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function qIe(t){const e={},n=p(t,["config"]);return n!=null&&g(e,["config"],BIe(n,e)),e}function zIe(t){const e={},n=p(t,["details"]);n!=null&&g(e,["details"],n);const r=p(t,["message"]);r!=null&&g(e,["message"],r);const i=p(t,["code"]);return i!=null&&g(e,["code"],i),e}function $Ie(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["mimeType"]);i!=null&&g(e,["mimeType"],i);const s=p(t,["sizeBytes"]);s!=null&&g(e,["sizeBytes"],s);const o=p(t,["createTime"]);o!=null&&g(e,["createTime"],o);const l=p(t,["expirationTime"]);l!=null&&g(e,["expirationTime"],l);const u=p(t,["updateTime"]);u!=null&&g(e,["updateTime"],u);const d=p(t,["sha256Hash"]);d!=null&&g(e,["sha256Hash"],d);const f=p(t,["uri"]);f!=null&&g(e,["uri"],f);const m=p(t,["downloadUri"]);m!=null&&g(e,["downloadUri"],m);const v=p(t,["state"]);v!=null&&g(e,["state"],v);const b=p(t,["source"]);b!=null&&g(e,["source"],b);const T=p(t,["videoMetadata"]);T!=null&&g(e,["videoMetadata"],T);const S=p(t,["error"]);return S!=null&&g(e,["error"],zIe(S)),e}function GIe(t){const e={},n=p(t,["file"]);n!=null&&g(e,["file"],$Ie(n));const r=p(t,["config"]);return r!=null&&g(e,["config"],r),e}function HIe(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","file"],K7(n));const r=p(t,["config"]);return r!=null&&g(e,["config"],r),e}function KIe(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","file"],K7(n));const r=p(t,["config"]);return r!=null&&g(e,["config"],r),e}function WIe(t){const e={},n=p(t,["details"]);n!=null&&g(e,["details"],n);const r=p(t,["message"]);r!=null&&g(e,["message"],r);const i=p(t,["code"]);return i!=null&&g(e,["code"],i),e}function xC(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["mimeType"]);i!=null&&g(e,["mimeType"],i);const s=p(t,["sizeBytes"]);s!=null&&g(e,["sizeBytes"],s);const o=p(t,["createTime"]);o!=null&&g(e,["createTime"],o);const l=p(t,["expirationTime"]);l!=null&&g(e,["expirationTime"],l);const u=p(t,["updateTime"]);u!=null&&g(e,["updateTime"],u);const d=p(t,["sha256Hash"]);d!=null&&g(e,["sha256Hash"],d);const f=p(t,["uri"]);f!=null&&g(e,["uri"],f);const m=p(t,["downloadUri"]);m!=null&&g(e,["downloadUri"],m);const v=p(t,["state"]);v!=null&&g(e,["state"],v);const b=p(t,["source"]);b!=null&&g(e,["source"],b);const T=p(t,["videoMetadata"]);T!=null&&g(e,["videoMetadata"],T);const S=p(t,["error"]);return S!=null&&g(e,["error"],WIe(S)),e}function YIe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>xC(o))),g(e,["files"],s)}return e}function JIe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function QIe(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XIe extends Xc{constructor(e){super(),this.apiClient=e,this.list=(...r)=>P(this,[...r],function*(n={}){return new Ty(qc.PAGED_ITEM_FILES,i=>this.listInternal(i),yield this.listInternal(n),n)})}upload(e){return P(this,null,function*(){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>xC(n))})}download(e){return P(this,null,function*(){yield this.apiClient.downloadFile(e)})}listInternal(e){return P(this,null,function*(){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=qIe(e);return s=ze("files",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const d=YIe(u),f=new m1e;return Object.assign(f,d),f})}})}createInternal(e){return P(this,null,function*(){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=GIe(e);return s=ze("upload/v1beta/files",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=JIe(u),f=new p1e;return Object.assign(f,d),f})}})}get(e){return P(this,null,function*(){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=HIe(e);return s=ze("files/{file}",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>xC(u))}})}delete(e){return P(this,null,function*(){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=KIe(e);return s=ze("files/{file}",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(()=>{const u=QIe(),d=new g1e;return Object.assign(d,u),d})}})}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZIe(t){const e={},n=p(t,["voiceName"]);return n!=null&&g(e,["voiceName"],n),e}function rK(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&g(e,["prebuiltVoiceConfig"],ZIe(n)),e}function eRe(t){const e={},n=p(t,["speaker"]);n!=null&&g(e,["speaker"],n);const r=p(t,["voiceConfig"]);return r!=null&&g(e,["voiceConfig"],rK(r)),e}function tRe(t){const e={},n=p(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>eRe(i))),g(e,["speakerVoiceConfigs"],r)}return e}function nRe(t){const e={},n=p(t,["voiceConfig"]);n!=null&&g(e,["voiceConfig"],rK(n));const r=p(t,["multiSpeakerVoiceConfig"]);r!=null&&g(e,["multiSpeakerVoiceConfig"],tRe(r));const i=p(t,["languageCode"]);return i!=null&&g(e,["languageCode"],i),e}function rRe(t){const e={},n=p(t,["fps"]);n!=null&&g(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&g(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&g(e,["startOffset"],i),e}function iRe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&g(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function sRe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function oRe(t){const e={},n=p(t,["videoMetadata"]);n!=null&&g(e,["videoMetadata"],rRe(n));const r=p(t,["thought"]);r!=null&&g(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&g(e,["inlineData"],iRe(i));const s=p(t,["fileData"]);s!=null&&g(e,["fileData"],sRe(s));const o=p(t,["thoughtSignature"]);o!=null&&g(e,["thoughtSignature"],o);const l=p(t,["codeExecutionResult"]);l!=null&&g(e,["codeExecutionResult"],l);const u=p(t,["executableCode"]);u!=null&&g(e,["executableCode"],u);const d=p(t,["functionCall"]);d!=null&&g(e,["functionCall"],d);const f=p(t,["functionResponse"]);f!=null&&g(e,["functionResponse"],f);const m=p(t,["text"]);return m!=null&&g(e,["text"],m),e}function aRe(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>oRe(s))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function lRe(t){const e={},n=p(t,["behavior"]);n!=null&&g(e,["behavior"],n);const r=p(t,["description"]);r!=null&&g(e,["description"],r);const i=p(t,["name"]);i!=null&&g(e,["name"],i);const s=p(t,["parameters"]);s!=null&&g(e,["parameters"],s);const o=p(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const l=p(t,["response"]);l!=null&&g(e,["response"],l);const u=p(t,["responseJsonSchema"]);return u!=null&&g(e,["responseJsonSchema"],u),e}function uRe(t){const e={},n=p(t,["startTime"]);n!=null&&g(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&g(e,["endTime"],r),e}function cRe(t){const e={},n=p(t,["timeRangeFilter"]);if(n!=null&&g(e,["timeRangeFilter"],uRe(n)),p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function dRe(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&g(e,["dynamicThreshold"],r),e}function fRe(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&g(e,["dynamicRetrievalConfig"],dRe(n)),e}function hRe(){return{}}function mRe(t){const e={},n=p(t,["environment"]);return n!=null&&g(e,["environment"],n),e}function pRe(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(d=>lRe(d))),g(e,["functionDeclarations"],u)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearch"]);r!=null&&g(e,["googleSearch"],cRe(r));const i=p(t,["googleSearchRetrieval"]);if(i!=null&&g(e,["googleSearchRetrieval"],fRe(i)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&g(e,["urlContext"],hRe());const o=p(t,["computerUse"]);o!=null&&g(e,["computerUse"],mRe(o));const l=p(t,["codeExecution"]);return l!=null&&g(e,["codeExecution"],l),e}function gRe(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function $F(){return{}}function yRe(t){const e={},n=p(t,["disabled"]);n!=null&&g(e,["disabled"],n);const r=p(t,["startOfSpeechSensitivity"]);r!=null&&g(e,["startOfSpeechSensitivity"],r);const i=p(t,["endOfSpeechSensitivity"]);i!=null&&g(e,["endOfSpeechSensitivity"],i);const s=p(t,["prefixPaddingMs"]);s!=null&&g(e,["prefixPaddingMs"],s);const o=p(t,["silenceDurationMs"]);return o!=null&&g(e,["silenceDurationMs"],o),e}function vRe(t){const e={},n=p(t,["automaticActivityDetection"]);n!=null&&g(e,["automaticActivityDetection"],yRe(n));const r=p(t,["activityHandling"]);r!=null&&g(e,["activityHandling"],r);const i=p(t,["turnCoverage"]);return i!=null&&g(e,["turnCoverage"],i),e}function xRe(t){const e={},n=p(t,["targetTokens"]);return n!=null&&g(e,["targetTokens"],n),e}function bRe(t){const e={},n=p(t,["triggerTokens"]);n!=null&&g(e,["triggerTokens"],n);const r=p(t,["slidingWindow"]);return r!=null&&g(e,["slidingWindow"],xRe(r)),e}function wRe(t){const e={},n=p(t,["proactiveAudio"]);return n!=null&&g(e,["proactiveAudio"],n),e}function _Re(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const s=p(t,["temperature"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","temperature"],s);const o=p(t,["topP"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","topP"],o);const l=p(t,["topK"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topK"],l);const u=p(t,["maxOutputTokens"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","maxOutputTokens"],u);const d=p(t,["mediaResolution"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","mediaResolution"],d);const f=p(t,["seed"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","seed"],f);const m=p(t,["speechConfig"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","speechConfig"],nRe(VN(m)));const v=p(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],v);const b=p(t,["systemInstruction"]);e!==void 0&&b!=null&&g(e,["setup","systemInstruction"],aRe(qr(b)));const T=p(t,["tools"]);if(e!==void 0&&T!=null){let V=qh(T);Array.isArray(V)&&(V=V.map(B=>pRe(Bh(B)))),g(e,["setup","tools"],V)}const S=p(t,["sessionResumption"]);e!==void 0&&S!=null&&g(e,["setup","sessionResumption"],gRe(S));const A=p(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&g(e,["setup","inputAudioTranscription"],$F());const C=p(t,["outputAudioTranscription"]);e!==void 0&&C!=null&&g(e,["setup","outputAudioTranscription"],$F());const D=p(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&g(e,["setup","realtimeInputConfig"],vRe(D));const N=p(t,["contextWindowCompression"]);e!==void 0&&N!=null&&g(e,["setup","contextWindowCompression"],bRe(N));const F=p(t,["proactivity"]);return e!==void 0&&F!=null&&g(e,["setup","proactivity"],wRe(F)),n}function TRe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],Nt(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],_Re(i,n)),n}function ERe(){return{}}function SRe(){return{}}function ARe(t){const e={},n=p(t,["media"]);n!=null&&g(e,["mediaChunks"],B7(n));const r=p(t,["audio"]);r!=null&&g(e,["audio"],z7(r));const i=p(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const s=p(t,["video"]);s!=null&&g(e,["video"],q7(s));const o=p(t,["text"]);return o!=null&&g(e,["text"],o),p(t,["activityStart"])!=null&&g(e,["activityStart"],ERe()),p(t,["activityEnd"])!=null&&g(e,["activityEnd"],SRe()),e}function iK(t){const e={},n=p(t,["text"]);n!=null&&g(e,["text"],n);const r=p(t,["weight"]);return r!=null&&g(e,["weight"],r),e}function CRe(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>iK(i))),g(e,["weightedPrompts"],r)}return e}function sK(t){const e={},n=p(t,["temperature"]);n!=null&&g(e,["temperature"],n);const r=p(t,["topK"]);r!=null&&g(e,["topK"],r);const i=p(t,["seed"]);i!=null&&g(e,["seed"],i);const s=p(t,["guidance"]);s!=null&&g(e,["guidance"],s);const o=p(t,["bpm"]);o!=null&&g(e,["bpm"],o);const l=p(t,["density"]);l!=null&&g(e,["density"],l);const u=p(t,["brightness"]);u!=null&&g(e,["brightness"],u);const d=p(t,["scale"]);d!=null&&g(e,["scale"],d);const f=p(t,["muteBass"]);f!=null&&g(e,["muteBass"],f);const m=p(t,["muteDrums"]);m!=null&&g(e,["muteDrums"],m);const v=p(t,["onlyBassAndDrums"]);v!=null&&g(e,["onlyBassAndDrums"],v);const b=p(t,["musicGenerationMode"]);return b!=null&&g(e,["musicGenerationMode"],b),e}function IRe(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&g(e,["musicGenerationConfig"],sK(n)),e}function oK(t){const e={},n=p(t,["model"]);return n!=null&&g(e,["model"],n),e}function aK(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>iK(i))),g(e,["weightedPrompts"],r)}return e}function bC(t){const e={},n=p(t,["setup"]);n!=null&&g(e,["setup"],oK(n));const r=p(t,["clientContent"]);r!=null&&g(e,["clientContent"],aK(r));const i=p(t,["musicGenerationConfig"]);i!=null&&g(e,["musicGenerationConfig"],sK(i));const s=p(t,["playbackControl"]);return s!=null&&g(e,["playbackControl"],s),e}function RRe(t){const e={},n=p(t,["voiceName"]);return n!=null&&g(e,["voiceName"],n),e}function PRe(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&g(e,["prebuiltVoiceConfig"],RRe(n)),e}function NRe(t){const e={},n=p(t,["voiceConfig"]);if(n!=null&&g(e,["voiceConfig"],PRe(n)),p(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=p(t,["languageCode"]);return r!=null&&g(e,["languageCode"],r),e}function MRe(t){const e={},n=p(t,["fps"]);n!=null&&g(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&g(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&g(e,["startOffset"],i),e}function DRe(t){const e={},n=p(t,["displayName"]);n!=null&&g(e,["displayName"],n);const r=p(t,["data"]);r!=null&&g(e,["data"],r);const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function kRe(t){const e={},n=p(t,["displayName"]);n!=null&&g(e,["displayName"],n);const r=p(t,["fileUri"]);r!=null&&g(e,["fileUri"],r);const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function ORe(t){const e={},n=p(t,["videoMetadata"]);n!=null&&g(e,["videoMetadata"],MRe(n));const r=p(t,["thought"]);r!=null&&g(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&g(e,["inlineData"],DRe(i));const s=p(t,["fileData"]);s!=null&&g(e,["fileData"],kRe(s));const o=p(t,["thoughtSignature"]);o!=null&&g(e,["thoughtSignature"],o);const l=p(t,["codeExecutionResult"]);l!=null&&g(e,["codeExecutionResult"],l);const u=p(t,["executableCode"]);u!=null&&g(e,["executableCode"],u);const d=p(t,["functionCall"]);d!=null&&g(e,["functionCall"],d);const f=p(t,["functionResponse"]);f!=null&&g(e,["functionResponse"],f);const m=p(t,["text"]);return m!=null&&g(e,["text"],m),e}function VRe(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>ORe(s))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function LRe(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const s=p(t,["parametersJsonSchema"]);s!=null&&g(e,["parametersJsonSchema"],s);const o=p(t,["response"]);o!=null&&g(e,["response"],o);const l=p(t,["responseJsonSchema"]);return l!=null&&g(e,["responseJsonSchema"],l),e}function URe(t){const e={},n=p(t,["startTime"]);n!=null&&g(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&g(e,["endTime"],r),e}function FRe(t){const e={},n=p(t,["timeRangeFilter"]);n!=null&&g(e,["timeRangeFilter"],URe(n));const r=p(t,["excludeDomains"]);return r!=null&&g(e,["excludeDomains"],r),e}function jRe(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&g(e,["dynamicThreshold"],r),e}function BRe(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&g(e,["dynamicRetrievalConfig"],jRe(n)),e}function qRe(t){const e={},n=p(t,["excludeDomains"]);return n!=null&&g(e,["excludeDomains"],n),e}function zRe(t){const e={},n=p(t,["apiKeyString"]);return n!=null&&g(e,["apiKeyString"],n),e}function $Re(t){const e={},n=p(t,["apiKeyConfig"]);n!=null&&g(e,["apiKeyConfig"],zRe(n));const r=p(t,["authType"]);r!=null&&g(e,["authType"],r);const i=p(t,["googleServiceAccountConfig"]);i!=null&&g(e,["googleServiceAccountConfig"],i);const s=p(t,["httpBasicAuthConfig"]);s!=null&&g(e,["httpBasicAuthConfig"],s);const o=p(t,["oauthConfig"]);o!=null&&g(e,["oauthConfig"],o);const l=p(t,["oidcConfig"]);return l!=null&&g(e,["oidcConfig"],l),e}function GRe(t){const e={},n=p(t,["authConfig"]);return n!=null&&g(e,["authConfig"],$Re(n)),e}function HRe(){return{}}function KRe(t){const e={},n=p(t,["environment"]);return n!=null&&g(e,["environment"],n),e}function WRe(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>LRe(v))),g(e,["functionDeclarations"],m)}const r=p(t,["retrieval"]);r!=null&&g(e,["retrieval"],r);const i=p(t,["googleSearch"]);i!=null&&g(e,["googleSearch"],FRe(i));const s=p(t,["googleSearchRetrieval"]);s!=null&&g(e,["googleSearchRetrieval"],BRe(s));const o=p(t,["enterpriseWebSearch"]);o!=null&&g(e,["enterpriseWebSearch"],qRe(o));const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],GRe(l)),p(t,["urlContext"])!=null&&g(e,["urlContext"],HRe());const d=p(t,["computerUse"]);d!=null&&g(e,["computerUse"],KRe(d));const f=p(t,["codeExecution"]);return f!=null&&g(e,["codeExecution"],f),e}function YRe(t){const e={},n=p(t,["handle"]);n!=null&&g(e,["handle"],n);const r=p(t,["transparent"]);return r!=null&&g(e,["transparent"],r),e}function GF(){return{}}function JRe(t){const e={},n=p(t,["disabled"]);n!=null&&g(e,["disabled"],n);const r=p(t,["startOfSpeechSensitivity"]);r!=null&&g(e,["startOfSpeechSensitivity"],r);const i=p(t,["endOfSpeechSensitivity"]);i!=null&&g(e,["endOfSpeechSensitivity"],i);const s=p(t,["prefixPaddingMs"]);s!=null&&g(e,["prefixPaddingMs"],s);const o=p(t,["silenceDurationMs"]);return o!=null&&g(e,["silenceDurationMs"],o),e}function QRe(t){const e={},n=p(t,["automaticActivityDetection"]);n!=null&&g(e,["automaticActivityDetection"],JRe(n));const r=p(t,["activityHandling"]);r!=null&&g(e,["activityHandling"],r);const i=p(t,["turnCoverage"]);return i!=null&&g(e,["turnCoverage"],i),e}function XRe(t){const e={},n=p(t,["targetTokens"]);return n!=null&&g(e,["targetTokens"],n),e}function ZRe(t){const e={},n=p(t,["triggerTokens"]);n!=null&&g(e,["triggerTokens"],n);const r=p(t,["slidingWindow"]);return r!=null&&g(e,["slidingWindow"],XRe(r)),e}function ePe(t){const e={},n=p(t,["proactiveAudio"]);return n!=null&&g(e,["proactiveAudio"],n),e}function tPe(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const s=p(t,["temperature"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","temperature"],s);const o=p(t,["topP"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","topP"],o);const l=p(t,["topK"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topK"],l);const u=p(t,["maxOutputTokens"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","maxOutputTokens"],u);const d=p(t,["mediaResolution"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","mediaResolution"],d);const f=p(t,["seed"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","seed"],f);const m=p(t,["speechConfig"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","speechConfig"],NRe(VN(m)));const v=p(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],v);const b=p(t,["systemInstruction"]);e!==void 0&&b!=null&&g(e,["setup","systemInstruction"],VRe(qr(b)));const T=p(t,["tools"]);if(e!==void 0&&T!=null){let V=qh(T);Array.isArray(V)&&(V=V.map(B=>WRe(Bh(B)))),g(e,["setup","tools"],V)}const S=p(t,["sessionResumption"]);e!==void 0&&S!=null&&g(e,["setup","sessionResumption"],YRe(S));const A=p(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&g(e,["setup","inputAudioTranscription"],GF());const C=p(t,["outputAudioTranscription"]);e!==void 0&&C!=null&&g(e,["setup","outputAudioTranscription"],GF());const D=p(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&g(e,["setup","realtimeInputConfig"],QRe(D));const N=p(t,["contextWindowCompression"]);e!==void 0&&N!=null&&g(e,["setup","contextWindowCompression"],ZRe(N));const F=p(t,["proactivity"]);return e!==void 0&&F!=null&&g(e,["setup","proactivity"],ePe(F)),n}function nPe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],Nt(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],tPe(i,n)),n}function rPe(){return{}}function iPe(){return{}}function sPe(t){const e={},n=p(t,["media"]);n!=null&&g(e,["mediaChunks"],B7(n));const r=p(t,["audio"]);r!=null&&g(e,["audio"],z7(r));const i=p(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const s=p(t,["video"]);s!=null&&g(e,["video"],q7(s));const o=p(t,["text"]);return o!=null&&g(e,["text"],o),p(t,["activityStart"])!=null&&g(e,["activityStart"],rPe()),p(t,["activityEnd"])!=null&&g(e,["activityEnd"],iPe()),e}function oPe(){return{}}function aPe(t){const e={},n=p(t,["fps"]);n!=null&&g(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&g(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&g(e,["startOffset"],i),e}function lPe(t){const e={},n=p(t,["data"]);n!=null&&g(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function uPe(t){const e={},n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function cPe(t){const e={},n=p(t,["videoMetadata"]);n!=null&&g(e,["videoMetadata"],aPe(n));const r=p(t,["thought"]);r!=null&&g(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&g(e,["inlineData"],lPe(i));const s=p(t,["fileData"]);s!=null&&g(e,["fileData"],uPe(s));const o=p(t,["thoughtSignature"]);o!=null&&g(e,["thoughtSignature"],o);const l=p(t,["codeExecutionResult"]);l!=null&&g(e,["codeExecutionResult"],l);const u=p(t,["executableCode"]);u!=null&&g(e,["executableCode"],u);const d=p(t,["functionCall"]);d!=null&&g(e,["functionCall"],d);const f=p(t,["functionResponse"]);f!=null&&g(e,["functionResponse"],f);const m=p(t,["text"]);return m!=null&&g(e,["text"],m),e}function dPe(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>cPe(s))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function HF(t){const e={},n=p(t,["text"]);n!=null&&g(e,["text"],n);const r=p(t,["finished"]);return r!=null&&g(e,["finished"],r),e}function fPe(t){const e={},n=p(t,["retrievedUrl"]);n!=null&&g(e,["retrievedUrl"],n);const r=p(t,["urlRetrievalStatus"]);return r!=null&&g(e,["urlRetrievalStatus"],r),e}function hPe(t){const e={},n=p(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>fPe(i))),g(e,["urlMetadata"],r)}return e}function mPe(t){const e={},n=p(t,["modelTurn"]);n!=null&&g(e,["modelTurn"],dPe(n));const r=p(t,["turnComplete"]);r!=null&&g(e,["turnComplete"],r);const i=p(t,["interrupted"]);i!=null&&g(e,["interrupted"],i);const s=p(t,["groundingMetadata"]);s!=null&&g(e,["groundingMetadata"],s);const o=p(t,["generationComplete"]);o!=null&&g(e,["generationComplete"],o);const l=p(t,["inputTranscription"]);l!=null&&g(e,["inputTranscription"],HF(l));const u=p(t,["outputTranscription"]);u!=null&&g(e,["outputTranscription"],HF(u));const d=p(t,["urlContextMetadata"]);return d!=null&&g(e,["urlContextMetadata"],hPe(d)),e}function pPe(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);return i!=null&&g(e,["name"],i),e}function gPe(t){const e={},n=p(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>pPe(i))),g(e,["functionCalls"],r)}return e}function yPe(t){const e={},n=p(t,["ids"]);return n!=null&&g(e,["ids"],n),e}function x0(t){const e={},n=p(t,["modality"]);n!=null&&g(e,["modality"],n);const r=p(t,["tokenCount"]);return r!=null&&g(e,["tokenCount"],r),e}function vPe(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&g(e,["promptTokenCount"],n);const r=p(t,["cachedContentTokenCount"]);r!=null&&g(e,["cachedContentTokenCount"],r);const i=p(t,["responseTokenCount"]);i!=null&&g(e,["responseTokenCount"],i);const s=p(t,["toolUsePromptTokenCount"]);s!=null&&g(e,["toolUsePromptTokenCount"],s);const o=p(t,["thoughtsTokenCount"]);o!=null&&g(e,["thoughtsTokenCount"],o);const l=p(t,["totalTokenCount"]);l!=null&&g(e,["totalTokenCount"],l);const u=p(t,["promptTokensDetails"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(b=>x0(b))),g(e,["promptTokensDetails"],v)}const d=p(t,["cacheTokensDetails"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(b=>x0(b))),g(e,["cacheTokensDetails"],v)}const f=p(t,["responseTokensDetails"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(b=>x0(b))),g(e,["responseTokensDetails"],v)}const m=p(t,["toolUsePromptTokensDetails"]);if(m!=null){let v=m;Array.isArray(v)&&(v=v.map(b=>x0(b))),g(e,["toolUsePromptTokensDetails"],v)}return e}function xPe(t){const e={},n=p(t,["timeLeft"]);return n!=null&&g(e,["timeLeft"],n),e}function bPe(t){const e={},n=p(t,["newHandle"]);n!=null&&g(e,["newHandle"],n);const r=p(t,["resumable"]);r!=null&&g(e,["resumable"],r);const i=p(t,["lastConsumedClientMessageIndex"]);return i!=null&&g(e,["lastConsumedClientMessageIndex"],i),e}function wPe(t){const e={};p(t,["setupComplete"])!=null&&g(e,["setupComplete"],oPe());const r=p(t,["serverContent"]);r!=null&&g(e,["serverContent"],mPe(r));const i=p(t,["toolCall"]);i!=null&&g(e,["toolCall"],gPe(i));const s=p(t,["toolCallCancellation"]);s!=null&&g(e,["toolCallCancellation"],yPe(s));const o=p(t,["usageMetadata"]);o!=null&&g(e,["usageMetadata"],vPe(o));const l=p(t,["goAway"]);l!=null&&g(e,["goAway"],xPe(l));const u=p(t,["sessionResumptionUpdate"]);return u!=null&&g(e,["sessionResumptionUpdate"],bPe(u)),e}function _Pe(){return{}}function TPe(t){const e={},n=p(t,["text"]);n!=null&&g(e,["text"],n);const r=p(t,["weight"]);return r!=null&&g(e,["weight"],r),e}function EPe(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>TPe(i))),g(e,["weightedPrompts"],r)}return e}function SPe(t){const e={},n=p(t,["temperature"]);n!=null&&g(e,["temperature"],n);const r=p(t,["topK"]);r!=null&&g(e,["topK"],r);const i=p(t,["seed"]);i!=null&&g(e,["seed"],i);const s=p(t,["guidance"]);s!=null&&g(e,["guidance"],s);const o=p(t,["bpm"]);o!=null&&g(e,["bpm"],o);const l=p(t,["density"]);l!=null&&g(e,["density"],l);const u=p(t,["brightness"]);u!=null&&g(e,["brightness"],u);const d=p(t,["scale"]);d!=null&&g(e,["scale"],d);const f=p(t,["muteBass"]);f!=null&&g(e,["muteBass"],f);const m=p(t,["muteDrums"]);m!=null&&g(e,["muteDrums"],m);const v=p(t,["onlyBassAndDrums"]);v!=null&&g(e,["onlyBassAndDrums"],v);const b=p(t,["musicGenerationMode"]);return b!=null&&g(e,["musicGenerationMode"],b),e}function APe(t){const e={},n=p(t,["clientContent"]);n!=null&&g(e,["clientContent"],EPe(n));const r=p(t,["musicGenerationConfig"]);return r!=null&&g(e,["musicGenerationConfig"],SPe(r)),e}function CPe(t){const e={},n=p(t,["data"]);n!=null&&g(e,["data"],n);const r=p(t,["mimeType"]);r!=null&&g(e,["mimeType"],r);const i=p(t,["sourceMetadata"]);return i!=null&&g(e,["sourceMetadata"],APe(i)),e}function IPe(t){const e={},n=p(t,["audioChunks"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>CPe(i))),g(e,["audioChunks"],r)}return e}function RPe(t){const e={},n=p(t,["text"]);n!=null&&g(e,["text"],n);const r=p(t,["filteredReason"]);return r!=null&&g(e,["filteredReason"],r),e}function PPe(t){const e={};p(t,["setupComplete"])!=null&&g(e,["setupComplete"],_Pe());const r=p(t,["serverContent"]);r!=null&&g(e,["serverContent"],IPe(r));const i=p(t,["filteredPrompt"]);return i!=null&&g(e,["filteredPrompt"],RPe(i)),e}function NPe(t){const e={},n=p(t,["sessionId"]);return n!=null&&g(e,["sessionId"],n),e}function MPe(t){const e={},n=p(t,["fps"]);n!=null&&g(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&g(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&g(e,["startOffset"],i),e}function DPe(t){const e={},n=p(t,["displayName"]);n!=null&&g(e,["displayName"],n);const r=p(t,["data"]);r!=null&&g(e,["data"],r);const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function kPe(t){const e={},n=p(t,["displayName"]);n!=null&&g(e,["displayName"],n);const r=p(t,["fileUri"]);r!=null&&g(e,["fileUri"],r);const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function OPe(t){const e={},n=p(t,["videoMetadata"]);n!=null&&g(e,["videoMetadata"],MPe(n));const r=p(t,["thought"]);r!=null&&g(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&g(e,["inlineData"],DPe(i));const s=p(t,["fileData"]);s!=null&&g(e,["fileData"],kPe(s));const o=p(t,["thoughtSignature"]);o!=null&&g(e,["thoughtSignature"],o);const l=p(t,["codeExecutionResult"]);l!=null&&g(e,["codeExecutionResult"],l);const u=p(t,["executableCode"]);u!=null&&g(e,["executableCode"],u);const d=p(t,["functionCall"]);d!=null&&g(e,["functionCall"],d);const f=p(t,["functionResponse"]);f!=null&&g(e,["functionResponse"],f);const m=p(t,["text"]);return m!=null&&g(e,["text"],m),e}function VPe(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>OPe(s))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function KF(t){const e={},n=p(t,["text"]);n!=null&&g(e,["text"],n);const r=p(t,["finished"]);return r!=null&&g(e,["finished"],r),e}function LPe(t){const e={},n=p(t,["modelTurn"]);n!=null&&g(e,["modelTurn"],VPe(n));const r=p(t,["turnComplete"]);r!=null&&g(e,["turnComplete"],r);const i=p(t,["interrupted"]);i!=null&&g(e,["interrupted"],i);const s=p(t,["groundingMetadata"]);s!=null&&g(e,["groundingMetadata"],s);const o=p(t,["generationComplete"]);o!=null&&g(e,["generationComplete"],o);const l=p(t,["inputTranscription"]);l!=null&&g(e,["inputTranscription"],KF(l));const u=p(t,["outputTranscription"]);return u!=null&&g(e,["outputTranscription"],KF(u)),e}function UPe(t){const e={},n=p(t,["args"]);n!=null&&g(e,["args"],n);const r=p(t,["name"]);return r!=null&&g(e,["name"],r),e}function FPe(t){const e={},n=p(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>UPe(i))),g(e,["functionCalls"],r)}return e}function jPe(t){const e={},n=p(t,["ids"]);return n!=null&&g(e,["ids"],n),e}function b0(t){const e={},n=p(t,["modality"]);n!=null&&g(e,["modality"],n);const r=p(t,["tokenCount"]);return r!=null&&g(e,["tokenCount"],r),e}function BPe(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&g(e,["promptTokenCount"],n);const r=p(t,["cachedContentTokenCount"]);r!=null&&g(e,["cachedContentTokenCount"],r);const i=p(t,["candidatesTokenCount"]);i!=null&&g(e,["responseTokenCount"],i);const s=p(t,["toolUsePromptTokenCount"]);s!=null&&g(e,["toolUsePromptTokenCount"],s);const o=p(t,["thoughtsTokenCount"]);o!=null&&g(e,["thoughtsTokenCount"],o);const l=p(t,["totalTokenCount"]);l!=null&&g(e,["totalTokenCount"],l);const u=p(t,["promptTokensDetails"]);if(u!=null){let b=u;Array.isArray(b)&&(b=b.map(T=>b0(T))),g(e,["promptTokensDetails"],b)}const d=p(t,["cacheTokensDetails"]);if(d!=null){let b=d;Array.isArray(b)&&(b=b.map(T=>b0(T))),g(e,["cacheTokensDetails"],b)}const f=p(t,["candidatesTokensDetails"]);if(f!=null){let b=f;Array.isArray(b)&&(b=b.map(T=>b0(T))),g(e,["responseTokensDetails"],b)}const m=p(t,["toolUsePromptTokensDetails"]);if(m!=null){let b=m;Array.isArray(b)&&(b=b.map(T=>b0(T))),g(e,["toolUsePromptTokensDetails"],b)}const v=p(t,["trafficType"]);return v!=null&&g(e,["trafficType"],v),e}function qPe(t){const e={},n=p(t,["timeLeft"]);return n!=null&&g(e,["timeLeft"],n),e}function zPe(t){const e={},n=p(t,["newHandle"]);n!=null&&g(e,["newHandle"],n);const r=p(t,["resumable"]);r!=null&&g(e,["resumable"],r);const i=p(t,["lastConsumedClientMessageIndex"]);return i!=null&&g(e,["lastConsumedClientMessageIndex"],i),e}function $Pe(t){const e={},n=p(t,["setupComplete"]);n!=null&&g(e,["setupComplete"],NPe(n));const r=p(t,["serverContent"]);r!=null&&g(e,["serverContent"],LPe(r));const i=p(t,["toolCall"]);i!=null&&g(e,["toolCall"],FPe(i));const s=p(t,["toolCallCancellation"]);s!=null&&g(e,["toolCallCancellation"],jPe(s));const o=p(t,["usageMetadata"]);o!=null&&g(e,["usageMetadata"],BPe(o));const l=p(t,["goAway"]);l!=null&&g(e,["goAway"],qPe(l));const u=p(t,["sessionResumptionUpdate"]);return u!=null&&g(e,["sessionResumptionUpdate"],zPe(u)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GPe(t){const e={},n=p(t,["fps"]);n!=null&&g(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&g(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&g(e,["startOffset"],i),e}function HPe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&g(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function KPe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function WPe(t){const e={},n=p(t,["videoMetadata"]);n!=null&&g(e,["videoMetadata"],GPe(n));const r=p(t,["thought"]);r!=null&&g(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&g(e,["inlineData"],HPe(i));const s=p(t,["fileData"]);s!=null&&g(e,["fileData"],KPe(s));const o=p(t,["thoughtSignature"]);o!=null&&g(e,["thoughtSignature"],o);const l=p(t,["codeExecutionResult"]);l!=null&&g(e,["codeExecutionResult"],l);const u=p(t,["executableCode"]);u!=null&&g(e,["executableCode"],u);const d=p(t,["functionCall"]);d!=null&&g(e,["functionCall"],d);const f=p(t,["functionResponse"]);f!=null&&g(e,["functionResponse"],f);const m=p(t,["text"]);return m!=null&&g(e,["text"],m),e}function Cw(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>WPe(s))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function YPe(t){const e={},n=p(t,["anyOf"]);n!=null&&g(e,["anyOf"],n);const r=p(t,["default"]);r!=null&&g(e,["default"],r);const i=p(t,["description"]);i!=null&&g(e,["description"],i);const s=p(t,["enum"]);s!=null&&g(e,["enum"],s);const o=p(t,["example"]);o!=null&&g(e,["example"],o);const l=p(t,["format"]);l!=null&&g(e,["format"],l);const u=p(t,["items"]);u!=null&&g(e,["items"],u);const d=p(t,["maxItems"]);d!=null&&g(e,["maxItems"],d);const f=p(t,["maxLength"]);f!=null&&g(e,["maxLength"],f);const m=p(t,["maxProperties"]);m!=null&&g(e,["maxProperties"],m);const v=p(t,["maximum"]);v!=null&&g(e,["maximum"],v);const b=p(t,["minItems"]);b!=null&&g(e,["minItems"],b);const T=p(t,["minLength"]);T!=null&&g(e,["minLength"],T);const S=p(t,["minProperties"]);S!=null&&g(e,["minProperties"],S);const A=p(t,["minimum"]);A!=null&&g(e,["minimum"],A);const C=p(t,["nullable"]);C!=null&&g(e,["nullable"],C);const D=p(t,["pattern"]);D!=null&&g(e,["pattern"],D);const N=p(t,["properties"]);N!=null&&g(e,["properties"],N);const F=p(t,["propertyOrdering"]);F!=null&&g(e,["propertyOrdering"],F);const V=p(t,["required"]);V!=null&&g(e,["required"],V);const B=p(t,["title"]);B!=null&&g(e,["title"],B);const k=p(t,["type"]);return k!=null&&g(e,["type"],k),e}function JPe(t){const e={};if(p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=p(t,["category"]);n!=null&&g(e,["category"],n);const r=p(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function QPe(t){const e={},n=p(t,["behavior"]);n!=null&&g(e,["behavior"],n);const r=p(t,["description"]);r!=null&&g(e,["description"],r);const i=p(t,["name"]);i!=null&&g(e,["name"],i);const s=p(t,["parameters"]);s!=null&&g(e,["parameters"],s);const o=p(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const l=p(t,["response"]);l!=null&&g(e,["response"],l);const u=p(t,["responseJsonSchema"]);return u!=null&&g(e,["responseJsonSchema"],u),e}function XPe(t){const e={},n=p(t,["startTime"]);n!=null&&g(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&g(e,["endTime"],r),e}function ZPe(t){const e={},n=p(t,["timeRangeFilter"]);if(n!=null&&g(e,["timeRangeFilter"],XPe(n)),p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function eNe(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&g(e,["dynamicThreshold"],r),e}function tNe(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&g(e,["dynamicRetrievalConfig"],eNe(n)),e}function nNe(){return{}}function rNe(t){const e={},n=p(t,["environment"]);return n!=null&&g(e,["environment"],n),e}function iNe(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(d=>QPe(d))),g(e,["functionDeclarations"],u)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearch"]);r!=null&&g(e,["googleSearch"],ZPe(r));const i=p(t,["googleSearchRetrieval"]);if(i!=null&&g(e,["googleSearchRetrieval"],tNe(i)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&g(e,["urlContext"],nNe());const o=p(t,["computerUse"]);o!=null&&g(e,["computerUse"],rNe(o));const l=p(t,["codeExecution"]);return l!=null&&g(e,["codeExecution"],l),e}function sNe(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);return r!=null&&g(e,["allowedFunctionNames"],r),e}function oNe(t){const e={},n=p(t,["latitude"]);n!=null&&g(e,["latitude"],n);const r=p(t,["longitude"]);return r!=null&&g(e,["longitude"],r),e}function aNe(t){const e={},n=p(t,["latLng"]);n!=null&&g(e,["latLng"],oNe(n));const r=p(t,["languageCode"]);return r!=null&&g(e,["languageCode"],r),e}function lNe(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],sNe(n));const r=p(t,["retrievalConfig"]);return r!=null&&g(e,["retrievalConfig"],aNe(r)),e}function uNe(t){const e={},n=p(t,["voiceName"]);return n!=null&&g(e,["voiceName"],n),e}function lK(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&g(e,["prebuiltVoiceConfig"],uNe(n)),e}function cNe(t){const e={},n=p(t,["speaker"]);n!=null&&g(e,["speaker"],n);const r=p(t,["voiceConfig"]);return r!=null&&g(e,["voiceConfig"],lK(r)),e}function dNe(t){const e={},n=p(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>cNe(i))),g(e,["speakerVoiceConfigs"],r)}return e}function fNe(t){const e={},n=p(t,["voiceConfig"]);n!=null&&g(e,["voiceConfig"],lK(n));const r=p(t,["multiSpeakerVoiceConfig"]);r!=null&&g(e,["multiSpeakerVoiceConfig"],dNe(r));const i=p(t,["languageCode"]);return i!=null&&g(e,["languageCode"],i),e}function hNe(t){const e={},n=p(t,["includeThoughts"]);n!=null&&g(e,["includeThoughts"],n);const r=p(t,["thinkingBudget"]);return r!=null&&g(e,["thinkingBudget"],r),e}function mNe(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],Cw(qr(i)));const s=p(e,["temperature"]);s!=null&&g(r,["temperature"],s);const o=p(e,["topP"]);o!=null&&g(r,["topP"],o);const l=p(e,["topK"]);l!=null&&g(r,["topK"],l);const u=p(e,["candidateCount"]);u!=null&&g(r,["candidateCount"],u);const d=p(e,["maxOutputTokens"]);d!=null&&g(r,["maxOutputTokens"],d);const f=p(e,["stopSequences"]);f!=null&&g(r,["stopSequences"],f);const m=p(e,["responseLogprobs"]);m!=null&&g(r,["responseLogprobs"],m);const v=p(e,["logprobs"]);v!=null&&g(r,["logprobs"],v);const b=p(e,["presencePenalty"]);b!=null&&g(r,["presencePenalty"],b);const T=p(e,["frequencyPenalty"]);T!=null&&g(r,["frequencyPenalty"],T);const S=p(e,["seed"]);S!=null&&g(r,["seed"],S);const A=p(e,["responseMimeType"]);A!=null&&g(r,["responseMimeType"],A);const C=p(e,["responseSchema"]);C!=null&&g(r,["responseSchema"],YPe(kN(C)));const D=p(e,["responseJsonSchema"]);if(D!=null&&g(r,["responseJsonSchema"],D),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=p(e,["safetySettings"]);if(n!==void 0&&N!=null){let q=N;Array.isArray(q)&&(q=q.map(H=>JPe(H))),g(n,["safetySettings"],q)}const F=p(e,["tools"]);if(n!==void 0&&F!=null){let q=qh(F);Array.isArray(q)&&(q=q.map(H=>iNe(Bh(H)))),g(n,["tools"],q)}const V=p(e,["toolConfig"]);if(n!==void 0&&V!=null&&g(n,["toolConfig"],lNe(V)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const B=p(e,["cachedContent"]);n!==void 0&&B!=null&&g(n,["cachedContent"],Ra(t,B));const k=p(e,["responseModalities"]);k!=null&&g(r,["responseModalities"],k);const R=p(e,["mediaResolution"]);R!=null&&g(r,["mediaResolution"],R);const O=p(e,["speechConfig"]);if(O!=null&&g(r,["speechConfig"],fNe(ON(O))),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const j=p(e,["thinkingConfig"]);return j!=null&&g(r,["thinkingConfig"],hNe(j)),r}function WF(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Nt(t,r));const i=p(e,["contents"]);if(i!=null){let o=ds(i);Array.isArray(o)&&(o=o.map(l=>Cw(l))),g(n,["contents"],o)}const s=p(e,["config"]);return s!=null&&g(n,["generationConfig"],mNe(t,s,n)),n}function pNe(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const s=p(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&g(e,["requests[]","outputDimensionality"],s),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function gNe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Nt(t,r));const i=p(e,["contents"]);i!=null&&g(n,["requests[]","content"],G7(t,i));const s=p(e,["config"]);s!=null&&g(n,["config"],pNe(s,n));const o=p(e,["model"]);return o!==void 0&&g(n,["requests[]","model"],Nt(t,o)),n}function yNe(t,e){const n={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=p(t,["aspectRatio"]);e!==void 0&&i!=null&&g(e,["parameters","aspectRatio"],i);const s=p(t,["guidanceScale"]);if(e!==void 0&&s!=null&&g(e,["parameters","guidanceScale"],s),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=p(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&g(e,["parameters","safetySetting"],o);const l=p(t,["personGeneration"]);e!==void 0&&l!=null&&g(e,["parameters","personGeneration"],l);const u=p(t,["includeSafetyAttributes"]);e!==void 0&&u!=null&&g(e,["parameters","includeSafetyAttributes"],u);const d=p(t,["includeRaiReason"]);e!==void 0&&d!=null&&g(e,["parameters","includeRaiReason"],d);const f=p(t,["language"]);e!==void 0&&f!=null&&g(e,["parameters","language"],f);const m=p(t,["outputMimeType"]);e!==void 0&&m!=null&&g(e,["parameters","outputOptions","mimeType"],m);const v=p(t,["outputCompressionQuality"]);if(e!==void 0&&v!=null&&g(e,["parameters","outputOptions","compressionQuality"],v),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const b=p(t,["imageSize"]);if(e!==void 0&&b!=null&&g(e,["parameters","sampleImageSize"],b),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function vNe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Nt(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const s=p(e,["config"]);return s!=null&&g(n,["config"],yNe(s,n)),n}function xNe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","name"],Nt(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],i),n}function bNe(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const s=p(e,["pageToken"]);n!==void 0&&s!=null&&g(n,["_query","pageToken"],s);const o=p(e,["filter"]);n!==void 0&&o!=null&&g(n,["_query","filter"],o);const l=p(e,["queryBase"]);return n!==void 0&&l!=null&&g(n,["_url","models_url"],W7(t,l)),r}function wNe(t,e){const n={},r=p(e,["config"]);return r!=null&&g(n,["config"],bNe(t,r,n)),n}function _Ne(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const s=p(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&g(e,["defaultCheckpointId"],s),n}function TNe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","name"],Nt(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],_Ne(i,n)),n}function ENe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","name"],Nt(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],i),n}function SNe(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function ANe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Nt(t,r));const i=p(e,["contents"]);if(i!=null){let o=ds(i);Array.isArray(o)&&(o=o.map(l=>Cw(l))),g(n,["contents"],o)}const s=p(e,["config"]);return s!=null&&g(n,["config"],SNe(s)),n}function CNe(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=p(t,["imageBytes"]);n!=null&&g(e,["bytesBase64Encoded"],Zc(n));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function INe(t,e){const n={},r=p(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=p(t,["durationSeconds"]);if(e!==void 0&&i!=null&&g(e,["parameters","durationSeconds"],i),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=p(t,["aspectRatio"]);if(e!==void 0&&s!=null&&g(e,["parameters","aspectRatio"],s),p(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const o=p(t,["personGeneration"]);if(e!==void 0&&o!=null&&g(e,["parameters","personGeneration"],o),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=p(t,["negativePrompt"]);e!==void 0&&l!=null&&g(e,["parameters","negativePrompt"],l);const u=p(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&g(e,["parameters","enhancePrompt"],u),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(p(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(p(t,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function RNe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Nt(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const s=p(e,["image"]);if(s!=null&&g(n,["instances[0]","image"],CNe(s)),p(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const o=p(e,["config"]);return o!=null&&g(n,["config"],INe(o,n)),n}function PNe(t){const e={},n=p(t,["fps"]);n!=null&&g(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&g(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&g(e,["startOffset"],i),e}function NNe(t){const e={},n=p(t,["displayName"]);n!=null&&g(e,["displayName"],n);const r=p(t,["data"]);r!=null&&g(e,["data"],r);const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function MNe(t){const e={},n=p(t,["displayName"]);n!=null&&g(e,["displayName"],n);const r=p(t,["fileUri"]);r!=null&&g(e,["fileUri"],r);const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function DNe(t){const e={},n=p(t,["videoMetadata"]);n!=null&&g(e,["videoMetadata"],PNe(n));const r=p(t,["thought"]);r!=null&&g(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&g(e,["inlineData"],NNe(i));const s=p(t,["fileData"]);s!=null&&g(e,["fileData"],MNe(s));const o=p(t,["thoughtSignature"]);o!=null&&g(e,["thoughtSignature"],o);const l=p(t,["codeExecutionResult"]);l!=null&&g(e,["codeExecutionResult"],l);const u=p(t,["executableCode"]);u!=null&&g(e,["executableCode"],u);const d=p(t,["functionCall"]);d!=null&&g(e,["functionCall"],d);const f=p(t,["functionResponse"]);f!=null&&g(e,["functionResponse"],f);const m=p(t,["text"]);return m!=null&&g(e,["text"],m),e}function $h(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>DNe(s))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function kNe(t){const e={},n=p(t,["anyOf"]);n!=null&&g(e,["anyOf"],n);const r=p(t,["default"]);r!=null&&g(e,["default"],r);const i=p(t,["description"]);i!=null&&g(e,["description"],i);const s=p(t,["enum"]);s!=null&&g(e,["enum"],s);const o=p(t,["example"]);o!=null&&g(e,["example"],o);const l=p(t,["format"]);l!=null&&g(e,["format"],l);const u=p(t,["items"]);u!=null&&g(e,["items"],u);const d=p(t,["maxItems"]);d!=null&&g(e,["maxItems"],d);const f=p(t,["maxLength"]);f!=null&&g(e,["maxLength"],f);const m=p(t,["maxProperties"]);m!=null&&g(e,["maxProperties"],m);const v=p(t,["maximum"]);v!=null&&g(e,["maximum"],v);const b=p(t,["minItems"]);b!=null&&g(e,["minItems"],b);const T=p(t,["minLength"]);T!=null&&g(e,["minLength"],T);const S=p(t,["minProperties"]);S!=null&&g(e,["minProperties"],S);const A=p(t,["minimum"]);A!=null&&g(e,["minimum"],A);const C=p(t,["nullable"]);C!=null&&g(e,["nullable"],C);const D=p(t,["pattern"]);D!=null&&g(e,["pattern"],D);const N=p(t,["properties"]);N!=null&&g(e,["properties"],N);const F=p(t,["propertyOrdering"]);F!=null&&g(e,["propertyOrdering"],F);const V=p(t,["required"]);V!=null&&g(e,["required"],V);const B=p(t,["title"]);B!=null&&g(e,["title"],B);const k=p(t,["type"]);return k!=null&&g(e,["type"],k),e}function ONe(t){const e={},n=p(t,["featureSelectionPreference"]);return n!=null&&g(e,["featureSelectionPreference"],n),e}function VNe(t){const e={},n=p(t,["method"]);n!=null&&g(e,["method"],n);const r=p(t,["category"]);r!=null&&g(e,["category"],r);const i=p(t,["threshold"]);return i!=null&&g(e,["threshold"],i),e}function LNe(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const s=p(t,["parametersJsonSchema"]);s!=null&&g(e,["parametersJsonSchema"],s);const o=p(t,["response"]);o!=null&&g(e,["response"],o);const l=p(t,["responseJsonSchema"]);return l!=null&&g(e,["responseJsonSchema"],l),e}function UNe(t){const e={},n=p(t,["startTime"]);n!=null&&g(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&g(e,["endTime"],r),e}function FNe(t){const e={},n=p(t,["timeRangeFilter"]);n!=null&&g(e,["timeRangeFilter"],UNe(n));const r=p(t,["excludeDomains"]);return r!=null&&g(e,["excludeDomains"],r),e}function jNe(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&g(e,["dynamicThreshold"],r),e}function BNe(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&g(e,["dynamicRetrievalConfig"],jNe(n)),e}function qNe(t){const e={},n=p(t,["excludeDomains"]);return n!=null&&g(e,["excludeDomains"],n),e}function zNe(t){const e={},n=p(t,["apiKeyString"]);return n!=null&&g(e,["apiKeyString"],n),e}function $Ne(t){const e={},n=p(t,["apiKeyConfig"]);n!=null&&g(e,["apiKeyConfig"],zNe(n));const r=p(t,["authType"]);r!=null&&g(e,["authType"],r);const i=p(t,["googleServiceAccountConfig"]);i!=null&&g(e,["googleServiceAccountConfig"],i);const s=p(t,["httpBasicAuthConfig"]);s!=null&&g(e,["httpBasicAuthConfig"],s);const o=p(t,["oauthConfig"]);o!=null&&g(e,["oauthConfig"],o);const l=p(t,["oidcConfig"]);return l!=null&&g(e,["oidcConfig"],l),e}function GNe(t){const e={},n=p(t,["authConfig"]);return n!=null&&g(e,["authConfig"],$Ne(n)),e}function HNe(){return{}}function KNe(t){const e={},n=p(t,["environment"]);return n!=null&&g(e,["environment"],n),e}function uK(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(v=>LNe(v))),g(e,["functionDeclarations"],m)}const r=p(t,["retrieval"]);r!=null&&g(e,["retrieval"],r);const i=p(t,["googleSearch"]);i!=null&&g(e,["googleSearch"],FNe(i));const s=p(t,["googleSearchRetrieval"]);s!=null&&g(e,["googleSearchRetrieval"],BNe(s));const o=p(t,["enterpriseWebSearch"]);o!=null&&g(e,["enterpriseWebSearch"],qNe(o));const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],GNe(l)),p(t,["urlContext"])!=null&&g(e,["urlContext"],HNe());const d=p(t,["computerUse"]);d!=null&&g(e,["computerUse"],KNe(d));const f=p(t,["codeExecution"]);return f!=null&&g(e,["codeExecution"],f),e}function WNe(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);return r!=null&&g(e,["allowedFunctionNames"],r),e}function YNe(t){const e={},n=p(t,["latitude"]);n!=null&&g(e,["latitude"],n);const r=p(t,["longitude"]);return r!=null&&g(e,["longitude"],r),e}function JNe(t){const e={},n=p(t,["latLng"]);n!=null&&g(e,["latLng"],YNe(n));const r=p(t,["languageCode"]);return r!=null&&g(e,["languageCode"],r),e}function QNe(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],WNe(n));const r=p(t,["retrievalConfig"]);return r!=null&&g(e,["retrievalConfig"],JNe(r)),e}function XNe(t){const e={},n=p(t,["voiceName"]);return n!=null&&g(e,["voiceName"],n),e}function ZNe(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&g(e,["prebuiltVoiceConfig"],XNe(n)),e}function eMe(t){const e={},n=p(t,["voiceConfig"]);if(n!=null&&g(e,["voiceConfig"],ZNe(n)),p(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=p(t,["languageCode"]);return r!=null&&g(e,["languageCode"],r),e}function tMe(t){const e={},n=p(t,["includeThoughts"]);n!=null&&g(e,["includeThoughts"],n);const r=p(t,["thinkingBudget"]);return r!=null&&g(e,["thinkingBudget"],r),e}function nMe(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],$h(qr(i)));const s=p(e,["temperature"]);s!=null&&g(r,["temperature"],s);const o=p(e,["topP"]);o!=null&&g(r,["topP"],o);const l=p(e,["topK"]);l!=null&&g(r,["topK"],l);const u=p(e,["candidateCount"]);u!=null&&g(r,["candidateCount"],u);const d=p(e,["maxOutputTokens"]);d!=null&&g(r,["maxOutputTokens"],d);const f=p(e,["stopSequences"]);f!=null&&g(r,["stopSequences"],f);const m=p(e,["responseLogprobs"]);m!=null&&g(r,["responseLogprobs"],m);const v=p(e,["logprobs"]);v!=null&&g(r,["logprobs"],v);const b=p(e,["presencePenalty"]);b!=null&&g(r,["presencePenalty"],b);const T=p(e,["frequencyPenalty"]);T!=null&&g(r,["frequencyPenalty"],T);const S=p(e,["seed"]);S!=null&&g(r,["seed"],S);const A=p(e,["responseMimeType"]);A!=null&&g(r,["responseMimeType"],A);const C=p(e,["responseSchema"]);C!=null&&g(r,["responseSchema"],kNe(kN(C)));const D=p(e,["responseJsonSchema"]);D!=null&&g(r,["responseJsonSchema"],D);const N=p(e,["routingConfig"]);N!=null&&g(r,["routingConfig"],N);const F=p(e,["modelSelectionConfig"]);F!=null&&g(r,["modelConfig"],ONe(F));const V=p(e,["safetySettings"]);if(n!==void 0&&V!=null){let we=V;Array.isArray(we)&&(we=we.map(Q=>VNe(Q))),g(n,["safetySettings"],we)}const B=p(e,["tools"]);if(n!==void 0&&B!=null){let we=qh(B);Array.isArray(we)&&(we=we.map(Q=>uK(Bh(Q)))),g(n,["tools"],we)}const k=p(e,["toolConfig"]);n!==void 0&&k!=null&&g(n,["toolConfig"],QNe(k));const R=p(e,["labels"]);n!==void 0&&R!=null&&g(n,["labels"],R);const O=p(e,["cachedContent"]);n!==void 0&&O!=null&&g(n,["cachedContent"],Ra(t,O));const j=p(e,["responseModalities"]);j!=null&&g(r,["responseModalities"],j);const q=p(e,["mediaResolution"]);q!=null&&g(r,["mediaResolution"],q);const H=p(e,["speechConfig"]);H!=null&&g(r,["speechConfig"],eMe(ON(H)));const G=p(e,["audioTimestamp"]);G!=null&&g(r,["audioTimestamp"],G);const he=p(e,["thinkingConfig"]);return he!=null&&g(r,["thinkingConfig"],tMe(he)),r}function YF(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Nt(t,r));const i=p(e,["contents"]);if(i!=null){let o=ds(i);Array.isArray(o)&&(o=o.map(l=>$h(l))),g(n,["contents"],o)}const s=p(e,["config"]);return s!=null&&g(n,["generationConfig"],nMe(t,s,n)),n}function rMe(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["instances[]","task_type"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&g(e,["instances[]","title"],i);const s=p(t,["outputDimensionality"]);e!==void 0&&s!=null&&g(e,["parameters","outputDimensionality"],s);const o=p(t,["mimeType"]);e!==void 0&&o!=null&&g(e,["instances[]","mimeType"],o);const l=p(t,["autoTruncate"]);return e!==void 0&&l!=null&&g(e,["parameters","autoTruncate"],l),n}function iMe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Nt(t,r));const i=p(e,["contents"]);i!=null&&g(n,["instances[]","content"],G7(t,i));const s=p(e,["config"]);return s!=null&&g(n,["config"],rMe(s,n)),n}function sMe(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const s=p(t,["numberOfImages"]);e!==void 0&&s!=null&&g(e,["parameters","sampleCount"],s);const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&g(e,["parameters","aspectRatio"],o);const l=p(t,["guidanceScale"]);e!==void 0&&l!=null&&g(e,["parameters","guidanceScale"],l);const u=p(t,["seed"]);e!==void 0&&u!=null&&g(e,["parameters","seed"],u);const d=p(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&g(e,["parameters","safetySetting"],d);const f=p(t,["personGeneration"]);e!==void 0&&f!=null&&g(e,["parameters","personGeneration"],f);const m=p(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&g(e,["parameters","includeSafetyAttributes"],m);const v=p(t,["includeRaiReason"]);e!==void 0&&v!=null&&g(e,["parameters","includeRaiReason"],v);const b=p(t,["language"]);e!==void 0&&b!=null&&g(e,["parameters","language"],b);const T=p(t,["outputMimeType"]);e!==void 0&&T!=null&&g(e,["parameters","outputOptions","mimeType"],T);const S=p(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&g(e,["parameters","outputOptions","compressionQuality"],S);const A=p(t,["addWatermark"]);e!==void 0&&A!=null&&g(e,["parameters","addWatermark"],A);const C=p(t,["imageSize"]);e!==void 0&&C!=null&&g(e,["parameters","sampleImageSize"],C);const D=p(t,["enhancePrompt"]);return e!==void 0&&D!=null&&g(e,["parameters","enhancePrompt"],D),n}function oMe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Nt(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const s=p(e,["config"]);return s!=null&&g(n,["config"],sMe(s,n)),n}function Pa(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["imageBytes"]);r!=null&&g(e,["bytesBase64Encoded"],Zc(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function aMe(t){const e={},n=p(t,["maskMode"]);n!=null&&g(e,["maskMode"],n);const r=p(t,["segmentationClasses"]);r!=null&&g(e,["maskClasses"],r);const i=p(t,["maskDilation"]);return i!=null&&g(e,["dilation"],i),e}function lMe(t){const e={},n=p(t,["controlType"]);n!=null&&g(e,["controlType"],n);const r=p(t,["enableControlImageComputation"]);return r!=null&&g(e,["computeControl"],r),e}function uMe(t){const e={},n=p(t,["styleDescription"]);return n!=null&&g(e,["styleDescription"],n),e}function cMe(t){const e={},n=p(t,["subjectType"]);n!=null&&g(e,["subjectType"],n);const r=p(t,["subjectDescription"]);return r!=null&&g(e,["subjectDescription"],r),e}function dMe(t){const e={},n=p(t,["referenceImage"]);n!=null&&g(e,["referenceImage"],Pa(n));const r=p(t,["referenceId"]);r!=null&&g(e,["referenceId"],r);const i=p(t,["referenceType"]);i!=null&&g(e,["referenceType"],i);const s=p(t,["maskImageConfig"]);s!=null&&g(e,["maskImageConfig"],aMe(s));const o=p(t,["controlImageConfig"]);o!=null&&g(e,["controlImageConfig"],lMe(o));const l=p(t,["styleImageConfig"]);l!=null&&g(e,["styleImageConfig"],uMe(l));const u=p(t,["subjectImageConfig"]);return u!=null&&g(e,["subjectImageConfig"],cMe(u)),e}function fMe(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const s=p(t,["numberOfImages"]);e!==void 0&&s!=null&&g(e,["parameters","sampleCount"],s);const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&g(e,["parameters","aspectRatio"],o);const l=p(t,["guidanceScale"]);e!==void 0&&l!=null&&g(e,["parameters","guidanceScale"],l);const u=p(t,["seed"]);e!==void 0&&u!=null&&g(e,["parameters","seed"],u);const d=p(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&g(e,["parameters","safetySetting"],d);const f=p(t,["personGeneration"]);e!==void 0&&f!=null&&g(e,["parameters","personGeneration"],f);const m=p(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&g(e,["parameters","includeSafetyAttributes"],m);const v=p(t,["includeRaiReason"]);e!==void 0&&v!=null&&g(e,["parameters","includeRaiReason"],v);const b=p(t,["language"]);e!==void 0&&b!=null&&g(e,["parameters","language"],b);const T=p(t,["outputMimeType"]);e!==void 0&&T!=null&&g(e,["parameters","outputOptions","mimeType"],T);const S=p(t,["outputCompressionQuality"]);e!==void 0&&S!=null&&g(e,["parameters","outputOptions","compressionQuality"],S);const A=p(t,["addWatermark"]);e!==void 0&&A!=null&&g(e,["parameters","addWatermark"],A);const C=p(t,["editMode"]);e!==void 0&&C!=null&&g(e,["parameters","editMode"],C);const D=p(t,["baseSteps"]);return e!==void 0&&D!=null&&g(e,["parameters","editConfig","baseSteps"],D),n}function hMe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Nt(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const s=p(e,["referenceImages"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>dMe(u))),g(n,["instances[0]","referenceImages"],l)}const o=p(e,["config"]);return o!=null&&g(n,["config"],fMe(o,n)),n}function mMe(t,e){const n={},r=p(t,["includeRaiReason"]);e!==void 0&&r!=null&&g(e,["parameters","includeRaiReason"],r);const i=p(t,["outputMimeType"]);e!==void 0&&i!=null&&g(e,["parameters","outputOptions","mimeType"],i);const s=p(t,["outputCompressionQuality"]);e!==void 0&&s!=null&&g(e,["parameters","outputOptions","compressionQuality"],s);const o=p(t,["enhanceInputImage"]);e!==void 0&&o!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],o);const l=p(t,["imagePreservationFactor"]);e!==void 0&&l!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],l);const u=p(t,["numberOfImages"]);e!==void 0&&u!=null&&g(e,["parameters","sampleCount"],u);const d=p(t,["mode"]);return e!==void 0&&d!=null&&g(e,["parameters","mode"],d),n}function pMe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Nt(t,r));const i=p(e,["image"]);i!=null&&g(n,["instances[0]","image"],Pa(i));const s=p(e,["upscaleFactor"]);s!=null&&g(n,["parameters","upscaleConfig","upscaleFactor"],s);const o=p(e,["config"]);return o!=null&&g(n,["config"],mMe(o,n)),n}function gMe(t){const e={},n=p(t,["productImage"]);return n!=null&&g(e,["image"],Pa(n)),e}function yMe(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["personImage"]);e!==void 0&&i!=null&&g(e,["instances[0]","personImage","image"],Pa(i));const s=p(t,["productImages"]);if(e!==void 0&&s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>gMe(l))),g(e,["instances[0]","productImages"],o)}return n}function vMe(t,e){const n={},r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=p(t,["baseSteps"]);e!==void 0&&i!=null&&g(e,["parameters","editConfig","baseSteps"],i);const s=p(t,["outputGcsUri"]);e!==void 0&&s!=null&&g(e,["parameters","storageUri"],s);const o=p(t,["seed"]);e!==void 0&&o!=null&&g(e,["parameters","seed"],o);const l=p(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&g(e,["parameters","safetySetting"],l);const u=p(t,["personGeneration"]);e!==void 0&&u!=null&&g(e,["parameters","personGeneration"],u);const d=p(t,["outputMimeType"]);e!==void 0&&d!=null&&g(e,["parameters","outputOptions","mimeType"],d);const f=p(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&g(e,["parameters","outputOptions","compressionQuality"],f);const m=p(t,["enhancePrompt"]);return e!==void 0&&m!=null&&g(e,["parameters","enhancePrompt"],m),n}function xMe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Nt(t,r));const i=p(e,["source"]);i!=null&&g(n,["config"],yMe(i,n));const s=p(e,["config"]);return s!=null&&g(n,["config"],vMe(s,n)),n}function bMe(t){const e={},n=p(t,["image"]);return n!=null&&g(e,["image"],Pa(n)),e}function wMe(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],Pa(i));const s=p(t,["scribbleImage"]);return e!==void 0&&s!=null&&g(e,["instances[0]","scribble"],bMe(s)),n}function _Me(t,e){const n={},r=p(t,["mode"]);e!==void 0&&r!=null&&g(e,["parameters","mode"],r);const i=p(t,["maxPredictions"]);e!==void 0&&i!=null&&g(e,["parameters","maxPredictions"],i);const s=p(t,["confidenceThreshold"]);e!==void 0&&s!=null&&g(e,["parameters","confidenceThreshold"],s);const o=p(t,["maskDilation"]);e!==void 0&&o!=null&&g(e,["parameters","maskDilation"],o);const l=p(t,["binaryColorThreshold"]);return e!==void 0&&l!=null&&g(e,["parameters","binaryColorThreshold"],l),n}function TMe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Nt(t,r));const i=p(e,["source"]);i!=null&&g(n,["config"],wMe(i,n));const s=p(e,["config"]);return s!=null&&g(n,["config"],_Me(s,n)),n}function EMe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","name"],Nt(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],i),n}function SMe(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const s=p(e,["pageToken"]);n!==void 0&&s!=null&&g(n,["_query","pageToken"],s);const o=p(e,["filter"]);n!==void 0&&o!=null&&g(n,["_query","filter"],o);const l=p(e,["queryBase"]);return n!==void 0&&l!=null&&g(n,["_url","models_url"],W7(t,l)),r}function AMe(t,e){const n={},r=p(e,["config"]);return r!=null&&g(n,["config"],SMe(t,r,n)),n}function CMe(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const s=p(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&g(e,["defaultCheckpointId"],s),n}function IMe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Nt(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],CMe(i,n)),n}function RMe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","name"],Nt(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],i),n}function PMe(t,e){const n={},r=p(t,["systemInstruction"]);e!==void 0&&r!=null&&g(e,["systemInstruction"],$h(qr(r)));const i=p(t,["tools"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>uK(l))),g(e,["tools"],o)}const s=p(t,["generationConfig"]);return e!==void 0&&s!=null&&g(e,["generationConfig"],s),n}function NMe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Nt(t,r));const i=p(e,["contents"]);if(i!=null){let o=ds(i);Array.isArray(o)&&(o=o.map(l=>$h(l))),g(n,["contents"],o)}const s=p(e,["config"]);return s!=null&&g(n,["config"],PMe(s,n)),n}function MMe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Nt(t,r));const i=p(e,["contents"]);if(i!=null){let o=ds(i);Array.isArray(o)&&(o=o.map(l=>$h(l))),g(n,["contents"],o)}const s=p(e,["config"]);return s!=null&&g(n,["config"],s),n}function DMe(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["videoBytes"]);r!=null&&g(e,["bytesBase64Encoded"],Zc(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function kMe(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],Pa(n));const r=p(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function OMe(t,e){const n={},r=p(t,["numberOfVideos"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const s=p(t,["fps"]);e!==void 0&&s!=null&&g(e,["parameters","fps"],s);const o=p(t,["durationSeconds"]);e!==void 0&&o!=null&&g(e,["parameters","durationSeconds"],o);const l=p(t,["seed"]);e!==void 0&&l!=null&&g(e,["parameters","seed"],l);const u=p(t,["aspectRatio"]);e!==void 0&&u!=null&&g(e,["parameters","aspectRatio"],u);const d=p(t,["resolution"]);e!==void 0&&d!=null&&g(e,["parameters","resolution"],d);const f=p(t,["personGeneration"]);e!==void 0&&f!=null&&g(e,["parameters","personGeneration"],f);const m=p(t,["pubsubTopic"]);e!==void 0&&m!=null&&g(e,["parameters","pubsubTopic"],m);const v=p(t,["negativePrompt"]);e!==void 0&&v!=null&&g(e,["parameters","negativePrompt"],v);const b=p(t,["enhancePrompt"]);e!==void 0&&b!=null&&g(e,["parameters","enhancePrompt"],b);const T=p(t,["generateAudio"]);e!==void 0&&T!=null&&g(e,["parameters","generateAudio"],T);const S=p(t,["lastFrame"]);e!==void 0&&S!=null&&g(e,["instances[0]","lastFrame"],Pa(S));const A=p(t,["referenceImages"]);if(e!==void 0&&A!=null){let D=A;Array.isArray(D)&&(D=D.map(N=>kMe(N))),g(e,["instances[0]","referenceImages"],D)}const C=p(t,["compressionQuality"]);return e!==void 0&&C!=null&&g(e,["parameters","compressionQuality"],C),n}function VMe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Nt(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const s=p(e,["image"]);s!=null&&g(n,["instances[0]","image"],Pa(s));const o=p(e,["video"]);o!=null&&g(n,["instances[0]","video"],DMe(o));const l=p(e,["config"]);return l!=null&&g(n,["config"],OMe(l,n)),n}function LMe(t){const e={},n=p(t,["fps"]);n!=null&&g(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&g(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&g(e,["startOffset"],i),e}function UMe(t){const e={},n=p(t,["data"]);n!=null&&g(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function FMe(t){const e={},n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function jMe(t){const e={},n=p(t,["videoMetadata"]);n!=null&&g(e,["videoMetadata"],LMe(n));const r=p(t,["thought"]);r!=null&&g(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&g(e,["inlineData"],UMe(i));const s=p(t,["fileData"]);s!=null&&g(e,["fileData"],FMe(s));const o=p(t,["thoughtSignature"]);o!=null&&g(e,["thoughtSignature"],o);const l=p(t,["codeExecutionResult"]);l!=null&&g(e,["codeExecutionResult"],l);const u=p(t,["executableCode"]);u!=null&&g(e,["executableCode"],u);const d=p(t,["functionCall"]);d!=null&&g(e,["functionCall"],d);const f=p(t,["functionResponse"]);f!=null&&g(e,["functionResponse"],f);const m=p(t,["text"]);return m!=null&&g(e,["text"],m),e}function BMe(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>jMe(s))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function qMe(t){const e={},n=p(t,["citationSources"]);return n!=null&&g(e,["citations"],n),e}function zMe(t){const e={},n=p(t,["retrievedUrl"]);n!=null&&g(e,["retrievedUrl"],n);const r=p(t,["urlRetrievalStatus"]);return r!=null&&g(e,["urlRetrievalStatus"],r),e}function $Me(t){const e={},n=p(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>zMe(i))),g(e,["urlMetadata"],r)}return e}function GMe(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],BMe(n));const r=p(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],qMe(r));const i=p(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const s=p(t,["finishReason"]);s!=null&&g(e,["finishReason"],s);const o=p(t,["urlContextMetadata"]);o!=null&&g(e,["urlContextMetadata"],$Me(o));const l=p(t,["avgLogprobs"]);l!=null&&g(e,["avgLogprobs"],l);const u=p(t,["groundingMetadata"]);u!=null&&g(e,["groundingMetadata"],u);const d=p(t,["index"]);d!=null&&g(e,["index"],d);const f=p(t,["logprobsResult"]);f!=null&&g(e,["logprobsResult"],f);const m=p(t,["safetyRatings"]);return m!=null&&g(e,["safetyRatings"],m),e}function JF(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>GMe(d))),g(e,["candidates"],u)}const i=p(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const s=p(t,["promptFeedback"]);s!=null&&g(e,["promptFeedback"],s);const o=p(t,["responseId"]);o!=null&&g(e,["responseId"],o);const l=p(t,["usageMetadata"]);return l!=null&&g(e,["usageMetadata"],l),e}function HMe(t){const e={},n=p(t,["values"]);return n!=null&&g(e,["values"],n),e}function KMe(){return{}}function WMe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>HMe(o))),g(e,["embeddings"],s)}return p(t,["metadata"])!=null&&g(e,["metadata"],KMe()),e}function YMe(t){const e={},n=p(t,["bytesBase64Encoded"]);n!=null&&g(e,["imageBytes"],Zc(n));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function cK(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function JMe(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],YMe(n));const r=p(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const i=p(t,["_self"]);return i!=null&&g(e,["safetyAttributes"],cK(i)),e}function QMe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>JMe(o))),g(e,["generatedImages"],s)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],cK(i)),e}function XMe(t){const e={},n=p(t,["baseModel"]);n!=null&&g(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&g(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function wC(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);i!=null&&g(e,["description"],i);const s=p(t,["version"]);s!=null&&g(e,["version"],s);const o=p(t,["_self"]);o!=null&&g(e,["tunedModelInfo"],XMe(o));const l=p(t,["inputTokenLimit"]);l!=null&&g(e,["inputTokenLimit"],l);const u=p(t,["outputTokenLimit"]);u!=null&&g(e,["outputTokenLimit"],u);const d=p(t,["supportedGenerationMethods"]);return d!=null&&g(e,["supportedActions"],d),e}function ZMe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let s=Y7(i);Array.isArray(s)&&(s=s.map(o=>wC(o))),g(e,["models"],s)}return e}function e2e(){return{}}function t2e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);r!=null&&g(e,["totalTokens"],r);const i=p(t,["cachedContentTokenCount"]);return i!=null&&g(e,["cachedContentTokenCount"],i),e}function n2e(t){const e={},n=p(t,["video","uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["video","encodedVideo"]);r!=null&&g(e,["videoBytes"],Zc(r));const i=p(t,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function r2e(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],n2e(n)),e}function i2e(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>r2e(o))),g(e,["generatedVideos"],s)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function s2e(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const s=p(t,["error"]);s!=null&&g(e,["error"],s);const o=p(t,["response","generateVideoResponse"]);return o!=null&&g(e,["response"],i2e(o)),e}function o2e(t){const e={},n=p(t,["fps"]);n!=null&&g(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&g(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&g(e,["startOffset"],i),e}function a2e(t){const e={},n=p(t,["displayName"]);n!=null&&g(e,["displayName"],n);const r=p(t,["data"]);r!=null&&g(e,["data"],r);const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function l2e(t){const e={},n=p(t,["displayName"]);n!=null&&g(e,["displayName"],n);const r=p(t,["fileUri"]);r!=null&&g(e,["fileUri"],r);const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function u2e(t){const e={},n=p(t,["videoMetadata"]);n!=null&&g(e,["videoMetadata"],o2e(n));const r=p(t,["thought"]);r!=null&&g(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&g(e,["inlineData"],a2e(i));const s=p(t,["fileData"]);s!=null&&g(e,["fileData"],l2e(s));const o=p(t,["thoughtSignature"]);o!=null&&g(e,["thoughtSignature"],o);const l=p(t,["codeExecutionResult"]);l!=null&&g(e,["codeExecutionResult"],l);const u=p(t,["executableCode"]);u!=null&&g(e,["executableCode"],u);const d=p(t,["functionCall"]);d!=null&&g(e,["functionCall"],d);const f=p(t,["functionResponse"]);f!=null&&g(e,["functionResponse"],f);const m=p(t,["text"]);return m!=null&&g(e,["text"],m),e}function c2e(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>u2e(s))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function d2e(t){const e={},n=p(t,["citations"]);return n!=null&&g(e,["citations"],n),e}function f2e(t){const e={},n=p(t,["retrievedUrl"]);n!=null&&g(e,["retrievedUrl"],n);const r=p(t,["urlRetrievalStatus"]);return r!=null&&g(e,["urlRetrievalStatus"],r),e}function h2e(t){const e={},n=p(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>f2e(i))),g(e,["urlMetadata"],r)}return e}function m2e(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],c2e(n));const r=p(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],d2e(r));const i=p(t,["finishMessage"]);i!=null&&g(e,["finishMessage"],i);const s=p(t,["finishReason"]);s!=null&&g(e,["finishReason"],s);const o=p(t,["urlContextMetadata"]);o!=null&&g(e,["urlContextMetadata"],h2e(o));const l=p(t,["avgLogprobs"]);l!=null&&g(e,["avgLogprobs"],l);const u=p(t,["groundingMetadata"]);u!=null&&g(e,["groundingMetadata"],u);const d=p(t,["index"]);d!=null&&g(e,["index"],d);const f=p(t,["logprobsResult"]);f!=null&&g(e,["logprobsResult"],f);const m=p(t,["safetyRatings"]);return m!=null&&g(e,["safetyRatings"],m),e}function QF(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>m2e(f))),g(e,["candidates"],d)}const i=p(t,["createTime"]);i!=null&&g(e,["createTime"],i);const s=p(t,["modelVersion"]);s!=null&&g(e,["modelVersion"],s);const o=p(t,["promptFeedback"]);o!=null&&g(e,["promptFeedback"],o);const l=p(t,["responseId"]);l!=null&&g(e,["responseId"],l);const u=p(t,["usageMetadata"]);return u!=null&&g(e,["usageMetadata"],u),e}function p2e(t){const e={},n=p(t,["truncated"]);n!=null&&g(e,["truncated"],n);const r=p(t,["token_count"]);return r!=null&&g(e,["tokenCount"],r),e}function g2e(t){const e={},n=p(t,["values"]);n!=null&&g(e,["values"],n);const r=p(t,["statistics"]);return r!=null&&g(e,["statistics"],p2e(r)),e}function y2e(t){const e={},n=p(t,["billableCharacterCount"]);return n!=null&&g(e,["billableCharacterCount"],n),e}function v2e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>g2e(o))),g(e,["embeddings"],s)}const i=p(t,["metadata"]);return i!=null&&g(e,["metadata"],y2e(i)),e}function dK(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["imageBytes"],Zc(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function fK(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function Iw(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],dK(n));const r=p(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const i=p(t,["_self"]);i!=null&&g(e,["safetyAttributes"],fK(i));const s=p(t,["prompt"]);return s!=null&&g(e,["enhancedPrompt"],s),e}function x2e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>Iw(o))),g(e,["generatedImages"],s)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],fK(i)),e}function b2e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Iw(s))),g(e,["generatedImages"],i)}return e}function w2e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>Iw(s))),g(e,["generatedImages"],i)}return e}function _2e(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Iw(i))),g(e,["generatedImages"],r)}return e}function T2e(t){const e={},n=p(t,["label"]);n!=null&&g(e,["label"],n);const r=p(t,["score"]);return r!=null&&g(e,["score"],r),e}function E2e(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["mask"],dK(n));const r=p(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>T2e(s))),g(e,["labels"],i)}return e}function S2e(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>E2e(i))),g(e,["generatedMasks"],r)}return e}function A2e(t){const e={},n=p(t,["endpoint"]);n!=null&&g(e,["name"],n);const r=p(t,["deployedModelId"]);return r!=null&&g(e,["deployedModelId"],r),e}function C2e(t){const e={},n=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&g(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&g(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function I2e(t){const e={},n=p(t,["checkpointId"]);n!=null&&g(e,["checkpointId"],n);const r=p(t,["epoch"]);r!=null&&g(e,["epoch"],r);const i=p(t,["step"]);return i!=null&&g(e,["step"],i),e}function _C(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);i!=null&&g(e,["description"],i);const s=p(t,["versionId"]);s!=null&&g(e,["version"],s);const o=p(t,["deployedModels"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(v=>A2e(v))),g(e,["endpoints"],m)}const l=p(t,["labels"]);l!=null&&g(e,["labels"],l);const u=p(t,["_self"]);u!=null&&g(e,["tunedModelInfo"],C2e(u));const d=p(t,["defaultCheckpointId"]);d!=null&&g(e,["defaultCheckpointId"],d);const f=p(t,["checkpoints"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(v=>I2e(v))),g(e,["checkpoints"],m)}return e}function R2e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let s=Y7(i);Array.isArray(s)&&(s=s.map(o=>_C(o))),g(e,["models"],s)}return e}function P2e(){return{}}function N2e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);return r!=null&&g(e,["totalTokens"],r),e}function M2e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["tokensInfo"]);return r!=null&&g(e,["tokensInfo"],r),e}function D2e(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],Zc(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function k2e(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],D2e(n)),e}function O2e(t){const e={},n=p(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>k2e(o))),g(e,["generatedVideos"],s)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function V2e(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const s=p(t,["error"]);s!=null&&g(e,["error"],s);const o=p(t,["response"]);return o!=null&&g(e,["response"],O2e(o)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const L2e="Content-Type",U2e="X-Server-Timeout",F2e="User-Agent",TC="x-goog-api-client",j2e="1.15.0",B2e=`google-genai-sdk/${j2e}`,q2e="v1beta1",z2e="v1beta",XF=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class $2e{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:q2e,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:z2e,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}request(e){return P(this,null,function*(){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[o,l]of Object.entries(e.queryParams))i.searchParams.append(o,String(l));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=yield this.includeExtraHttpOptionsToRequestInit(s,n,e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)})}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(n))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}requestStream(e){return P(this,null,function*(){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=yield this.includeExtraHttpOptionsToRequestInit(s,n,e.abortSignal),this.streamApiCall(i,s,e.httpMethod)})}includeExtraHttpOptionsToRequestInit(e,n,r){return P(this,null,function*(){if(n&&n.timeout||r){const i=new AbortController,s=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const o=setTimeout(()=>i.abort(),n.timeout);o&&typeof o.unref=="function"&&o.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),e.signal=s}return n&&n.extraBody!==null&&G2e(e,n.extraBody),e.headers=yield this.getHeadersInternal(n),e})}unaryApiCall(e,n,r){return P(this,null,function*(){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(i=>P(this,null,function*(){return yield ZF(i),new gC(i)})).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})})}streamApiCall(e,n,r){return P(this,null,function*(){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(i=>P(this,null,function*(){return yield ZF(i),this.processStreamResponse(i)})).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})})}processStreamResponse(e){var n;return Mf(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";for(;;){const{done:l,value:u}=yield en(i.read());if(l){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=s.decode(u,{stream:!0});try{const m=JSON.parse(d);if("error"in m){const v=JSON.parse(JSON.stringify(m.error)),b=v.status,T=v.code,S=`got status: ${b}. ${JSON.stringify(m)}`;if(T>=400&&T<600)throw new Aw({message:S,status:T})}}catch(m){if(m.name==="ApiError")throw m}o+=d;let f=o.match(XF);for(;f;){const m=f[1];try{const v=new Response(m,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield en(new gC(v)),o=o.slice(f[0].length),f=o.match(XF)}catch(v){throw new Error(`exception parsing stream chunk ${m}. ${v}`)}}}}finally{i.releaseLock()}})}apiCall(e,n){return P(this,null,function*(){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})})}getDefaultHeaders(){const e={},n=B2e+" "+this.clientOptions.userAgentExtra;return e[F2e]=n,e[TC]=n,e[L2e]="application/json",e}getHeadersInternal(e){return P(this,null,function*(){const n=new Headers;if(e&&e.headers){for(const[r,i]of Object.entries(e.headers))n.append(r,i);e.timeout&&e.timeout>0&&n.append(U2e,String(Math.ceil(e.timeout/1e3)))}return yield this.clientOptions.auth.addAuthHeaders(n),n})}uploadFile(e,n){return P(this,null,function*(){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,o=yield s.stat(e);i.sizeBytes=String(o.size);const l=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=l;const u=yield this.fetchUploadUrl(i,n);return s.upload(e,u,this)})}downloadFile(e){return P(this,null,function*(){yield this.clientOptions.downloader.download(e,this)})}fetchUploadUrl(e,n){return P(this,null,function*(){var r;let i={};n!=null&&n.httpOptions?i=n.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const s={file:e},o=yield this.request({path:ze("upload/v1beta/files",s._url),body:JSON.stringify(s),httpMethod:"POST",httpOptions:i});if(!o||!(o!=null&&o.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const l=(r=o==null?void 0:o.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(l===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return l})}}function ZF(t){return P(this,null,function*(){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=yield t.json():r={error:{message:yield t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Aw({message:i,status:n}):new Error(i)}})}function G2e(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch(s){console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,o){const l=Object.assign({},s);for(const u in o)if(Object.prototype.hasOwnProperty.call(o,u)){const d=o[u],f=l[u];d&&typeof d=="object"&&!Array.isArray(d)&&f&&typeof f=="object"&&!Array.isArray(f)?l[u]=r(f,d):(f&&d&&typeof f!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${u}". Original type: ${typeof f}, New type: ${typeof d}. Overwriting.`),l[u]=d)}return l}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const H2e="mcp_used/unknown";let K2e=!1;function hK(t){for(const e of t)if(W2e(e)||typeof e=="object"&&"inputSchema"in e)return!0;return K2e}function mK(t){var e;const n=(e=t[TC])!==null&&e!==void 0?e:"";t[TC]=(n+` ${H2e}`).trimStart()}function W2e(t){return t!==null&&typeof t=="object"&&t instanceof LN}function Y2e(t,e=100){return Mf(this,arguments,function*(){let r,i=0;for(;i<e;){const s=yield en(t.listTools({cursor:r}));for(const o of s.tools)yield yield en(o),i++;if(!s.nextCursor)break;r=s.nextCursor}})}class LN{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new LN(e,n)}initialize(){return P(this,null,function*(){var e,n,r,i;if(this.mcpTools.length>0)return;const s={},o=[];for(const f of this.mcpClients)try{for(var l=!0,u=(n=void 0,Qp(Y2e(f))),d;d=yield u.next(),e=d.done,!e;l=!0){i=d.value,l=!1;const m=i;o.push(m);const v=m.name;if(s[v])throw new Error(`Duplicate function name ${v} found in MCP tools. Please ensure function names are unique.`);s[v]=f}}catch(m){n={error:m}}finally{try{!l&&!e&&(r=u.return)&&(yield r.call(u))}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=s})}tool(){return P(this,null,function*(){return yield this.initialize(),A1e(this.mcpTools,this.config)})}callTool(e){return P(this,null,function*(){yield this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const o=yield i.callTool({name:r.name,arguments:r.args},void 0,s);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n})}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function J2e(t,e,n){return P(this,null,function*(){const r=new v1e;let i;n.data instanceof Blob?i=JSON.parse(yield n.data.text()):i=JSON.parse(n.data);const s=PPe(i);Object.assign(r,s),e(r)})}class Q2e{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}connect(e){return P(this,null,function*(){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),o=eDe(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),u=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${l}`;let d=()=>{};const f=new Promise(N=>{d=N}),m=e.callbacks,v=function(){d({})},b=this.apiClient,T={onopen:v,onmessage:N=>{J2e(b,m.onmessage,N)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(N){},onclose:(r=m==null?void 0:m.onclose)!==null&&r!==void 0?r:function(N){}},S=this.webSocketFactory.create(u,Z2e(o),T);S.connect(),yield f;const A=Nt(this.apiClient,e.model),C=oK({model:A}),D=bC({setup:C});return S.send(JSON.stringify(D)),new X2e(S,this.apiClient)})}}class X2e{constructor(e,n){this.conn=e,this.apiClient=n}setWeightedPrompts(e){return P(this,null,function*(){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=CRe(e),r=aK(n);this.conn.send(JSON.stringify({clientContent:r}))})}setMusicGenerationConfig(e){return P(this,null,function*(){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=IRe(e),r=bC(n);this.conn.send(JSON.stringify(r))})}sendPlaybackControl(e){const n=bC({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(xf.PLAY)}pause(){this.sendPlaybackControl(xf.PAUSE)}stop(){this.sendPlaybackControl(xf.STOP)}resetContext(){this.sendPlaybackControl(xf.RESET_CONTEXT)}close(){this.conn.close()}}function Z2e(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function eDe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tDe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";function nDe(t,e,n){return P(this,null,function*(){const r=new y1e;let i;n.data instanceof Blob?i=yield n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const s=JSON.parse(i);if(t.isVertexAI()){const o=$Pe(s);Object.assign(r,o)}else{const o=wPe(s);Object.assign(r,o)}e(r)})}class rDe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new Q2e(this.apiClient,this.auth,this.webSocketFactory)}connect(e){return P(this,null,function*(){var n,r,i,s,o,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const u=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let f;const m=this.apiClient.getHeaders();e.config&&e.config.tools&&hK(e.config.tools)&&mK(m);const v=aDe(m);if(this.apiClient.isVertexAI())f=`${u}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,yield this.auth.addAuthHeaders(v);else{const O=this.apiClient.getApiKey();let j="BidiGenerateContent",q="key";O!=null&&O.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),j="BidiGenerateContentConstrained",q="access_token"),f=`${u}/ws/google.ai.generativelanguage.${d}.GenerativeService.${j}?${q}=${O}`}let b=()=>{};const T=new Promise(O=>{b=O}),S=e.callbacks,A=function(){var O;(O=S==null?void 0:S.onopen)===null||O===void 0||O.call(S),b({})},C=this.apiClient,D={onopen:A,onmessage:O=>{nDe(C,S.onmessage,O)},onerror:(n=S==null?void 0:S.onerror)!==null&&n!==void 0?n:function(O){},onclose:(r=S==null?void 0:S.onclose)!==null&&r!==void 0?r:function(O){}},N=this.webSocketFactory.create(f,oDe(v),D);N.connect(),yield T;let F=Nt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&F.startsWith("publishers/")){const O=this.apiClient.getProject(),j=this.apiClient.getLocation();F=`projects/${O}/locations/${j}/`+F}let V={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[rb.AUDIO]}:e.config.responseModalities=[rb.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const B=(l=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[],k=[];for(const O of B)if(this.isCallableTool(O)){const j=O;k.push(yield j.tool())}else k.push(O);k.length>0&&(e.config.tools=k);const R={model:F,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?V=nPe(this.apiClient,R):V=TRe(this.apiClient,R),delete V.config,N.send(JSON.stringify(V)),new sDe(N,this.apiClient)})}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const iDe={turnComplete:!0};class sDe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=ds(n.turns),e.isVertexAI()?r=r.map(i=>$h(i)):r=r.map(i=>Cw(i))}catch(i){throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(tDe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},iDe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:sPe(e)}:n={realtimeInput:ARe(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function oDe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function aDe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ej=10;function tj(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const o of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Df(o)){i=!0;break}if(!i)return!0;const s=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Df(t){return"callTool"in t&&typeof t.callTool=="function"}function lDe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Df(i)))!==null&&r!==void 0?r:!1}function uDe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>!Df(i)))!==null&&r!==void 0?r:!1}function nj(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cDe extends Xc{constructor(e){super(),this.apiClient=e,this.generateContent=n=>P(this,null,function*(){var r,i,s,o,l;const u=yield this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!lDe(n)||tj(n.config))return yield this.generateContentInternal(u);if(uDe(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let d,f;const m=ds(u.contents),v=(s=(i=(r=u.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:ej;let b=0;for(;b<v&&(d=yield this.generateContentInternal(u),!(!d.functionCalls||d.functionCalls.length===0));){const T=d.candidates[0].content,S=[];for(const A of(l=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[])if(Df(A)){const D=yield A.callTool(d.functionCalls);S.push(...D)}b++,f={role:"user",parts:S},u.contents=ds(u.contents),u.contents.push(T),u.contents.push(f),nj(u.config)&&(m.push(T),m.push(f))}return nj(u.config)&&(d.automaticFunctionCallingHistory=m),d}),this.generateContentStream=n=>P(this,null,function*(){if(this.maybeMoveToResponseJsonSchem(n),tj(n.config)){const r=yield this.processParamsMaybeAddMcpUsage(n);return yield this.generateContentStreamInternal(r)}else return yield this.processAfcStream(n)}),this.generateImages=n=>P(this,null,function*(){return yield this.generateImagesInternal(n).then(r=>{var i;let s;const o=[];if(r!=null&&r.generatedImages)for(const u of r.generatedImages)u&&(u!=null&&u.safetyAttributes)&&((i=u==null?void 0:u.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=u==null?void 0:u.safetyAttributes:o.push(u);let l;return s?l={generatedImages:o,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:l={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},l})}),this.list=n=>P(this,null,function*(){var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new Ty(qc.PAGED_ITEM_MODELS,l=>this.listInternal(l),yield this.listInternal(o),o)}),this.editImage=n=>P(this,null,function*(){const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),yield this.editImageInternal(r)}),this.upscaleImage=n=>P(this,null,function*(){let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return yield this.upscaleImageInternal(i)}),this.generateVideos=n=>P(this,null,function*(){return yield this.generateVideosInternal(n)})}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}processParamsMaybeAddMcpUsage(e){return P(this,null,function*(){var n,r,i;const s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;const o=yield Promise.all(s.map(u=>P(null,null,function*(){return Df(u)?yield u.tool():u}))),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(l.config.tools=o,e.config&&e.config.tools&&hK(e.config.tools)){const u=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},u);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),mK(d),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return l})}initAfcToolsMap(e){return P(this,null,function*(){var n,r,i;const s=new Map;for(const o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Df(o)){const l=o,u=yield l.tool();for(const d of(i=u.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(s.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);s.set(d.name,l)}}return s})}processAfcStream(e){return P(this,null,function*(){var n,r,i;const s=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:ej;let o=!1,l=0;const u=yield this.initAfcToolsMap(e);return(function(d,f,m){var v,b;return Mf(this,arguments,function*(){for(var T,S,A,C;l<s;){o&&(l++,o=!1);const V=yield en(d.processParamsMaybeAddMcpUsage(m)),B=yield en(d.generateContentStreamInternal(V)),k=[],R=[];try{for(var D=!0,N=(S=void 0,Qp(B)),F;F=yield en(N.next()),T=F.done,!T;D=!0){C=F.value,D=!1;const O=C;if(yield yield en(O),O.candidates&&(!((v=O.candidates[0])===null||v===void 0)&&v.content)){R.push(O.candidates[0].content);for(const j of(b=O.candidates[0].content.parts)!==null&&b!==void 0?b:[])if(l<s&&j.functionCall){if(!j.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(j.functionCall.name)){const q=yield en(f.get(j.functionCall.name).callTool([j.functionCall]));k.push(...q)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${j.functionCall.name}`)}}}}catch(O){S={error:O}}finally{try{!D&&!T&&(A=N.return)&&(yield en(A.call(N)))}finally{if(S)throw S.error}}if(k.length>0){o=!0;const O=new pp;O.candidates=[{content:{role:"user",parts:k}}],yield yield en(O);const j=[];j.push(...R),j.push({role:"user",parts:k});const q=ds(m.contents).concat(j);m.contents=q}else break}})})(this,u,e)})}generateContentInternal(e){return P(this,null,function*(){var n,r,i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=YF(this.apiClient,e);return l=ze("{model}:generateContent",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),o.then(f=>{const m=QF(f),v=new pp;return Object.assign(v,m),v})}else{const d=WF(this.apiClient,e);return l=ze("{model}:generateContent",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),o.then(f=>{const m=JF(f),v=new pp;return Object.assign(v,m),v})}})}generateContentStreamInternal(e){return P(this,null,function*(){var n,r,i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=YF(this.apiClient,e);return l=ze("{model}:streamGenerateContent?alt=sse",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.requestStream({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(m){return Mf(this,arguments,function*(){var v,b,T,S;try{for(var A=!0,C=Qp(m),D;D=yield en(C.next()),v=D.done,!v;A=!0){S=D.value,A=!1;const N=S,F=QF(yield en(N.json()));F.sdkHttpResponse={headers:N.headers};const V=new pp;Object.assign(V,F),yield yield en(V)}}catch(N){b={error:N}}finally{try{!A&&!v&&(T=C.return)&&(yield en(T.call(C)))}finally{if(b)throw b.error}}})})}else{const d=WF(this.apiClient,e);return l=ze("{model}:streamGenerateContent?alt=sse",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.requestStream({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),o.then(function(m){return Mf(this,arguments,function*(){var v,b,T,S;try{for(var A=!0,C=Qp(m),D;D=yield en(C.next()),v=D.done,!v;A=!0){S=D.value,A=!1;const N=S,F=JF(yield en(N.json()));F.sdkHttpResponse={headers:N.headers};const V=new pp;Object.assign(V,F),yield yield en(V)}}catch(N){b={error:N}}finally{try{!A&&!v&&(T=C.return)&&(yield en(T.call(C)))}finally{if(b)throw b.error}}})})}})}embedContent(e){return P(this,null,function*(){var n,r,i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=iMe(this.apiClient,e);return l=ze("{model}:predict",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),o.then(f=>{const m=v2e(f),v=new AF;return Object.assign(v,m),v})}else{const d=gNe(this.apiClient,e);return l=ze("{model}:batchEmbedContents",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),o.then(f=>{const m=WMe(f),v=new AF;return Object.assign(v,m),v})}})}generateImagesInternal(e){return P(this,null,function*(){var n,r,i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=oMe(this.apiClient,e);return l=ze("{model}:predict",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),o.then(f=>{const m=x2e(f),v=new CF;return Object.assign(v,m),v})}else{const d=vNe(this.apiClient,e);return l=ze("{model}:predict",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),o.then(f=>{const m=QMe(f),v=new CF;return Object.assign(v,m),v})}})}editImageInternal(e){return P(this,null,function*(){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=hMe(this.apiClient,e);return s=ze("{model}:predict",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const d=b2e(u),f=new u1e;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")})}upscaleImageInternal(e){return P(this,null,function*(){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=pMe(this.apiClient,e);return s=ze("{model}:predict",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const d=w2e(u),f=new c1e;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")})}recontextImage(e){return P(this,null,function*(){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=xMe(this.apiClient,e);return s=ze("{model}:predict",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=_2e(u),f=new d1e;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")})}segmentImage(e){return P(this,null,function*(){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=TMe(this.apiClient,e);return s=ze("{model}:predict",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>{const d=S2e(u),f=new f1e;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")})}get(e){return P(this,null,function*(){var n,r,i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=EMe(this.apiClient,e);return l=ze("{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>_C(f))}else{const d=xNe(this.apiClient,e);return l=ze("{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),o.then(f=>wC(f))}})}listInternal(e){return P(this,null,function*(){var n,r,i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=AMe(this.apiClient,e);return l=ze("{models_url}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),o.then(f=>{const m=R2e(f),v=new IF;return Object.assign(v,m),v})}else{const d=wNe(this.apiClient,e);return l=ze("{models_url}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),o.then(f=>{const m=ZMe(f),v=new IF;return Object.assign(v,m),v})}})}update(e){return P(this,null,function*(){var n,r,i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=IMe(this.apiClient,e);return l=ze("{model}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>_C(f))}else{const d=TNe(this.apiClient,e);return l=ze("{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),o.then(f=>wC(f))}})}delete(e){return P(this,null,function*(){var n,r,i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=RMe(this.apiClient,e);return l=ze("{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(()=>{const f=P2e(),m=new RF;return Object.assign(m,f),m})}else{const d=ENe(this.apiClient,e);return l=ze("{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),o.then(()=>{const f=e2e(),m=new RF;return Object.assign(m,f),m})}})}countTokens(e){return P(this,null,function*(){var n,r,i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=NMe(this.apiClient,e);return l=ze("{model}:countTokens",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),o.then(f=>{const m=N2e(f),v=new PF;return Object.assign(v,m),v})}else{const d=ANe(this.apiClient,e);return l=ze("{model}:countTokens",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),o.then(f=>{const m=t2e(f),v=new PF;return Object.assign(v,m),v})}})}computeTokens(e){return P(this,null,function*(){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=MMe(this.apiClient,e);return s=ze("{model}:computeTokens",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>{const d=M2e(u),f=new h1e;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")})}generateVideosInternal(e){return P(this,null,function*(){var n,r,i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=VMe(this.apiClient,e);return l=ze("{model}:predictLongRunning",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o.then(f=>{const m=V2e(f),v=new ib;return Object.assign(v,m),v})}else{const d=RNe(this.apiClient,e);return l=ze("{model}:predictLongRunning",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),o.then(f=>{const m=s2e(f),v=new ib;return Object.assign(v,m),v})}})}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dDe(t){const e={},n=p(t,["operationName"]);n!=null&&g(e,["_url","operationName"],n);const r=p(t,["config"]);return r!=null&&g(e,["config"],r),e}function fDe(t){const e={},n=p(t,["operationName"]);n!=null&&g(e,["_url","operationName"],n);const r=p(t,["config"]);return r!=null&&g(e,["config"],r),e}function hDe(t){const e={},n=p(t,["operationName"]);n!=null&&g(e,["operationName"],n);const r=p(t,["resourceName"]);r!=null&&g(e,["_url","resourceName"],r);const i=p(t,["config"]);return i!=null&&g(e,["config"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mDe extends Xc{constructor(e){super(),this.apiClient=e}getVideosOperation(e){return P(this,null,function*(){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const o=yield this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:o,isVertexAI:!0})}else{const i=yield this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}})}get(e){return P(this,null,function*(){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const o=yield this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:o,isVertexAI:!0})}else{const i=yield this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,isVertexAI:!1})}})}getVideosOperationInternal(e){return P(this,null,function*(){var n,r,i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=fDe(e);return l=ze("{operationName}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),o}else{const d=dDe(e);return l=ze("{operationName}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),o}})}fetchPredictVideosOperationInternal(e){return P(this,null,function*(){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=hDe(e);return s=ze("{resourceName}:fetchPredictOperation",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i}else throw new Error("This method is only supported by the Vertex AI.")})}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pDe(t){const e={},n=p(t,["voiceName"]);return n!=null&&g(e,["voiceName"],n),e}function pK(t){const e={},n=p(t,["prebuiltVoiceConfig"]);return n!=null&&g(e,["prebuiltVoiceConfig"],pDe(n)),e}function gDe(t){const e={},n=p(t,["speaker"]);n!=null&&g(e,["speaker"],n);const r=p(t,["voiceConfig"]);return r!=null&&g(e,["voiceConfig"],pK(r)),e}function yDe(t){const e={},n=p(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>gDe(i))),g(e,["speakerVoiceConfigs"],r)}return e}function vDe(t){const e={},n=p(t,["voiceConfig"]);n!=null&&g(e,["voiceConfig"],pK(n));const r=p(t,["multiSpeakerVoiceConfig"]);r!=null&&g(e,["multiSpeakerVoiceConfig"],yDe(r));const i=p(t,["languageCode"]);return i!=null&&g(e,["languageCode"],i),e}function xDe(t){const e={},n=p(t,["fps"]);n!=null&&g(e,["fps"],n);const r=p(t,["endOffset"]);r!=null&&g(e,["endOffset"],r);const i=p(t,["startOffset"]);return i!=null&&g(e,["startOffset"],i),e}function bDe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["data"]);n!=null&&g(e,["data"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function wDe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function _De(t){const e={},n=p(t,["videoMetadata"]);n!=null&&g(e,["videoMetadata"],xDe(n));const r=p(t,["thought"]);r!=null&&g(e,["thought"],r);const i=p(t,["inlineData"]);i!=null&&g(e,["inlineData"],bDe(i));const s=p(t,["fileData"]);s!=null&&g(e,["fileData"],wDe(s));const o=p(t,["thoughtSignature"]);o!=null&&g(e,["thoughtSignature"],o);const l=p(t,["codeExecutionResult"]);l!=null&&g(e,["codeExecutionResult"],l);const u=p(t,["executableCode"]);u!=null&&g(e,["executableCode"],u);const d=p(t,["functionCall"]);d!=null&&g(e,["functionCall"],d);const f=p(t,["functionResponse"]);f!=null&&g(e,["functionResponse"],f);const m=p(t,["text"]);return m!=null&&g(e,["text"],m),e}function TDe(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>_De(s))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function EDe(t){const e={},n=p(t,["behavior"]);n!=null&&g(e,["behavior"],n);const r=p(t,["description"]);r!=null&&g(e,["description"],r);const i=p(t,["name"]);i!=null&&g(e,["name"],i);const s=p(t,["parameters"]);s!=null&&g(e,["parameters"],s);const o=p(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const l=p(t,["response"]);l!=null&&g(e,["response"],l);const u=p(t,["responseJsonSchema"]);return u!=null&&g(e,["responseJsonSchema"],u),e}function SDe(t){const e={},n=p(t,["startTime"]);n!=null&&g(e,["startTime"],n);const r=p(t,["endTime"]);return r!=null&&g(e,["endTime"],r),e}function ADe(t){const e={},n=p(t,["timeRangeFilter"]);if(n!=null&&g(e,["timeRangeFilter"],SDe(n)),p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function CDe(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const r=p(t,["dynamicThreshold"]);return r!=null&&g(e,["dynamicThreshold"],r),e}function IDe(t){const e={},n=p(t,["dynamicRetrievalConfig"]);return n!=null&&g(e,["dynamicRetrievalConfig"],CDe(n)),e}function RDe(){return{}}function PDe(t){const e={},n=p(t,["environment"]);return n!=null&&g(e,["environment"],n),e}function NDe(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(d=>EDe(d))),g(e,["functionDeclarations"],u)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearch"]);r!=null&&g(e,["googleSearch"],ADe(r));const i=p(t,["googleSearchRetrieval"]);if(i!=null&&g(e,["googleSearchRetrieval"],IDe(i)),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(p(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");p(t,["urlContext"])!=null&&g(e,["urlContext"],RDe());const o=p(t,["computerUse"]);o!=null&&g(e,["computerUse"],PDe(o));const l=p(t,["codeExecution"]);return l!=null&&g(e,["codeExecution"],l),e}function MDe(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function rj(){return{}}function DDe(t){const e={},n=p(t,["disabled"]);n!=null&&g(e,["disabled"],n);const r=p(t,["startOfSpeechSensitivity"]);r!=null&&g(e,["startOfSpeechSensitivity"],r);const i=p(t,["endOfSpeechSensitivity"]);i!=null&&g(e,["endOfSpeechSensitivity"],i);const s=p(t,["prefixPaddingMs"]);s!=null&&g(e,["prefixPaddingMs"],s);const o=p(t,["silenceDurationMs"]);return o!=null&&g(e,["silenceDurationMs"],o),e}function kDe(t){const e={},n=p(t,["automaticActivityDetection"]);n!=null&&g(e,["automaticActivityDetection"],DDe(n));const r=p(t,["activityHandling"]);r!=null&&g(e,["activityHandling"],r);const i=p(t,["turnCoverage"]);return i!=null&&g(e,["turnCoverage"],i),e}function ODe(t){const e={},n=p(t,["targetTokens"]);return n!=null&&g(e,["targetTokens"],n),e}function VDe(t){const e={},n=p(t,["triggerTokens"]);n!=null&&g(e,["triggerTokens"],n);const r=p(t,["slidingWindow"]);return r!=null&&g(e,["slidingWindow"],ODe(r)),e}function LDe(t){const e={},n=p(t,["proactiveAudio"]);return n!=null&&g(e,["proactiveAudio"],n),e}function UDe(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const s=p(t,["temperature"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","temperature"],s);const o=p(t,["topP"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","topP"],o);const l=p(t,["topK"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topK"],l);const u=p(t,["maxOutputTokens"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","maxOutputTokens"],u);const d=p(t,["mediaResolution"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","mediaResolution"],d);const f=p(t,["seed"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","seed"],f);const m=p(t,["speechConfig"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","speechConfig"],vDe(VN(m)));const v=p(t,["enableAffectiveDialog"]);e!==void 0&&v!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],v);const b=p(t,["systemInstruction"]);e!==void 0&&b!=null&&g(e,["setup","systemInstruction"],TDe(qr(b)));const T=p(t,["tools"]);if(e!==void 0&&T!=null){let V=qh(T);Array.isArray(V)&&(V=V.map(B=>NDe(Bh(B)))),g(e,["setup","tools"],V)}const S=p(t,["sessionResumption"]);e!==void 0&&S!=null&&g(e,["setup","sessionResumption"],MDe(S));const A=p(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&g(e,["setup","inputAudioTranscription"],rj());const C=p(t,["outputAudioTranscription"]);e!==void 0&&C!=null&&g(e,["setup","outputAudioTranscription"],rj());const D=p(t,["realtimeInputConfig"]);e!==void 0&&D!=null&&g(e,["setup","realtimeInputConfig"],kDe(D));const N=p(t,["contextWindowCompression"]);e!==void 0&&N!=null&&g(e,["setup","contextWindowCompression"],VDe(N));const F=p(t,["proactivity"]);return e!==void 0&&F!=null&&g(e,["setup","proactivity"],LDe(F)),n}function FDe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],Nt(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],UDe(i,n)),n}function jDe(t,e,n){const r={},i=p(e,["expireTime"]);n!==void 0&&i!=null&&g(n,["expireTime"],i);const s=p(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&g(n,["newSessionExpireTime"],s);const o=p(e,["uses"]);n!==void 0&&o!=null&&g(n,["uses"],o);const l=p(e,["liveConnectConstraints"]);n!==void 0&&l!=null&&g(n,["bidiGenerateContentSetup"],FDe(t,l));const u=p(e,["lockAdditionalFields"]);return n!==void 0&&u!=null&&g(n,["fieldMask"],u),r}function BDe(t,e){const n={},r=p(e,["config"]);return r!=null&&g(n,["config"],jDe(t,r,n)),n}function qDe(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zDe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(s=>`${n}.${s}`);e.push(...i)}else e.push(n)}return e.join(",")}function $De(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const s=r.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const s=zDe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?t.fieldMask=s:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let l=[];i.length>0&&(l=i.map(d=>o.includes(d)?`generationConfig.${d}`:d));const u=[];s&&u.push(s),l.length>0&&u.push(...l),u.length>0?t.fieldMask=u.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class GDe extends Xc{constructor(e){super(),this.apiClient=e}create(e){return P(this,null,function*(){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=BDe(this.apiClient,e);s=ze("auth_tokens",l._url),o=l._query,delete l.config,delete l._url,delete l._query;const u=$De(l,e.config);return i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>qDe(d))}})}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HDe(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&g(e,["config"],r),e}function KDe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&g(e,["_query","pageToken"],i);const s=p(t,["filter"]);return e!==void 0&&s!=null&&g(e,["_query","filter"],s),n}function WDe(t){const e={},n=p(t,["config"]);return n!=null&&g(e,["config"],KDe(n,e)),e}function YDe(t){const e={},n=p(t,["textInput"]);n!=null&&g(e,["textInput"],n);const r=p(t,["output"]);return r!=null&&g(e,["output"],r),e}function JDe(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=p(t,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>YDe(i))),g(e,["examples","examples"],r)}return e}function QDe(t,e){const n={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=p(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&g(e,["displayName"],r),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=p(t,["epochCount"]);e!==void 0&&i!=null&&g(e,["tuningTask","hyperparameters","epochCount"],i);const s=p(t,["learningRateMultiplier"]);if(s!=null&&g(n,["tuningTask","hyperparameters","learningRateMultiplier"],s),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=p(t,["batchSize"]);e!==void 0&&o!=null&&g(e,["tuningTask","hyperparameters","batchSize"],o);const l=p(t,["learningRate"]);return e!==void 0&&l!=null&&g(e,["tuningTask","hyperparameters","learningRate"],l),n}function XDe(t){const e={},n=p(t,["baseModel"]);n!=null&&g(e,["baseModel"],n);const r=p(t,["preTunedModel"]);r!=null&&g(e,["preTunedModel"],r);const i=p(t,["trainingDataset"]);i!=null&&g(e,["tuningTask","trainingData"],JDe(i));const s=p(t,["config"]);return s!=null&&g(e,["config"],QDe(s,e)),e}function ZDe(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&g(e,["config"],r),e}function eke(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&g(e,["_query","pageToken"],i);const s=p(t,["filter"]);return e!==void 0&&s!=null&&g(e,["_query","filter"],s),n}function tke(t){const e={},n=p(t,["config"]);return n!=null&&g(e,["config"],eke(n,e)),e}function nke(t,e){const n={},r=p(t,["gcsUri"]);e!==void 0&&r!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],r);const i=p(t,["vertexDatasetResource"]);if(e!==void 0&&i!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],i),p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function rke(t,e){const n={},r=p(t,["gcsUri"]);r!=null&&g(n,["validationDatasetUri"],r);const i=p(t,["vertexDatasetResource"]);return e!==void 0&&i!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],i),n}function ike(t,e){const n={},r=p(t,["validationDataset"]);e!==void 0&&r!=null&&g(e,["supervisedTuningSpec"],rke(r,n));const i=p(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&g(e,["tunedModelDisplayName"],i);const s=p(t,["description"]);e!==void 0&&s!=null&&g(e,["description"],s);const o=p(t,["epochCount"]);e!==void 0&&o!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],o);const l=p(t,["learningRateMultiplier"]);e!==void 0&&l!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],l);const u=p(t,["exportLastCheckpointOnly"]);e!==void 0&&u!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],u);const d=p(t,["preTunedModelCheckpointId"]);d!=null&&g(n,["preTunedModel","checkpointId"],d);const f=p(t,["adapterSize"]);if(e!==void 0&&f!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],f),p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function ske(t){const e={},n=p(t,["baseModel"]);n!=null&&g(e,["baseModel"],n);const r=p(t,["preTunedModel"]);r!=null&&g(e,["preTunedModel"],r);const i=p(t,["trainingDataset"]);i!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],nke(i,e));const s=p(t,["config"]);return s!=null&&g(e,["config"],ike(s,e)),e}function oke(t){const e={},n=p(t,["name"]);n!=null&&g(e,["model"],n);const r=p(t,["name"]);return r!=null&&g(e,["endpoint"],r),e}function gK(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["state"]);i!=null&&g(e,["state"],H7(i));const s=p(t,["createTime"]);s!=null&&g(e,["createTime"],s);const o=p(t,["tuningTask","startTime"]);o!=null&&g(e,["startTime"],o);const l=p(t,["tuningTask","completeTime"]);l!=null&&g(e,["endTime"],l);const u=p(t,["updateTime"]);u!=null&&g(e,["updateTime"],u);const d=p(t,["description"]);d!=null&&g(e,["description"],d);const f=p(t,["baseModel"]);f!=null&&g(e,["baseModel"],f);const m=p(t,["_self"]);m!=null&&g(e,["tunedModel"],oke(m));const v=p(t,["customBaseModel"]);v!=null&&g(e,["customBaseModel"],v);const b=p(t,["experiment"]);b!=null&&g(e,["experiment"],b);const T=p(t,["labels"]);T!=null&&g(e,["labels"],T);const S=p(t,["outputUri"]);S!=null&&g(e,["outputUri"],S);const A=p(t,["pipelineJob"]);A!=null&&g(e,["pipelineJob"],A);const C=p(t,["serviceAccount"]);C!=null&&g(e,["serviceAccount"],C);const D=p(t,["tunedModelDisplayName"]);return D!=null&&g(e,["tunedModelDisplayName"],D),e}function ake(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["tunedModels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>gK(o))),g(e,["tuningJobs"],s)}return e}function lke(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["metadata"]);i!=null&&g(e,["metadata"],i);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const o=p(t,["error"]);return o!=null&&g(e,["error"],o),e}function uke(t){const e={},n=p(t,["checkpointId"]);n!=null&&g(e,["checkpointId"],n);const r=p(t,["epoch"]);r!=null&&g(e,["epoch"],r);const i=p(t,["step"]);i!=null&&g(e,["step"],i);const s=p(t,["endpoint"]);return s!=null&&g(e,["endpoint"],s),e}function cke(t){const e={},n=p(t,["model"]);n!=null&&g(e,["model"],n);const r=p(t,["endpoint"]);r!=null&&g(e,["endpoint"],r);const i=p(t,["checkpoints"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>uke(o))),g(e,["checkpoints"],s)}return e}function EC(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["state"]);i!=null&&g(e,["state"],H7(i));const s=p(t,["createTime"]);s!=null&&g(e,["createTime"],s);const o=p(t,["startTime"]);o!=null&&g(e,["startTime"],o);const l=p(t,["endTime"]);l!=null&&g(e,["endTime"],l);const u=p(t,["updateTime"]);u!=null&&g(e,["updateTime"],u);const d=p(t,["error"]);d!=null&&g(e,["error"],d);const f=p(t,["description"]);f!=null&&g(e,["description"],f);const m=p(t,["baseModel"]);m!=null&&g(e,["baseModel"],m);const v=p(t,["tunedModel"]);v!=null&&g(e,["tunedModel"],cke(v));const b=p(t,["preTunedModel"]);b!=null&&g(e,["preTunedModel"],b);const T=p(t,["supervisedTuningSpec"]);T!=null&&g(e,["supervisedTuningSpec"],T);const S=p(t,["tuningDataStats"]);S!=null&&g(e,["tuningDataStats"],S);const A=p(t,["encryptionSpec"]);A!=null&&g(e,["encryptionSpec"],A);const C=p(t,["partnerModelTuningSpec"]);C!=null&&g(e,["partnerModelTuningSpec"],C);const D=p(t,["customBaseModel"]);D!=null&&g(e,["customBaseModel"],D);const N=p(t,["experiment"]);N!=null&&g(e,["experiment"],N);const F=p(t,["labels"]);F!=null&&g(e,["labels"],F);const V=p(t,["outputUri"]);V!=null&&g(e,["outputUri"],V);const B=p(t,["pipelineJob"]);B!=null&&g(e,["pipelineJob"],B);const k=p(t,["serviceAccount"]);k!=null&&g(e,["serviceAccount"],k);const R=p(t,["tunedModelDisplayName"]);return R!=null&&g(e,["tunedModelDisplayName"],R),e}function dke(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["tuningJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>EC(o))),g(e,["tuningJobs"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fke extends Xc{constructor(e){super(),this.apiClient=e,this.get=n=>P(this,null,function*(){return yield this.getInternal(n)}),this.list=(...r)=>P(this,[...r],function*(n={}){return new Ty(qc.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),yield this.listInternal(n),n)}),this.tune=n=>P(this,null,function*(){if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel},i=Object.assign(Object.assign({},n),{preTunedModel:r});return i.baseModel=void 0,yield this.tuneInternal(i)}else{const r=Object.assign({},n);return yield this.tuneInternal(r)}else{const r=Object.assign({},n),i=yield this.tuneMldevInternal(r);let s="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?s=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(s=i.name.split("/operations/")[0]),{name:s,state:pC.JOB_STATE_QUEUED}}})}getInternal(e){return P(this,null,function*(){var n,r,i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=ZDe(e);return l=ze("{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),o.then(f=>EC(f))}else{const d=HDe(e);return l=ze("{name}",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),o.then(f=>gK(f))}})}listInternal(e){return P(this,null,function*(){var n,r,i,s;let o,l="",u={};if(this.apiClient.isVertexAI()){const d=tke(e);return l=ze("tuningJobs",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),o.then(f=>{const m=dke(f),v=new MF;return Object.assign(v,m),v})}else{const d=WDe(e);return l=ze("tunedModels",d._url),u=d._query,delete d.config,delete d._url,delete d._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:f.headers},v})),o.then(f=>{const m=ake(f),v=new MF;return Object.assign(v,m),v})}})}tuneInternal(e){return P(this,null,function*(){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=ske(e);return s=ze("tuningJobs",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>EC(u))}else throw new Error("This method is only supported by the Vertex AI.")})}tuneMldevInternal(e){return P(this,null,function*(){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=XDe(e);return s=ze("tunedModels",l._url),o=l._query,delete l.config,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:u.headers},f})),i.then(u=>lke(u))}})}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hke{download(e,n){return P(this,null,function*(){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")})}}const mke=1024*1024*8,pke=3,gke=1e3,yke=2,sA="x-goog-upload-status";function vke(t,e,n){return P(this,null,function*(){var r,i,s;let o=0,l=0,u=new gC(new Response),d="upload";for(o=t.size;l<o;){const m=Math.min(mke,o-l),v=t.slice(l,l+m);l+m>=o&&(d+=", finalize");let b=0,T=gke;for(;b<pke&&(u=yield n.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(l),"Content-Length":String(m)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[sA]));)b++,yield bke(T),T=T*yke;if(l+=m,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[sA])!=="active")break;if(o<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const f=yield u==null?void 0:u.json();if(((s=u==null?void 0:u.headers)===null||s===void 0?void 0:s[sA])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file})}function xke(t){return P(this,null,function*(){return{size:t.size,type:t.type}})}function bke(t){return new Promise(e=>setTimeout(e,t))}class wke{upload(e,n,r){return P(this,null,function*(){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return yield vke(e,n,r)})}stat(e){return P(this,null,function*(){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return yield xke(e)})}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _ke{create(e,n,r){return new Tke(e,n,r)}}class Tke{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ij="x-goog-api-key";class Eke{constructor(e){this.apiKey=e}addAuthHeaders(e){return P(this,null,function*(){if(e.get(ij)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(ij,this.apiKey)}})}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ske="gl-node/";class Ake{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=l1e(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new Eke(this.apiKey);this.apiClient=new $2e({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Ske+"web",uploader:new wke,downloader:new hke}),this.models=new cDe(this.apiClient),this.live=new rDe(this.apiClient,i,new _ke),this.batches=new DCe(this.apiClient),this.chats=new FIe(this.models,this.apiClient),this.caches=new VIe(this.apiClient),this.files=new XIe(this.apiClient),this.operations=new mDe(this.apiClient),this.authTokens=new GDe(this.apiClient),this.tunings=new fke(this.apiClient)}}const Cke=new Ake({apiKey:"AIzaSyDZh7qHA0JRGDwdR-ODtq7y6vifBBZx538"}),Ike={type:Mi.ARRAY,items:{type:Mi.OBJECT,properties:{userId:{type:Mi.STRING,description:"The unique ID (string) of the matched user."},compatibilityScore:{type:Mi.NUMBER,description:"A score from 0 to 100 indicating the compatibility between the two users."},justification:{type:Mi.STRING,description:"A brief, one-sentence explanation for why this is a good match."}},required:["userId","compatibilityScore","justification"]}},Rke=(t,e)=>P(null,null,function*(){var i,s,o;const n="gemini-2.5-flash",r=`
        You are an expert co-founder matching AI. Your task is to find the best possible co-founders for a given user from a list of potential partners. Analyze the profiles carefully and return the top 5 matches based on role compatibility, shared interests, complementary skills, and stated goals.

        Current User Profile:
        - User ID: ${t.id}
        - Name: ${t.name}
        - Role: ${t.role}
        - Location: ${t.location}
        - Interests: ${t.interests.join(", ")}
        - Skills: ${t.skills.join(", ")}
        - Experience: ${t.experience}
        - Looking For: ${t.lookingFor}

        List of Potential Partners:
        ${e.map(l=>`
        ---
        User ID: ${l.id}
        Name: ${l.name}
        Role: ${l.role}
        Location: ${l.location}
        Interests: ${l.interests.join(", ")}
        Skills: ${l.skills.join(", ")}
        Experience: ${l.experience}
        Looking For: ${l.lookingFor}
        `).join("")}

        Based on this information, provide a ranked list of the top 5 most compatible partners for ${t.name}. Your response must be a JSON array of objects, conforming to the provided schema. The justification should be concise and highlight the key reason for the match.
    `;try{const u=(yield Cke.models.generateContent({model:n,contents:r,config:{temperature:0,responseMimeType:"application/json",responseSchema:Ike}})).text.trim();return{matches:JSON.parse(u).sort((f,m)=>m.compatibilityScore-f.compatibilityScore),isFallback:!1}}catch(l){if(console.error("Error calling Gemini API:",l),((i=l==null?void 0:l.error)==null?void 0:i.code)===429||(s=l==null?void 0:l.message)!=null&&s.includes("quota")||(o=l==null?void 0:l.message)!=null&&o.includes("RESOURCE_EXHAUSTED"))return console.warn("Gemini API quota exceeded. Using fallback matching algorithm."),{matches:Pke(t,e),isFallback:!0};throw new Error("Failed to fetch matches from the AI. The Gemini API key may be invalid or there could be a network issue.")}}),Pke=(t,e)=>e.filter(s=>s.id!==t.id).map(s=>{let o=50;t.role!==s.role&&(o+=20),t.location&&s.location&&t.location.toLowerCase()===s.location.toLowerCase()&&(o+=15);const l=t.skills.filter(d=>s.skills.includes(d));o+=l.length*5;const u=t.interests.filter(d=>s.interests.includes(d));return o+=u.length*3,o=Math.min(o,100),{user:s,score:o,justification:Nke(t,s)}}).sort((s,o)=>o.score-s.score).slice(0,5).map(s=>({userId:s.user.id,compatibilityScore:s.score,justification:s.justification})),Nke=(t,e,n)=>{const r=[];return t.role!==e.role&&r.push("complementary roles"),t.location&&e.location&&t.location.toLowerCase()===e.location.toLowerCase()&&r.push("same location"),t.skills.filter(o=>e.skills.includes(o)).length>0&&r.push("shared skills"),t.interests.filter(o=>e.interests.includes(o)).length>0&&r.push("shared interests"),r.length===0?"Good potential match based on profile analysis.":`Strong match due to ${r.join(", ")}.`},_l={trackUserActivity:(t,e,n)=>P(null,null,function*(){try{const r={userId:t,action:e,timestamp:new Date};n!==void 0&&(r.metadata=n),yield Ne.collection("user_activities").add(r)}catch(r){console.error("Error tracking user activity:",r)}}),startUserSession:t=>P(null,null,function*(){try{const e={userId:t,startTime:new Date},n=yield Ne.collection("user_sessions").add(e);return yield _l.trackUserActivity(t,"login"),n.id}catch(e){throw console.error("Error starting user session:",e),e}}),endUserSession:(t,e)=>P(null,null,function*(){try{const n=Ne.collection("user_sessions").doc(t),r=yield n.get();if(r.exists){const i=r.data(),s=new Date,o=Math.round((s.getTime()-i.startTime.getTime())/(1e3*60));yield n.update({endTime:s,duration:o}),yield _l.trackUserActivity(e,"logout")}}catch(n){console.error("Error ending user session:",n)}}),trackMatch:(t,e,n)=>P(null,null,function*(){try{const r={userId:t,matchedUserId:e,timestamp:new Date,compatibilityScore:n,status:"pending"},i=yield Ne.collection("match_records").add(r);return yield _l.trackUserActivity(t,"find_matches",{matchedUserId:e,compatibilityScore:n}),i.id}catch(r){throw console.error("Error tracking match:",r),r}}),updateMatchStatus:(t,e)=>P(null,null,function*(){try{yield Ne.collection("match_records").doc(t).update({status:e})}catch(n){console.error("Error updating match status:",n)}}),getAnalyticsData:()=>P(null,null,function*(){try{const t=new Date,e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(t.getFullYear(),t.getMonth(),1),r=new Date(t.getTime()-10080*60*1e3),s=(yield Ne.collection("users").get()).size,o=yield Ne.collection("user_activities").where("timestamp",">=",e).get(),l=new Set;o.forEach(k=>{l.add(k.data().userId)});const u=l.size,d=yield Ne.collection("user_activities").where("timestamp",">=",n).get(),f=new Set;d.forEach(k=>{f.add(k.data().userId)});const m=f.size,v=yield Ne.collection("user_sessions").where("duration",">",0).get();let b=0,T=0;v.forEach(k=>{const R=k.data();R.duration&&(b+=R.duration,T++)});const S=T>0?Math.round(b/T):0,A=yield Ne.collection("match_records").get(),C=A.size;let D=0;A.forEach(k=>{k.data().status==="connected"&&D++});const N=C>0?Math.round(D/C*100*10)/10:0,F=[],V=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];for(let k=6;k>=0;k--){const R=new Date(t.getTime()-k*24*60*60*1e3),O=new Date(R.getFullYear(),R.getMonth(),R.getDate()),j=new Date(O.getTime()+1440*60*1e3),q=yield Ne.collection("user_activities").where("timestamp",">=",O).where("timestamp","<",j).get(),H=new Set;q.forEach(G=>{H.add(G.data().userId)}),F.push({name:V[R.getDay()],users:H.size})}const B=[];for(let k=3;k>=0;k--){const R=new Date(t.getTime()-(k+1)*7*24*60*60*1e3),O=new Date(t.getTime()-k*7*24*60*60*1e3),j=yield Ne.collection("match_records").where("timestamp",">=",R).where("timestamp","<",O).get();let q=0,H=0;j.forEach(he=>{const we=he.data();H++,we.status==="connected"&&q++});const G=H>0?Math.round(q/H*100*10)/10:0;B.push({name:`Week ${4-k}`,rate:G})}return{userEngagement:{dailyActiveUsers:u||Math.floor(s*.3),monthlyActiveUsers:m||Math.floor(s*.8),averageSessionDuration:S||15},matchSuccess:{totalMatchesMade:C,successfulConnections:D,successRate:N},platformPerformance:{dau_data:F.length>0?F:[{name:"Mon",users:Math.floor(s*.2)},{name:"Tue",users:Math.floor(s*.25)},{name:"Wed",users:Math.floor(s*.22)},{name:"Thu",users:Math.floor(s*.28)},{name:"Fri",users:Math.floor(s*.35)},{name:"Sat",users:Math.floor(s*.4)},{name:"Sun",users:Math.floor(s*.3)}],match_rate_data:B.length>0?B:[{name:"Week 1",rate:15},{name:"Week 2",rate:18},{name:"Week 3",rate:22},{name:"Week 4",rate:20}]}}}catch(t){console.error("Error getting analytics data:",t);const n=(yield Ne.collection("users").get()).size;return{userEngagement:{dailyActiveUsers:Math.floor(n*.3),monthlyActiveUsers:Math.floor(n*.8),averageSessionDuration:15},matchSuccess:{totalMatchesMade:0,successfulConnections:0,successRate:0},platformPerformance:{dau_data:[{name:"Mon",users:Math.floor(n*.2)},{name:"Tue",users:Math.floor(n*.25)},{name:"Wed",users:Math.floor(n*.22)},{name:"Thu",users:Math.floor(n*.28)},{name:"Fri",users:Math.floor(n*.35)},{name:"Sat",users:Math.floor(n*.4)},{name:"Sun",users:Math.floor(n*.3)}],match_rate_data:[{name:"Week 1",rate:15},{name:"Week 2",rate:18},{name:"Week 3",rate:22},{name:"Week 4",rate:20}]}}}})};function sj(){return typeof navigator!="undefined"&&(/wv/.test(navigator.userAgent)||/Android/.test(navigator.userAgent)&&/Version\//.test(navigator.userAgent))}function oj(){return new URLSearchParams(window.location.search).get("token")}const Mke=()=>{M.useEffect(()=>{const Ue=()=>{const Ye=window.location.pathname;Ye.endsWith("/Grow-With-Me-AI/")||Ye==="/Grow-With-Me-AI/"?n(Ie.LANDING):Ye.endsWith("/Grow-With-Me-AI/auth")&&n(Ie.AUTH)};return window.addEventListener("popstate",Ue),()=>window.removeEventListener("popstate",Ue)},[]),M.useEffect(()=>{if(typeof window!="undefined"&&(window.navigator.userAgent.includes("Android")||window.navigator.userAgent.includes("Mobile")||window.navigator.userAgent.includes("iPhone")||window.navigator.userAgent.includes("iPad")))try{typeof window!="undefined"&&(window.navigator.userAgent.includes("Android")||window.navigator.userAgent.includes("Mobile"))&&console.log("Mobile environment detected, mobile features may be available")}catch(Ze){console.warn("Mobile features not available:",Ze)}const Ye=oj();if(Ye){const Ze=At.auth.GoogleAuthProvider.credential(Ye);yl.signInWithCredential(Ze).then(st=>{i(st.user),we(!1),V(!1)}).catch(st=>{console.error("Native sign-in failed:",st),O("Native sign-in failed: "+(st&&st.message?st.message:JSON.stringify(st))),V(!1)})}},[]);const t=(()=>{const Ue=window.location.pathname;return Ue==="/Grow-With-Me-AI/auth"||Ue==="/Grow-With-Me-AI/auth/"?Ie.AUTH:Ie.LANDING})(),[e,n]=M.useState(t),[r,i]=M.useState(null),[s,o]=M.useState(null),[l,u]=M.useState(!1),[d,f]=M.useState(!1),[m,v]=M.useState(null),[b,T]=M.useState(!1),[S,A]=M.useState(null),C=M.useRef(S);M.useEffect(()=>{C.current=S},[S]),M.useEffect(()=>(window.setNativeUser=(Ue,Ye,Ze,st)=>{A({idToken:Ue,name:Ye,email:Ze,avatarUrl:st})},()=>{delete window.setNativeUser}),[]);const[D,N]=M.useState([]),[F,V]=M.useState(!0),[B,k]=M.useState(!1),[R,O]=M.useState(null),[j,q]=M.useState(""),[H,G]=M.useState(null),[he,we]=M.useState(!1),[Q,ae]=M.useState(null),[Z,Ee]=M.useState(!1),[K,ue]=M.useState(0),[ce,fe]=M.useState(0),[Ce,Ve]=M.useState(0),[$e,_e]=M.useState(null),[ct,Ae]=M.useState([]),[Se,ke]=M.useState(null),[de,Mt]=M.useState([]),[lt,Xt]=M.useState([]),[hn,mn]=M.useState([]),[Na,cu]=M.useState(null),ji=F7.apiKey.startsWith("REPLACE_"),pn=M.useCallback(Ue=>{O(null),n(Ue)},[]);M.useEffect(()=>{if(r&&!r.isAnonymous&&s){const Ue={[Ie.LANDING]:"logout",[Ie.AUTH]:"login",[Ie.ONBOARDING]:"login",[Ie.DASHBOARD]:"find_matches",[Ie.ANALYTICS]:"view_profile",[Ie.MESSAGES]:"send_message",[Ie.IDEAS]:"view_ideas",[Ie.PEOPLE]:"view_profile",[Ie.REQUESTS]:"view_ideas",[Ie.NEGOTIATIONS]:"view_profile"};Ue[e]&&_l.trackUserActivity(s.id,Ue[e],{view:e}).catch(Ye=>console.error("Error tracking navigation:",Ye))}},[e,r,s]),M.useEffect(()=>{if(s!=null&&s.id&&!he){const Ue=Ne.collection("users").doc(s.id).onSnapshot(Ye=>P(null,null,function*(){const Ze=Ye.data(),st=Y(Y({},s),Ze);if(o(st),st.connections){const et=yield We.getConnections(st.connections);mn(et)}else mn([])}));return()=>Ue()}},[s==null?void 0:s.id,he]),M.useEffect(()=>{if(s&&!he){const Ue=Ne.collection("chats").where("participants","array-contains",s.id).onSnapshot(Ye=>P(null,null,function*(){const Ze=yield Promise.all(Ye.docs.map(st=>P(null,null,function*(){const et=st.data(),gr=et.participants.find(gi=>gi!==s.id),pi=yield We.getUserProfile(gr);return{id:st.id,participants:et.participants,lastMessage:et.lastMessage,unreadCounts:et.unreadCounts,participantDetails:[pi].filter(Boolean)}})));Ae(Ze)}));return()=>Ue()}},[s,he]),M.useEffect(()=>{if(ji||he){V(!1);return}if(sj()&&C.current){const{idToken:Ze,name:st,email:et,avatarUrl:gr}=C.current,pi={id:et,name:st,email:et,avatarUrl:gr||`https://api.dicebear.com/8.x/bottts/svg?seed=${et}`,connections:[],role:yt.Founder,location:"",skills:[],interests:[],lookingFor:""};o(pi),i(null),V(!1),pi.role?pn(Ie.DASHBOARD):pn(Ie.ONBOARDING);return}let Ue=()=>{};return P(null,null,function*(){V(!0);try{yield yl.setPersistence(At.auth.Auth.Persistence.LOCAL)}catch(Ze){console.error("Firebase Auth persistence setup error:",Ze),O("Your browser does not support authentication. This may be due to private browsing settings. Please try a different browser or continue as a guest."),V(!1);return}Ue=yl.onAuthStateChanged(Ze=>P(null,null,function*(){if(V(!0),Ze&&!H){i(Ze);let st=yield We.getUserProfile(Ze.uid);if(st||(yield We.createUserProfile(Ze.uid,{email:Ze.email||"",name:Ze.displayName||"",avatarUrl:Ze.photoURL||"",connections:[],role:yt.Founder,location:"",skills:[],interests:[],lookingFor:""}),st=yield We.getUserProfile(Ze.uid)),st){if(o(st),!Ze.isAnonymous)try{const et=yield _l.startUserSession(Ze.uid);_e(et)}catch(et){console.error("Error starting user session:",et)}pn(Ie.DASHBOARD)}else pn(Ie.ONBOARDING)}else{if($e&&r&&!r.isAnonymous)try{yield _l.endUserSession($e,r.uid)}catch(et){console.error("Error ending user session:",et)}i(null),o(null),N([]),q(""),_e(null);const st=window.location.pathname;pn(st==="/Grow-With-Me-AI/auth"||st==="/Grow-With-Me-AI/auth/"?Ie.AUTH:Ie.LANDING)}V(!1)}))}),()=>Ue()},[ji,he,pn,H,S]);const ed=()=>P(null,null,function*(){var Ue;if(O(null),ji){G("keys-missing");return}try{V(!0);let Ye;if(Ye=yield Xee(),console.log("Google Sign-In response:",Ye),Ye&&Ye.idToken&&!yl.currentUser){const Ze=At.auth.GoogleAuthProvider.credential(Ye.idToken);yield yl.signInWithCredential(Ze)}}catch(Ye){console.error("Authentication error:",Ye),(Ue=Ye.message)!=null&&Ue.includes("cancelled")?O("The sign-in process was cancelled."):O("An error occurred during sign-in. Please try again."),V(!1)}}),Ma=()=>{console.log("Entering guest mode.");const Ue={uid:`guest_${Date.now()}`,photoURL:"https://api.dicebear.com/8.x/bottts/svg?seed=guest",isAnonymous:!0};we(!0),i(Ue),pn(Ie.ONBOARDING),V(!1)},du=()=>P(null,null,function*(){he?(console.log("Logging out from guest mode session."),we(!1),i(null),o(null),N([]),q(""),window.history.pushState({},"","/Grow-With-Me-AI/"),pn(Ie.LANDING)):(yield yl.signOut(),typeof window!="undefined"&&window.AndroidBridge&&typeof window.AndroidBridge.signOutFromGoogle=="function"&&window.AndroidBridge.signOutFromGoogle())}),[td,Zt]=M.useState(!1),Rt=Ue=>P(null,null,function*(){var Ye;if(r){Zt(!0),O(null);try{const Ze=xe(Y({id:r.uid},Ue),{avatarUrl:r.photoURL||`https://api.dicebear.com/8.x/bottts/svg?seed=${r.uid}`,connections:[]});if(he)console.log("Guest mode: Storing profile locally."),o(Ze),pn(Ie.DASHBOARD);else{yield We.createUserProfile(r.uid,xe(Y({},Ue),{avatarUrl:Ze.avatarUrl,connections:[]}));const st=oj();if(st&&typeof window!="undefined"&&(window.location.search.includes("token")||sj())){window.location.replace(`${window.location.origin}${window.location.pathname}?token=${st}`);return}else{yield(Ye=yl.currentUser)==null?void 0:Ye.reload();const et=yl.currentUser;if(et){i(et);const gr=yield We.getUserProfile(et.uid);o(gr),pn(Ie.DASHBOARD)}else O("Session lost after onboarding. Please sign in again."),pn(Ie.LANDING)}}}catch(Ze){console.error("Onboarding error:",Ze),O("Failed to complete onboarding. Please try again.")}finally{Zt(!1)}}}),ir=M.useCallback(()=>P(null,null,function*(){if(s){k(!0),O(null),N([]);try{let Ue;he?(console.log("Guest mode: Using dummy data for matches."),Ue=i1e.filter(et=>et.id!==s.id)):Ue=yield We.getUsers(s.id);const{matches:Ye,isFallback:Ze}=yield Rke(s,Ue);Ze&&console.log("Fallback matching algorithm was used due to API quota limits.");const st=yield Promise.all(Ye.map(et=>P(null,null,function*(){const gr=Ue.find(gi=>gi.id===et.userId);if(!gr)return null;const pi=yield We.getConnectionStatus(s.id,gr.id);return xe(Y({},et),{user:gr,isConnected:pi.isConnected,isPending:pi.isPending})}))).then(et=>et.filter(gr=>gr!==null));if(!he&&r&&!r.isAnonymous)try{for(const et of Ye)yield _l.trackMatch(s.id,et.userId,et.compatibilityScore)}catch(et){console.error("Error tracking matches:",et)}N(st)}catch(Ue){console.error("Error finding matches:",Ue);const Ye=Ue instanceof Error?Ue.message:"Sorry, we couldn't find matches at the moment. Please try again later.";O(Ye)}finally{k(!1)}}}),[s,he]);M.useEffect(()=>{s&&e===Ie.DASHBOARD&&D.length===0&&!B&&ir()},[s,e,D.length,B,ir]);const sr=M.useCallback(()=>P(null,null,function*(){Ee(!0);try{const Ue=_l.getAnalyticsData(),Ye=Ne.collection("ideas").get({source:"cache"}),Ze=Ne.collection("negotiations").get({source:"cache"}),st=Ne.collection("negotiations").where("status","==","accepted").get({source:"cache"});Ue.then(ae),Ye.then(et=>ue(et.size)),Ze.then(et=>fe(et.size)),st.then(et=>Ve(et.size)),Ne.collection("ideas").get().then(et=>ue(et.size)),Ne.collection("negotiations").get().then(et=>fe(et.size)),Ne.collection("negotiations").where("status","==","accepted").get().then(et=>Ve(et.size)),yield Ue}catch(Ue){console.error("Error loading analytics data:",Ue)}finally{Ee(!1)}}),[]),Da=Ue=>{ke(Ue)},Gh=Ue=>P(null,null,function*(){if(s)try{yield We.removeConnection(s.id,Ue.id)}catch(Ye){console.error("Failed to remove connection:",Ye),O("Could not remove connection. Please try again.")}});M.useEffect(()=>{if(s&&!he){const Ue=We.getPendingConnectionRequests(s.id,Ze=>{Mt(Ze)}),Ye=We.getSentConnectionRequests(s.id,Ze=>{Xt(Ze)});return()=>{Ue(),Ye()}}else Mt([]),Xt([])},[s,he]),M.useEffect(()=>{s&&s.role==="Founder"&&We.getFounderIdeaEngagementAnalytics(s.id).then(cu)},[s]);const Vs=D.filter(Ue=>{if(!j)return!0;const Ye=Ue.user,Ze=j.toLowerCase();return Ye.name.toLowerCase().includes(Ze)||Ye.skills.some(st=>st.toLowerCase().includes(Ze))||Ye.interests.some(st=>st.toLowerCase().includes(Ze))});Ec.useEffect(()=>{const Ue=()=>pn(Ie.DASHBOARD);return window.addEventListener("navigate-dashboard",Ue),()=>window.removeEventListener("navigate-dashboard",Ue)},[pn]);const So=()=>{if(F&&!ji&&!H)return x.jsx("div",{className:"flex justify-center items-center h-screen",children:x.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-purple-500"})});switch(e){case Ie.LANDING:return x.jsx(One,{});case Ie.AUTH:return x.jsx(Une,{onGoogleLogin:ed,onGuestLogin:Ma,error:R,authUser:r});case Ie.ONBOARDING:return x.jsx(Fne,{onOnboardingComplete:Rt,userProfile:s,loading:td,error:R});case Ie.DASHBOARD:return s?x.jsx(U5,{user:s,matches:Vs,isLoading:B,error:R,onFindMatches:ir,searchQuery:j,setSearchQuery:q,hasActiveSearch:D.length>0,onMessage:Da,onRequestsUpdated:()=>{console.log("Requests updated")}}):null;case Ie.NEGOTIATIONS:return s?x.jsx(qAe,{user:s,setIsMobileNegotiationOpen:f,selectedNegotiationId:m,onNegotiationSelected:()=>v(null)}):null;case Ie.ANALYTICS:return!Q&&!Z&&sr(),Z?x.jsx("div",{className:"flex justify-center items-center h-64",children:x.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-purple-500"})}):Q?x.jsx(a$,{data:Q,founderEngagement:Na,totalIdeas:K,totalNegotiations:ce,totalDealsAccepted:Ce}):x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsx("div",{className:"text-white text-lg",children:"Unable to load analytics data"})});case Ie.MESSAGES:return s?x.jsx($Ae,{chats:ct,currentUser:s,connections:hn,setIsMobileChatOpen:u}):null;case Ie.IDEAS:return s?x.jsx(QAe,{user:s,onNavigateToNegotiation:Ue=>{v(Ue),n(Ie.NEGOTIATIONS)}}):null;case Ie.REQUESTS:return x.jsx(e1e,{incomingRequests:de,sentRequests:lt});case Ie.PEOPLE:return x.jsx(t1e,{currentUser:s,connections:hn,onMessage:Da,onRemoveConnection:Gh});default:return s?x.jsx(U5,{user:s,matches:Vs,isLoading:B,error:R,onFindMatches:ir,searchQuery:j,setSearchQuery:q,hasActiveSearch:D.length>0,onMessage:Da}):null}};return x.jsx(aY,{children:x.jsxs("div",{className:`bg-black font-sans flex ${e===Ie.MESSAGES||e===Ie.NEGOTIATIONS?"h-screen overflow-hidden":"min-h-screen"}`,children:[(ji||H==="unauthorized-domain")&&x.jsx(n1e,{isDomainError:H==="unauthorized-domain"}),e!==Ie.LANDING&&e!==Ie.AUTH&&x.jsx(r1e,{currentView:e,setView:pn,userProfile:s,onLogin:ed,onLogout:du,pendingRequestCount:de.length,isMobileChatOpen:l,isMobileNegotiationOpen:d}),x.jsx("main",{className:`flex-grow transition-all duration-300 ${e!==Ie.LANDING&&e!==Ie.AUTH?"ml-0 lg:ml-64":""} ${e===Ie.MESSAGES||e===Ie.NEGOTIATIONS?"p-0 overflow-hidden":"p-4 sm:p-8 pt-16 lg:pt-8"}`,children:So()}),b&&x.jsxs("div",{className:"fixed top-20 right-4 z-50 bg-amber-900/90 border border-amber-700/50 text-amber-100 px-4 py-3 rounded-lg shadow-lg backdrop-blur-sm max-w-sm",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-2 h-2 bg-amber-400 rounded-full animate-pulse"}),x.jsx("span",{className:"text-sm font-medium",children:"Using fallback matching due to high API usage"})]}),x.jsx("p",{className:"text-xs text-amber-200 mt-1",children:"Matches are still accurate but may be less personalized."})]})]})})},yK=document.getElementById("root");if(!yK)throw new Error("Could not find root element to mount to");const Dke=sY.createRoot(yK);Dke.render(x.jsx(Ec.StrictMode,{children:x.jsx(Mke,{})}))});export default kke();
